var tG=Object.defineProperty;var nG=(n,e,t)=>e in n?tG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var j=(n,e,t)=>(nG(n,typeof e!="symbol"?e+"":e,t),t);const rG=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}};rG();var Zf=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ZM={exports:{}},hs={},L={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp=Symbol.for("react.element"),iG=Symbol.for("react.portal"),sG=Symbol.for("react.fragment"),oG=Symbol.for("react.strict_mode"),aG=Symbol.for("react.profiler"),lG=Symbol.for("react.provider"),uG=Symbol.for("react.context"),cG=Symbol.for("react.forward_ref"),dG=Symbol.for("react.suspense"),fG=Symbol.for("react.memo"),hG=Symbol.for("react.lazy"),GA=Symbol.iterator;function pG(n){return n===null||typeof n!="object"?null:(n=GA&&n[GA]||n["@@iterator"],typeof n=="function"?n:null)}var JI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QI=Object.assign,$I={};function cf(n,e,t){this.props=n,this.context=e,this.refs=$I,this.updater=t||JI}cf.prototype.isReactComponent={};cf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};cf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function eL(){}eL.prototype=cf.prototype;function JM(n,e,t){this.props=n,this.context=e,this.refs=$I,this.updater=t||JI}var QM=JM.prototype=new eL;QM.constructor=JM;QI(QM,cf.prototype);QM.isPureReactComponent=!0;var jA=Array.isArray,tL=Object.prototype.hasOwnProperty,$M={current:null},nL={key:!0,ref:!0,__self:!0,__source:!0};function rL(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tL.call(e,r)&&!nL.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qp,type:n,key:s,ref:o,props:i,_owner:$M.current}}function mG(n,e){return{$$typeof:Qp,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function e1(n){return typeof n=="object"&&n!==null&&n.$$typeof===Qp}function gG(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var XA=/\/+/g;function V_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?gG(""+n.key):e.toString(36)}function Fv(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Qp:case iG:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+V_(o,0):r,jA(i)?(t="",n!=null&&(t=n.replace(XA,"$&/")+"/"),Fv(i,e,t,"",function(c){return c})):i!=null&&(e1(i)&&(i=mG(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(XA,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jA(n))for(var a=0;a<n.length;a++){s=n[a];var u=r+V_(s,a);o+=Fv(s,e,t,u,i)}else if(u=pG(n),typeof u=="function")for(n=u.call(n),a=0;!(s=n.next()).done;)s=s.value,u=r+V_(s,a++),o+=Fv(s,e,t,u,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ag(n,e,t){if(n==null)return n;var r=[],i=0;return Fv(n,r,"","",function(s){return e.call(t,s,i++)}),r}function vG(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ei={current:null},zv={transition:null},yG={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:zv,ReactCurrentOwner:$M};zt.Children={map:ag,forEach:function(n,e,t){ag(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ag(n,function(){e++}),e},toArray:function(n){return ag(n,function(e){return e})||[]},only:function(n){if(!e1(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};zt.Component=cf;zt.Fragment=sG;zt.Profiler=aG;zt.PureComponent=JM;zt.StrictMode=oG;zt.Suspense=dG;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yG;zt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=QI({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$M.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(u in e)tL.call(e,u)&&!nL.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=t;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qp,type:n.type,key:i,ref:s,props:r,_owner:o}};zt.createContext=function(n){return n={$$typeof:uG,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:lG,_context:n},n.Consumer=n};zt.createElement=rL;zt.createFactory=function(n){var e=rL.bind(null,n);return e.type=n,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(n){return{$$typeof:cG,render:n}};zt.isValidElement=e1;zt.lazy=function(n){return{$$typeof:hG,_payload:{_status:-1,_result:n},_init:vG}};zt.memo=function(n,e){return{$$typeof:fG,type:n,compare:e===void 0?null:e}};zt.startTransition=function(n){var e=zv.transition;zv.transition={};try{n()}finally{zv.transition=e}};zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zt.useCallback=function(n,e){return Ei.current.useCallback(n,e)};zt.useContext=function(n){return Ei.current.useContext(n)};zt.useDebugValue=function(){};zt.useDeferredValue=function(n){return Ei.current.useDeferredValue(n)};zt.useEffect=function(n,e){return Ei.current.useEffect(n,e)};zt.useId=function(){return Ei.current.useId()};zt.useImperativeHandle=function(n,e,t){return Ei.current.useImperativeHandle(n,e,t)};zt.useInsertionEffect=function(n,e){return Ei.current.useInsertionEffect(n,e)};zt.useLayoutEffect=function(n,e){return Ei.current.useLayoutEffect(n,e)};zt.useMemo=function(n,e){return Ei.current.useMemo(n,e)};zt.useReducer=function(n,e,t){return Ei.current.useReducer(n,e,t)};zt.useRef=function(n){return Ei.current.useRef(n)};zt.useState=function(n){return Ei.current.useState(n)};zt.useSyncExternalStore=function(n,e,t){return Ei.current.useSyncExternalStore(n,e,t)};zt.useTransition=function(){return Ei.current.useTransition()};zt.version="18.2.0";L.exports=zt;var Wo=L.exports,iL={exports:{}},sL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,K){var $=V.length;V.push(K);e:for(;0<$;){var re=$-1>>>1,le=V[re];if(0<i(le,K))V[re]=K,V[$]=le,$=re;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],$=V.pop();if($!==K){V[0]=$;e:for(var re=0,le=V.length,be=le>>>1;re<be;){var Te=2*(re+1)-1,ke=V[Te],ue=Te+1,gt=V[ue];if(0>i(ke,$))ue<le&&0>i(gt,ke)?(V[re]=gt,V[ue]=$,re=ue):(V[re]=ke,V[Te]=$,re=Te);else if(ue<le&&0>i(gt,$))V[re]=gt,V[ue]=$,re=ue;else break e}}return K}function i(V,K){var $=V.sortIndex-K.sortIndex;return $!==0?$:V.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,h=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var K=t(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=V)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=t(c)}}function S(V){if(y=!1,_(V),!v)if(t(u)!==null)v=!0,Z(M);else{var K=t(c);K!==null&&te(S,K.startTime-V)}}function M(V,K){v=!1,y&&(y=!1,w(T),T=-1),m=!0;var $=p;try{for(_(K),h=t(u);h!==null&&(!(h.expirationTime>K)||V&&!O());){var re=h.callback;if(typeof re=="function"){h.callback=null,p=h.priorityLevel;var le=re(h.expirationTime<=K);K=n.unstable_now(),typeof le=="function"?h.callback=le:h===t(u)&&r(u),_(K)}else r(u);h=t(u)}if(h!==null)var be=!0;else{var Te=t(c);Te!==null&&te(S,Te.startTime-K),be=!1}return be}finally{h=null,p=$,m=!1}}var C=!1,A=null,T=-1,R=5,D=-1;function O(){return!(n.unstable_now()-D<R)}function Y(){if(A!==null){var V=n.unstable_now();D=V;var K=!0;try{K=A(!0,V)}finally{K?ie():(C=!1,A=null)}}else C=!1}var ie;if(typeof b=="function")ie=function(){b(Y)};else if(typeof MessageChannel!="undefined"){var U=new MessageChannel,G=U.port2;U.port1.onmessage=Y,ie=function(){G.postMessage(null)}}else ie=function(){x(Y,0)};function Z(V){A=V,C||(C=!0,ie())}function te(V,K){T=x(function(){V(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,Z(M))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(V){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var $=p;p=K;try{return V()}finally{p=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var $=p;p=V;try{return K()}finally{p=$}},n.unstable_scheduleCallback=function(V,K,$){var re=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?re+$:re):$=re,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=$+le,V={id:f++,callback:K,priorityLevel:V,startTime:$,expirationTime:le,sortIndex:-1},$>re?(V.sortIndex=$,e(c,V),t(u)===null&&V===t(c)&&(y?(w(T),T=-1):y=!0,te(S,$-re))):(V.sortIndex=le,e(u,V),v||m||(v=!0,Z(M))),V},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(V){var K=p;return function(){var $=p;p=K;try{return V.apply(this,arguments)}finally{p=$}}}})(sL);iL.exports=sL;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oL=L.exports,fs=iL.exports;function Ee(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aL=new Set,np={};function ec(n,e){Bd(n,e),Bd(n+"Capture",e)}function Bd(n,e){for(np[n]=e,n=0;n<e.length;n++)aL.add(e[n])}var La=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),zw=Object.prototype.hasOwnProperty,xG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qA={},KA={};function _G(n){return zw.call(KA,n)?!0:zw.call(qA,n)?!1:xG.test(n)?KA[n]=!0:(qA[n]=!0,!1)}function bG(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function wG(n,e,t,r){if(e===null||typeof e=="undefined"||bG(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ti(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){jr[n]=new Ti(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];jr[e]=new Ti(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){jr[n]=new Ti(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){jr[n]=new Ti(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){jr[n]=new Ti(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){jr[n]=new Ti(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){jr[n]=new Ti(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){jr[n]=new Ti(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){jr[n]=new Ti(n,5,!1,n.toLowerCase(),null,!1,!1)});var t1=/[\-:]([a-z])/g;function n1(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(t1,n1);jr[e]=new Ti(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(t1,n1);jr[e]=new Ti(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(t1,n1);jr[e]=new Ti(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){jr[n]=new Ti(n,1,!1,n.toLowerCase(),null,!1,!1)});jr.xlinkHref=new Ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){jr[n]=new Ti(n,1,!1,n.toLowerCase(),null,!0,!0)});function r1(n,e,t,r){var i=jr.hasOwnProperty(e)?jr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wG(e,t,i,r)&&(t=null),r||i===null?_G(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var za=oL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lg=Symbol.for("react.element"),sd=Symbol.for("react.portal"),od=Symbol.for("react.fragment"),i1=Symbol.for("react.strict_mode"),Uw=Symbol.for("react.profiler"),lL=Symbol.for("react.provider"),uL=Symbol.for("react.context"),s1=Symbol.for("react.forward_ref"),Hw=Symbol.for("react.suspense"),Ww=Symbol.for("react.suspense_list"),o1=Symbol.for("react.memo"),hl=Symbol.for("react.lazy"),cL=Symbol.for("react.offscreen"),YA=Symbol.iterator;function Jf(n){return n===null||typeof n!="object"?null:(n=YA&&n[YA]||n["@@iterator"],typeof n=="function"?n:null)}var Vn=Object.assign,G_;function Sh(n){if(G_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);G_=e&&e[1]||""}return`
`+G_+n}var j_=!1;function X_(n,e){if(!n||j_)return"";j_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=o&&0<=a);break}}}finally{j_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Sh(n):""}function SG(n){switch(n.tag){case 5:return Sh(n.type);case 16:return Sh("Lazy");case 13:return Sh("Suspense");case 19:return Sh("SuspenseList");case 0:case 2:case 15:return n=X_(n.type,!1),n;case 11:return n=X_(n.type.render,!1),n;case 1:return n=X_(n.type,!0),n;default:return""}}function Vw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case od:return"Fragment";case sd:return"Portal";case Uw:return"Profiler";case i1:return"StrictMode";case Hw:return"Suspense";case Ww:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case uL:return(n.displayName||"Context")+".Consumer";case lL:return(n._context.displayName||"Context")+".Provider";case s1:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case o1:return e=n.displayName||null,e!==null?e:Vw(n.type)||"Memo";case hl:e=n._payload,n=n._init;try{return Vw(n(e))}catch{}}return null}function MG(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vw(e);case 8:return e===i1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function dL(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EG(n){var e=dL(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ug(n){n._valueTracker||(n._valueTracker=EG(n))}function fL(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=dL(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function x0(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function Gw(n,e){var t=e.checked;return Vn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function ZA(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Bl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hL(n,e){e=e.checked,e!=null&&r1(n,"checked",e,!1)}function jw(n,e){hL(n,e);var t=Bl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Xw(n,e.type,t):e.hasOwnProperty("defaultValue")&&Xw(n,e.type,Bl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function JA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Xw(n,e,t){(e!=="number"||x0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Mh=Array.isArray;function Sd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Bl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function qw(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Vn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function QA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ee(92));if(Mh(t)){if(1<t.length)throw Error(Ee(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Bl(t)}}function pL(n,e){var t=Bl(e.value),r=Bl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function $A(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function mL(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?mL(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var cg,gL=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(cg=cg||document.createElement("div"),cg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function rp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Lh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TG=["Webkit","ms","Moz","O"];Object.keys(Lh).forEach(function(n){TG.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Lh[e]=Lh[n]})});function vL(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Lh.hasOwnProperty(n)&&Lh[n]?(""+e).trim():e+"px"}function yL(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=vL(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var CG=Vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yw(n,e){if(e){if(CG[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function Zw(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jw=null;function a1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qw=null,Md=null,Ed=null;function eR(n){if(n=tm(n)){if(typeof Qw!="function")throw Error(Ee(280));var e=n.stateNode;e&&(e=Ny(e),Qw(n.stateNode,n.type,e))}}function xL(n){Md?Ed?Ed.push(n):Ed=[n]:Md=n}function _L(){if(Md){var n=Md,e=Ed;if(Ed=Md=null,eR(n),e)for(n=0;n<e.length;n++)eR(e[n])}}function bL(n,e){return n(e)}function wL(){}var q_=!1;function SL(n,e,t){if(q_)return n(e,t);q_=!0;try{return bL(n,e,t)}finally{q_=!1,(Md!==null||Ed!==null)&&(wL(),_L())}}function ip(n,e){var t=n.stateNode;if(t===null)return null;var r=Ny(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ee(231,e,typeof t));return t}var $w=!1;if(La)try{var Qf={};Object.defineProperty(Qf,"passive",{get:function(){$w=!0}}),window.addEventListener("test",Qf,Qf),window.removeEventListener("test",Qf,Qf)}catch{$w=!1}function AG(n,e,t,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(f){this.onError(f)}}var kh=!1,_0=null,b0=!1,eS=null,RG={onError:function(n){kh=!0,_0=n}};function PG(n,e,t,r,i,s,o,a,u){kh=!1,_0=null,AG.apply(RG,arguments)}function DG(n,e,t,r,i,s,o,a,u){if(PG.apply(this,arguments),kh){if(kh){var c=_0;kh=!1,_0=null}else throw Error(Ee(198));b0||(b0=!0,eS=c)}}function tc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function ML(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function tR(n){if(tc(n)!==n)throw Error(Ee(188))}function IG(n){var e=n.alternate;if(!e){if(e=tc(n),e===null)throw Error(Ee(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return tR(i),n;if(s===r)return tR(i),e;s=s.sibling}throw Error(Ee(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ee(189))}}if(t.alternate!==r)throw Error(Ee(190))}if(t.tag!==3)throw Error(Ee(188));return t.stateNode.current===t?n:e}function EL(n){return n=IG(n),n!==null?TL(n):null}function TL(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=TL(n);if(e!==null)return e;n=n.sibling}return null}var CL=fs.unstable_scheduleCallback,nR=fs.unstable_cancelCallback,LG=fs.unstable_shouldYield,kG=fs.unstable_requestPaint,or=fs.unstable_now,NG=fs.unstable_getCurrentPriorityLevel,l1=fs.unstable_ImmediatePriority,AL=fs.unstable_UserBlockingPriority,w0=fs.unstable_NormalPriority,OG=fs.unstable_LowPriority,RL=fs.unstable_IdlePriority,Dy=null,Bo=null;function BG(n){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(Dy,n,void 0,(n.current.flags&128)===128)}catch{}}var fo=Math.clz32?Math.clz32:UG,FG=Math.log,zG=Math.LN2;function UG(n){return n>>>=0,n===0?32:31-(FG(n)/zG|0)|0}var dg=64,fg=4194304;function Eh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function S0(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Eh(a):(s&=o,s!==0&&(r=Eh(s)))}else o=t&~i,o!==0?r=Eh(o):s!==0&&(r=Eh(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-fo(e),i=1<<t,r|=n[t],e&=~i;return r}function HG(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WG(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-fo(s),a=1<<o,u=i[o];u===-1?((a&t)===0||(a&r)!==0)&&(i[o]=HG(a,e)):u<=e&&(n.expiredLanes|=a),s&=~a}}function tS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function PL(){var n=dg;return dg<<=1,(dg&4194240)===0&&(dg=64),n}function K_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function $p(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-fo(e),n[e]=t}function VG(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-fo(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function u1(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-fo(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var cn=0;function DL(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var IL,c1,LL,kL,NL,nS=!1,hg=[],Tl=null,Cl=null,Al=null,sp=new Map,op=new Map,xl=[],GG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rR(n,e){switch(n){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":sp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":op.delete(e.pointerId)}}function $f(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=tm(e),e!==null&&c1(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function jG(n,e,t,r,i){switch(e){case"focusin":return Tl=$f(Tl,n,e,t,r,i),!0;case"dragenter":return Cl=$f(Cl,n,e,t,r,i),!0;case"mouseover":return Al=$f(Al,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return sp.set(s,$f(sp.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,op.set(s,$f(op.get(s)||null,n,e,t,r,i)),!0}return!1}function OL(n){var e=Au(n.target);if(e!==null){var t=tc(e);if(t!==null){if(e=t.tag,e===13){if(e=ML(t),e!==null){n.blockedOn=e,NL(n.priority,function(){LL(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Uv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=rS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Jw=r,t.target.dispatchEvent(r),Jw=null}else return e=tm(t),e!==null&&c1(e),n.blockedOn=t,!1;e.shift()}return!0}function iR(n,e,t){Uv(n)&&t.delete(e)}function XG(){nS=!1,Tl!==null&&Uv(Tl)&&(Tl=null),Cl!==null&&Uv(Cl)&&(Cl=null),Al!==null&&Uv(Al)&&(Al=null),sp.forEach(iR),op.forEach(iR)}function eh(n,e){n.blockedOn===e&&(n.blockedOn=null,nS||(nS=!0,fs.unstable_scheduleCallback(fs.unstable_NormalPriority,XG)))}function ap(n){function e(i){return eh(i,n)}if(0<hg.length){eh(hg[0],n);for(var t=1;t<hg.length;t++){var r=hg[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Tl!==null&&eh(Tl,n),Cl!==null&&eh(Cl,n),Al!==null&&eh(Al,n),sp.forEach(e),op.forEach(e),t=0;t<xl.length;t++)r=xl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<xl.length&&(t=xl[0],t.blockedOn===null);)OL(t),t.blockedOn===null&&xl.shift()}var Td=za.ReactCurrentBatchConfig,M0=!0;function qG(n,e,t,r){var i=cn,s=Td.transition;Td.transition=null;try{cn=1,d1(n,e,t,r)}finally{cn=i,Td.transition=s}}function KG(n,e,t,r){var i=cn,s=Td.transition;Td.transition=null;try{cn=4,d1(n,e,t,r)}finally{cn=i,Td.transition=s}}function d1(n,e,t,r){if(M0){var i=rS(n,e,t,r);if(i===null)ib(n,e,r,E0,t),rR(n,r);else if(jG(i,n,e,t,r))r.stopPropagation();else if(rR(n,r),e&4&&-1<GG.indexOf(n)){for(;i!==null;){var s=tm(i);if(s!==null&&IL(s),s=rS(n,e,t,r),s===null&&ib(n,e,r,E0,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else ib(n,e,r,null,t)}}var E0=null;function rS(n,e,t,r){if(E0=null,n=a1(r),n=Au(n),n!==null)if(e=tc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=ML(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return E0=n,null}function BL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NG()){case l1:return 1;case AL:return 4;case w0:case OG:return 16;case RL:return 536870912;default:return 16}default:return 16}}var Sl=null,f1=null,Hv=null;function FL(){if(Hv)return Hv;var n,e=f1,t=e.length,r,i="value"in Sl?Sl.value:Sl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Hv=i.slice(n,1<r?1-r:void 0)}function Wv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function pg(){return!0}function sR(){return!1}function ps(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pg:sR,this.isPropagationStopped=sR,this}return Vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=pg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=pg)},persist:function(){},isPersistent:pg}),e}var df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h1=ps(df),em=Vn({},df,{view:0,detail:0}),YG=ps(em),Y_,Z_,th,Iy=Vn({},em,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==th&&(th&&n.type==="mousemove"?(Y_=n.screenX-th.screenX,Z_=n.screenY-th.screenY):Z_=Y_=0,th=n),Y_)},movementY:function(n){return"movementY"in n?n.movementY:Z_}}),oR=ps(Iy),ZG=Vn({},Iy,{dataTransfer:0}),JG=ps(ZG),QG=Vn({},em,{relatedTarget:0}),J_=ps(QG),$G=Vn({},df,{animationName:0,elapsedTime:0,pseudoElement:0}),e6=ps($G),t6=Vn({},df,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),n6=ps(t6),r6=Vn({},df,{data:0}),aR=ps(r6),i6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a6(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=o6[n])?!!e[n]:!1}function p1(){return a6}var l6=Vn({},em,{key:function(n){if(n.key){var e=i6[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Wv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?s6[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p1,charCode:function(n){return n.type==="keypress"?Wv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Wv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),u6=ps(l6),c6=Vn({},Iy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lR=ps(c6),d6=Vn({},em,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p1}),f6=ps(d6),h6=Vn({},df,{propertyName:0,elapsedTime:0,pseudoElement:0}),p6=ps(h6),m6=Vn({},Iy,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),g6=ps(m6),v6=[9,13,27,32],m1=La&&"CompositionEvent"in window,Nh=null;La&&"documentMode"in document&&(Nh=document.documentMode);var y6=La&&"TextEvent"in window&&!Nh,zL=La&&(!m1||Nh&&8<Nh&&11>=Nh),uR=String.fromCharCode(32),cR=!1;function UL(n,e){switch(n){case"keyup":return v6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ad=!1;function x6(n,e){switch(n){case"compositionend":return HL(e);case"keypress":return e.which!==32?null:(cR=!0,uR);case"textInput":return n=e.data,n===uR&&cR?null:n;default:return null}}function _6(n,e){if(ad)return n==="compositionend"||!m1&&UL(n,e)?(n=FL(),Hv=f1=Sl=null,ad=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zL&&e.locale!=="ko"?null:e.data;default:return null}}var b6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dR(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!b6[n.type]:e==="textarea"}function WL(n,e,t,r){xL(r),e=T0(e,"onChange"),0<e.length&&(t=new h1("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Oh=null,lp=null;function w6(n){$L(n,0)}function Ly(n){var e=cd(n);if(fL(e))return n}function S6(n,e){if(n==="change")return e}var VL=!1;if(La){var Q_;if(La){var $_="oninput"in document;if(!$_){var fR=document.createElement("div");fR.setAttribute("oninput","return;"),$_=typeof fR.oninput=="function"}Q_=$_}else Q_=!1;VL=Q_&&(!document.documentMode||9<document.documentMode)}function hR(){Oh&&(Oh.detachEvent("onpropertychange",GL),lp=Oh=null)}function GL(n){if(n.propertyName==="value"&&Ly(lp)){var e=[];WL(e,lp,n,a1(n)),SL(w6,e)}}function M6(n,e,t){n==="focusin"?(hR(),Oh=e,lp=t,Oh.attachEvent("onpropertychange",GL)):n==="focusout"&&hR()}function E6(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ly(lp)}function T6(n,e){if(n==="click")return Ly(e)}function C6(n,e){if(n==="input"||n==="change")return Ly(e)}function A6(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var vo=typeof Object.is=="function"?Object.is:A6;function up(n,e){if(vo(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!zw.call(e,i)||!vo(n[i],e[i]))return!1}return!0}function pR(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mR(n,e){var t=pR(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=pR(t)}}function jL(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?jL(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function XL(){for(var n=window,e=x0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=x0(n.document)}return e}function g1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function R6(n){var e=XL(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&jL(t.ownerDocument.documentElement,t)){if(r!==null&&g1(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=mR(t,s);var o=mR(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var P6=La&&"documentMode"in document&&11>=document.documentMode,ld=null,iS=null,Bh=null,sS=!1;function gR(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;sS||ld==null||ld!==x0(r)||(r=ld,"selectionStart"in r&&g1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bh&&up(Bh,r)||(Bh=r,r=T0(iS,"onSelect"),0<r.length&&(e=new h1("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=ld)))}function mg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ud={animationend:mg("Animation","AnimationEnd"),animationiteration:mg("Animation","AnimationIteration"),animationstart:mg("Animation","AnimationStart"),transitionend:mg("Transition","TransitionEnd")},eb={},qL={};La&&(qL=document.createElement("div").style,"AnimationEvent"in window||(delete ud.animationend.animation,delete ud.animationiteration.animation,delete ud.animationstart.animation),"TransitionEvent"in window||delete ud.transitionend.transition);function ky(n){if(eb[n])return eb[n];if(!ud[n])return n;var e=ud[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in qL)return eb[n]=e[t];return n}var KL=ky("animationend"),YL=ky("animationiteration"),ZL=ky("animationstart"),JL=ky("transitionend"),QL=new Map,vR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(n,e){QL.set(n,e),ec(e,[n])}for(var tb=0;tb<vR.length;tb++){var nb=vR[tb],D6=nb.toLowerCase(),I6=nb[0].toUpperCase()+nb.slice(1);jl(D6,"on"+I6)}jl(KL,"onAnimationEnd");jl(YL,"onAnimationIteration");jl(ZL,"onAnimationStart");jl("dblclick","onDoubleClick");jl("focusin","onFocus");jl("focusout","onBlur");jl(JL,"onTransitionEnd");Bd("onMouseEnter",["mouseout","mouseover"]);Bd("onMouseLeave",["mouseout","mouseover"]);Bd("onPointerEnter",["pointerout","pointerover"]);Bd("onPointerLeave",["pointerout","pointerover"]);ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ec("onBeforeInput",["compositionend","keypress","textInput","paste"]);ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Th));function yR(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,DG(r,e,void 0,n),n.currentTarget=null}function $L(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;yR(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;yR(i,a,c),s=u}}}if(b0)throw n=eS,b0=!1,eS=null,n}function En(n,e){var t=e[cS];t===void 0&&(t=e[cS]=new Set);var r=n+"__bubble";t.has(r)||(e3(e,n,2,!1),t.add(r))}function rb(n,e,t){var r=0;e&&(r|=4),e3(t,n,r,e)}var gg="_reactListening"+Math.random().toString(36).slice(2);function cp(n){if(!n[gg]){n[gg]=!0,aL.forEach(function(t){t!=="selectionchange"&&(L6.has(t)||rb(t,!1,n),rb(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[gg]||(e[gg]=!0,rb("selectionchange",!1,e))}}function e3(n,e,t,r){switch(BL(e)){case 1:var i=qG;break;case 4:i=KG;break;default:i=d1}t=i.bind(null,e,t,n),i=void 0,!$w||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function ib(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Au(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}SL(function(){var c=s,f=a1(t),h=[];e:{var p=QL.get(n);if(p!==void 0){var m=h1,v=n;switch(n){case"keypress":if(Wv(t)===0)break e;case"keydown":case"keyup":m=u6;break;case"focusin":v="focus",m=J_;break;case"focusout":v="blur",m=J_;break;case"beforeblur":case"afterblur":m=J_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=oR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=JG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f6;break;case KL:case YL:case ZL:m=e6;break;case JL:m=p6;break;case"scroll":m=YG;break;case"wheel":m=g6;break;case"copy":case"cut":case"paste":m=n6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=lR}var y=(e&4)!==0,x=!y&&n==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var b=c,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,w!==null&&(S=ip(b,w),S!=null&&y.push(dp(b,S,_)))),x)break;b=b.return}0<y.length&&(p=new m(p,v,null,t,f),h.push({event:p,listeners:y}))}}if((e&7)===0){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Jw&&(v=t.relatedTarget||t.fromElement)&&(Au(v)||v[ka]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?Au(v):null,v!==null&&(x=tc(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=oR,S="onMouseLeave",w="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(y=lR,S="onPointerLeave",w="onPointerEnter",b="pointer"),x=m==null?p:cd(m),_=v==null?p:cd(v),p=new y(S,b+"leave",m,t,f),p.target=x,p.relatedTarget=_,S=null,Au(f)===c&&(y=new y(w,b+"enter",v,t,f),y.target=_,y.relatedTarget=x,S=y),x=S,m&&v)t:{for(y=m,w=v,b=0,_=y;_;_=Cc(_))b++;for(_=0,S=w;S;S=Cc(S))_++;for(;0<b-_;)y=Cc(y),b--;for(;0<_-b;)w=Cc(w),_--;for(;b--;){if(y===w||w!==null&&y===w.alternate)break t;y=Cc(y),w=Cc(w)}y=null}else y=null;m!==null&&xR(h,p,m,y,!1),v!==null&&x!==null&&xR(h,x,v,y,!0)}}e:{if(p=c?cd(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=S6;else if(dR(p))if(VL)M=C6;else{M=E6;var C=M6}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=T6);if(M&&(M=M(n,c))){WL(h,M,t,f);break e}C&&C(n,p,c),n==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Xw(p,"number",p.value)}switch(C=c?cd(c):window,n){case"focusin":(dR(C)||C.contentEditable==="true")&&(ld=C,iS=c,Bh=null);break;case"focusout":Bh=iS=ld=null;break;case"mousedown":sS=!0;break;case"contextmenu":case"mouseup":case"dragend":sS=!1,gR(h,t,f);break;case"selectionchange":if(P6)break;case"keydown":case"keyup":gR(h,t,f)}var A;if(m1)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ad?UL(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(zL&&t.locale!=="ko"&&(ad||T!=="onCompositionStart"?T==="onCompositionEnd"&&ad&&(A=FL()):(Sl=f,f1="value"in Sl?Sl.value:Sl.textContent,ad=!0)),C=T0(c,T),0<C.length&&(T=new aR(T,n,null,t,f),h.push({event:T,listeners:C}),A?T.data=A:(A=HL(t),A!==null&&(T.data=A)))),(A=y6?x6(n,t):_6(n,t))&&(c=T0(c,"onBeforeInput"),0<c.length&&(f=new aR("onBeforeInput","beforeinput",null,t,f),h.push({event:f,listeners:c}),f.data=A))}$L(h,e)})}function dp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function T0(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ip(n,t),s!=null&&r.unshift(dp(n,s,i)),s=ip(n,e),s!=null&&r.push(dp(n,s,i))),n=n.return}return r}function Cc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function xR(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ip(t,s),u!=null&&o.unshift(dp(t,u,a))):i||(u=ip(t,s),u!=null&&o.push(dp(t,u,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var k6=/\r\n?/g,N6=/\u0000|\uFFFD/g;function _R(n){return(typeof n=="string"?n:""+n).replace(k6,`
`).replace(N6,"")}function vg(n,e,t){if(e=_R(e),_R(n)!==e&&t)throw Error(Ee(425))}function C0(){}var oS=null,aS=null;function lS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uS=typeof setTimeout=="function"?setTimeout:void 0,O6=typeof clearTimeout=="function"?clearTimeout:void 0,bR=typeof Promise=="function"?Promise:void 0,B6=typeof queueMicrotask=="function"?queueMicrotask:typeof bR!="undefined"?function(n){return bR.resolve(null).then(n).catch(F6)}:uS;function F6(n){setTimeout(function(){throw n})}function sb(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),ap(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);ap(e)}function Rl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function wR(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ff=Math.random().toString(36).slice(2),Io="__reactFiber$"+ff,fp="__reactProps$"+ff,ka="__reactContainer$"+ff,cS="__reactEvents$"+ff,z6="__reactListeners$"+ff,U6="__reactHandles$"+ff;function Au(n){var e=n[Io];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ka]||t[Io]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=wR(n);n!==null;){if(t=n[Io])return t;n=wR(n)}return e}n=t,t=n.parentNode}return null}function tm(n){return n=n[Io]||n[ka],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function cd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ee(33))}function Ny(n){return n[fp]||null}var dS=[],dd=-1;function Xl(n){return{current:n}}function An(n){0>dd||(n.current=dS[dd],dS[dd]=null,dd--)}function _n(n,e){dd++,dS[dd]=n.current,n.current=e}var Fl={},oi=Xl(Fl),Ui=Xl(!1),Uu=Fl;function Fd(n,e){var t=n.type.contextTypes;if(!t)return Fl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Hi(n){return n=n.childContextTypes,n!=null}function A0(){An(Ui),An(oi)}function SR(n,e,t){if(oi.current!==Fl)throw Error(Ee(168));_n(oi,e),_n(Ui,t)}function t3(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ee(108,MG(n)||"Unknown",i));return Vn({},t,r)}function R0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Fl,Uu=oi.current,_n(oi,n),_n(Ui,Ui.current),!0}function MR(n,e,t){var r=n.stateNode;if(!r)throw Error(Ee(169));t?(n=t3(n,e,Uu),r.__reactInternalMemoizedMergedChildContext=n,An(Ui),An(oi),_n(oi,n)):An(Ui),_n(Ui,t)}var xa=null,Oy=!1,ob=!1;function n3(n){xa===null?xa=[n]:xa.push(n)}function H6(n){Oy=!0,n3(n)}function ql(){if(!ob&&xa!==null){ob=!0;var n=0,e=cn;try{var t=xa;for(cn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}xa=null,Oy=!1}catch(i){throw xa!==null&&(xa=xa.slice(n+1)),CL(l1,ql),i}finally{cn=e,ob=!1}}return null}var fd=[],hd=0,P0=null,D0=0,Rs=[],Ps=0,Hu=null,Ta=1,Ca="";function bu(n,e){fd[hd++]=D0,fd[hd++]=P0,P0=n,D0=e}function r3(n,e,t){Rs[Ps++]=Ta,Rs[Ps++]=Ca,Rs[Ps++]=Hu,Hu=n;var r=Ta;n=Ca;var i=32-fo(r)-1;r&=~(1<<i),t+=1;var s=32-fo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ta=1<<32-fo(e)+i|t<<i|r,Ca=s+n}else Ta=1<<s|t<<i|r,Ca=n}function v1(n){n.return!==null&&(bu(n,1),r3(n,1,0))}function y1(n){for(;n===P0;)P0=fd[--hd],fd[hd]=null,D0=fd[--hd],fd[hd]=null;for(;n===Hu;)Hu=Rs[--Ps],Rs[Ps]=null,Ca=Rs[--Ps],Rs[Ps]=null,Ta=Rs[--Ps],Rs[Ps]=null}var cs=null,ss=null,Ln=!1,ao=null;function i3(n,e){var t=Ds(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function ER(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,cs=n,ss=Rl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,cs=n,ss=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Hu!==null?{id:Ta,overflow:Ca}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ds(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,cs=n,ss=null,!0):!1;default:return!1}}function fS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function hS(n){if(Ln){var e=ss;if(e){var t=e;if(!ER(n,e)){if(fS(n))throw Error(Ee(418));e=Rl(t.nextSibling);var r=cs;e&&ER(n,e)?i3(r,t):(n.flags=n.flags&-4097|2,Ln=!1,cs=n)}}else{if(fS(n))throw Error(Ee(418));n.flags=n.flags&-4097|2,Ln=!1,cs=n}}}function TR(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;cs=n}function yg(n){if(n!==cs)return!1;if(!Ln)return TR(n),Ln=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!lS(n.type,n.memoizedProps)),e&&(e=ss)){if(fS(n))throw s3(),Error(Ee(418));for(;e;)i3(n,e),e=Rl(e.nextSibling)}if(TR(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ee(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ss=Rl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ss=null}}else ss=cs?Rl(n.stateNode.nextSibling):null;return!0}function s3(){for(var n=ss;n;)n=Rl(n.nextSibling)}function zd(){ss=cs=null,Ln=!1}function x1(n){ao===null?ao=[n]:ao.push(n)}var W6=za.ReactCurrentBatchConfig;function io(n,e){if(n&&n.defaultProps){e=Vn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var I0=Xl(null),L0=null,pd=null,_1=null;function b1(){_1=pd=L0=null}function w1(n){var e=I0.current;An(I0),n._currentValue=e}function pS(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Cd(n,e){L0=n,_1=pd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(zi=!0),n.firstContext=null)}function Os(n){var e=n._currentValue;if(_1!==n)if(n={context:n,memoizedValue:e,next:null},pd===null){if(L0===null)throw Error(Ee(308));pd=n,L0.dependencies={lanes:0,firstContext:n}}else pd=pd.next=n;return e}var Ru=null;function S1(n){Ru===null?Ru=[n]:Ru.push(n)}function o3(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,S1(e)):(t.next=i.next,i.next=t),e.interleaved=t,Na(n,r)}function Na(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var pl=!1;function M1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a3(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ra(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Pl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(qt&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Na(n,t)}return i=r.interleaved,i===null?(e.next=e,S1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Na(n,t)}function Vv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,u1(n,t)}}function CR(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function k0(n,e,t,r){var i=n.updateQueue;pl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,f=c=u=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(p=e,m=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=Vn({},h,p);break e;case 2:pl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,u=h):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vu|=o,n.lanes=o,n.memoizedState=h}}function AR(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ee(191,i));i.call(r)}}}var l3=new oL.Component().refs;function mS(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Vn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var By={isMounted:function(n){return(n=n._reactInternals)?tc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=bi(),i=Il(n),s=Ra(r,i);s.payload=e,t!=null&&(s.callback=t),e=Pl(n,s,i),e!==null&&(ho(e,n,i,r),Vv(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=bi(),i=Il(n),s=Ra(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Pl(n,s,i),e!==null&&(ho(e,n,i,r),Vv(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=bi(),r=Il(n),i=Ra(t,r);i.tag=2,e!=null&&(i.callback=e),e=Pl(n,i,r),e!==null&&(ho(e,n,r,t),Vv(e,n,r))}};function RR(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!up(t,r)||!up(i,s):!0}function u3(n,e,t){var r=!1,i=Fl,s=e.contextType;return typeof s=="object"&&s!==null?s=Os(s):(i=Hi(e)?Uu:oi.current,r=e.contextTypes,s=(r=r!=null)?Fd(n,i):Fl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=By,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function PR(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&By.enqueueReplaceState(e,e.state,null)}function gS(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=l3,M1(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Os(s):(s=Hi(e)?Uu:oi.current,i.context=Fd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mS(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&By.enqueueReplaceState(i,i.state,null),k0(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function nh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ee(309));var r=t.stateNode}if(!r)throw Error(Ee(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===l3&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ee(284));if(!t._owner)throw Error(Ee(290,n))}return n}function xg(n,e){throw n=Object.prototype.toString.call(e),Error(Ee(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function DR(n){var e=n._init;return e(n._payload)}function c3(n){function e(w,b){if(n){var _=w.deletions;_===null?(w.deletions=[b],w.flags|=16):_.push(b)}}function t(w,b){if(!n)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=Ll(w,b),w.index=0,w.sibling=null,w}function s(w,b,_){return w.index=_,n?(_=w.alternate,_!==null?(_=_.index,_<b?(w.flags|=2,b):_):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,b,_,S){return b===null||b.tag!==6?(b=hb(_,w.mode,S),b.return=w,b):(b=i(b,_),b.return=w,b)}function u(w,b,_,S){var M=_.type;return M===od?f(w,b,_.props.children,S,_.key):b!==null&&(b.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===hl&&DR(M)===b.type)?(S=i(b,_.props),S.ref=nh(w,b,_),S.return=w,S):(S=Yv(_.type,_.key,_.props,null,w.mode,S),S.ref=nh(w,b,_),S.return=w,S)}function c(w,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=pb(_,w.mode,S),b.return=w,b):(b=i(b,_.children||[]),b.return=w,b)}function f(w,b,_,S,M){return b===null||b.tag!==7?(b=Nu(_,w.mode,S,M),b.return=w,b):(b=i(b,_),b.return=w,b)}function h(w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=hb(""+b,w.mode,_),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lg:return _=Yv(b.type,b.key,b.props,null,w.mode,_),_.ref=nh(w,null,b),_.return=w,_;case sd:return b=pb(b,w.mode,_),b.return=w,b;case hl:var S=b._init;return h(w,S(b._payload),_)}if(Mh(b)||Jf(b))return b=Nu(b,w.mode,_,null),b.return=w,b;xg(w,b)}return null}function p(w,b,_,S){var M=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return M!==null?null:a(w,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lg:return _.key===M?u(w,b,_,S):null;case sd:return _.key===M?c(w,b,_,S):null;case hl:return M=_._init,p(w,b,M(_._payload),S)}if(Mh(_)||Jf(_))return M!==null?null:f(w,b,_,S,null);xg(w,_)}return null}function m(w,b,_,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(_)||null,a(b,w,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lg:return w=w.get(S.key===null?_:S.key)||null,u(b,w,S,M);case sd:return w=w.get(S.key===null?_:S.key)||null,c(b,w,S,M);case hl:var C=S._init;return m(w,b,_,C(S._payload),M)}if(Mh(S)||Jf(S))return w=w.get(_)||null,f(b,w,S,M,null);xg(b,S)}return null}function v(w,b,_,S){for(var M=null,C=null,A=b,T=b=0,R=null;A!==null&&T<_.length;T++){A.index>T?(R=A,A=null):R=A.sibling;var D=p(w,A,_[T],S);if(D===null){A===null&&(A=R);break}n&&A&&D.alternate===null&&e(w,A),b=s(D,b,T),C===null?M=D:C.sibling=D,C=D,A=R}if(T===_.length)return t(w,A),Ln&&bu(w,T),M;if(A===null){for(;T<_.length;T++)A=h(w,_[T],S),A!==null&&(b=s(A,b,T),C===null?M=A:C.sibling=A,C=A);return Ln&&bu(w,T),M}for(A=r(w,A);T<_.length;T++)R=m(A,w,T,_[T],S),R!==null&&(n&&R.alternate!==null&&A.delete(R.key===null?T:R.key),b=s(R,b,T),C===null?M=R:C.sibling=R,C=R);return n&&A.forEach(function(O){return e(w,O)}),Ln&&bu(w,T),M}function y(w,b,_,S){var M=Jf(_);if(typeof M!="function")throw Error(Ee(150));if(_=M.call(_),_==null)throw Error(Ee(151));for(var C=M=null,A=b,T=b=0,R=null,D=_.next();A!==null&&!D.done;T++,D=_.next()){A.index>T?(R=A,A=null):R=A.sibling;var O=p(w,A,D.value,S);if(O===null){A===null&&(A=R);break}n&&A&&O.alternate===null&&e(w,A),b=s(O,b,T),C===null?M=O:C.sibling=O,C=O,A=R}if(D.done)return t(w,A),Ln&&bu(w,T),M;if(A===null){for(;!D.done;T++,D=_.next())D=h(w,D.value,S),D!==null&&(b=s(D,b,T),C===null?M=D:C.sibling=D,C=D);return Ln&&bu(w,T),M}for(A=r(w,A);!D.done;T++,D=_.next())D=m(A,w,T,D.value,S),D!==null&&(n&&D.alternate!==null&&A.delete(D.key===null?T:D.key),b=s(D,b,T),C===null?M=D:C.sibling=D,C=D);return n&&A.forEach(function(Y){return e(w,Y)}),Ln&&bu(w,T),M}function x(w,b,_,S){if(typeof _=="object"&&_!==null&&_.type===od&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case lg:e:{for(var M=_.key,C=b;C!==null;){if(C.key===M){if(M=_.type,M===od){if(C.tag===7){t(w,C.sibling),b=i(C,_.props.children),b.return=w,w=b;break e}}else if(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===hl&&DR(M)===C.type){t(w,C.sibling),b=i(C,_.props),b.ref=nh(w,C,_),b.return=w,w=b;break e}t(w,C);break}else e(w,C);C=C.sibling}_.type===od?(b=Nu(_.props.children,w.mode,S,_.key),b.return=w,w=b):(S=Yv(_.type,_.key,_.props,null,w.mode,S),S.ref=nh(w,b,_),S.return=w,w=S)}return o(w);case sd:e:{for(C=_.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){t(w,b.sibling),b=i(b,_.children||[]),b.return=w,w=b;break e}else{t(w,b);break}else e(w,b);b=b.sibling}b=pb(_,w.mode,S),b.return=w,w=b}return o(w);case hl:return C=_._init,x(w,b,C(_._payload),S)}if(Mh(_))return v(w,b,_,S);if(Jf(_))return y(w,b,_,S);xg(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(t(w,b.sibling),b=i(b,_),b.return=w,w=b):(t(w,b),b=hb(_,w.mode,S),b.return=w,w=b),o(w)):t(w,b)}return x}var Ud=c3(!0),d3=c3(!1),nm={},Fo=Xl(nm),hp=Xl(nm),pp=Xl(nm);function Pu(n){if(n===nm)throw Error(Ee(174));return n}function E1(n,e){switch(_n(pp,e),_n(hp,n),_n(Fo,nm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Kw(e,n)}An(Fo),_n(Fo,e)}function Hd(){An(Fo),An(hp),An(pp)}function f3(n){Pu(pp.current);var e=Pu(Fo.current),t=Kw(e,n.type);e!==t&&(_n(hp,n),_n(Fo,t))}function T1(n){hp.current===n&&(An(Fo),An(hp))}var zn=Xl(0);function N0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ab=[];function C1(){for(var n=0;n<ab.length;n++)ab[n]._workInProgressVersionPrimary=null;ab.length=0}var Gv=za.ReactCurrentDispatcher,lb=za.ReactCurrentBatchConfig,Wu=0,Hn=null,wr=null,Lr=null,O0=!1,Fh=!1,mp=0,V6=0;function Zr(){throw Error(Ee(321))}function A1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!vo(n[t],e[t]))return!1;return!0}function R1(n,e,t,r,i,s){if(Wu=s,Hn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gv.current=n===null||n.memoizedState===null?q6:K6,n=t(r,i),Fh){s=0;do{if(Fh=!1,mp=0,25<=s)throw Error(Ee(301));s+=1,Lr=wr=null,e.updateQueue=null,Gv.current=Y6,n=t(r,i)}while(Fh)}if(Gv.current=B0,e=wr!==null&&wr.next!==null,Wu=0,Lr=wr=Hn=null,O0=!1,e)throw Error(Ee(300));return n}function P1(){var n=mp!==0;return mp=0,n}function Mo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?Hn.memoizedState=Lr=n:Lr=Lr.next=n,Lr}function Bs(){if(wr===null){var n=Hn.alternate;n=n!==null?n.memoizedState:null}else n=wr.next;var e=Lr===null?Hn.memoizedState:Lr.next;if(e!==null)Lr=e,wr=n;else{if(n===null)throw Error(Ee(310));wr=n,n={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Lr===null?Hn.memoizedState=Lr=n:Lr=Lr.next=n}return Lr}function gp(n,e){return typeof e=="function"?e(n):e}function ub(n){var e=Bs(),t=e.queue;if(t===null)throw Error(Ee(311));t.lastRenderedReducer=n;var r=wr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var f=c.lane;if((Wu&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,Hn.lanes|=f,Vu|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,vo(r,e.memoizedState)||(zi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Hn.lanes|=s,Vu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function cb(n){var e=Bs(),t=e.queue;if(t===null)throw Error(Ee(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);vo(s,e.memoizedState)||(zi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function h3(){}function p3(n,e){var t=Hn,r=Bs(),i=e(),s=!vo(r.memoizedState,i);if(s&&(r.memoizedState=i,zi=!0),r=r.queue,D1(v3.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Lr!==null&&Lr.memoizedState.tag&1){if(t.flags|=2048,vp(9,g3.bind(null,t,r,i,e),void 0,null),Nr===null)throw Error(Ee(349));(Wu&30)!==0||m3(t,e,i)}return i}function m3(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function g3(n,e,t,r){e.value=t,e.getSnapshot=r,y3(e)&&x3(n)}function v3(n,e,t){return t(function(){y3(e)&&x3(n)})}function y3(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!vo(n,t)}catch{return!0}}function x3(n){var e=Na(n,1);e!==null&&ho(e,n,1,-1)}function IR(n){var e=Mo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:n},e.queue=n,n=n.dispatch=X6.bind(null,Hn,n),[e.memoizedState,n]}function vp(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function _3(){return Bs().memoizedState}function jv(n,e,t,r){var i=Mo();Hn.flags|=n,i.memoizedState=vp(1|e,t,void 0,r===void 0?null:r)}function Fy(n,e,t,r){var i=Bs();r=r===void 0?null:r;var s=void 0;if(wr!==null){var o=wr.memoizedState;if(s=o.destroy,r!==null&&A1(r,o.deps)){i.memoizedState=vp(e,t,s,r);return}}Hn.flags|=n,i.memoizedState=vp(1|e,t,s,r)}function LR(n,e){return jv(8390656,8,n,e)}function D1(n,e){return Fy(2048,8,n,e)}function b3(n,e){return Fy(4,2,n,e)}function w3(n,e){return Fy(4,4,n,e)}function S3(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function M3(n,e,t){return t=t!=null?t.concat([n]):null,Fy(4,4,S3.bind(null,e,n),t)}function I1(){}function E3(n,e){var t=Bs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&A1(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function T3(n,e){var t=Bs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&A1(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function C3(n,e,t){return(Wu&21)===0?(n.baseState&&(n.baseState=!1,zi=!0),n.memoizedState=t):(vo(t,e)||(t=PL(),Hn.lanes|=t,Vu|=t,n.baseState=!0),e)}function G6(n,e){var t=cn;cn=t!==0&&4>t?t:4,n(!0);var r=lb.transition;lb.transition={};try{n(!1),e()}finally{cn=t,lb.transition=r}}function A3(){return Bs().memoizedState}function j6(n,e,t){var r=Il(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},R3(n))P3(e,t);else if(t=o3(n,e,t,r),t!==null){var i=bi();ho(t,n,r,i),D3(t,e,r)}}function X6(n,e,t){var r=Il(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(R3(n))P3(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,vo(a,o)){var u=e.interleaved;u===null?(i.next=i,S1(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}t=o3(n,e,i,r),t!==null&&(i=bi(),ho(t,n,r,i),D3(t,e,r))}}function R3(n){var e=n.alternate;return n===Hn||e!==null&&e===Hn}function P3(n,e){Fh=O0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function D3(n,e,t){if((t&4194240)!==0){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,u1(n,t)}}var B0={readContext:Os,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},q6={readContext:Os,useCallback:function(n,e){return Mo().memoizedState=[n,e===void 0?null:e],n},useContext:Os,useEffect:LR,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,jv(4194308,4,S3.bind(null,e,n),t)},useLayoutEffect:function(n,e){return jv(4194308,4,n,e)},useInsertionEffect:function(n,e){return jv(4,2,n,e)},useMemo:function(n,e){var t=Mo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Mo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=j6.bind(null,Hn,n),[r.memoizedState,n]},useRef:function(n){var e=Mo();return n={current:n},e.memoizedState=n},useState:IR,useDebugValue:I1,useDeferredValue:function(n){return Mo().memoizedState=n},useTransition:function(){var n=IR(!1),e=n[0];return n=G6.bind(null,n[1]),Mo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Hn,i=Mo();if(Ln){if(t===void 0)throw Error(Ee(407));t=t()}else{if(t=e(),Nr===null)throw Error(Ee(349));(Wu&30)!==0||m3(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,LR(v3.bind(null,r,s,n),[n]),r.flags|=2048,vp(9,g3.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Mo(),e=Nr.identifierPrefix;if(Ln){var t=Ca,r=Ta;t=(r&~(1<<32-fo(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=mp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=V6++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},K6={readContext:Os,useCallback:E3,useContext:Os,useEffect:D1,useImperativeHandle:M3,useInsertionEffect:b3,useLayoutEffect:w3,useMemo:T3,useReducer:ub,useRef:_3,useState:function(){return ub(gp)},useDebugValue:I1,useDeferredValue:function(n){var e=Bs();return C3(e,wr.memoizedState,n)},useTransition:function(){var n=ub(gp)[0],e=Bs().memoizedState;return[n,e]},useMutableSource:h3,useSyncExternalStore:p3,useId:A3,unstable_isNewReconciler:!1},Y6={readContext:Os,useCallback:E3,useContext:Os,useEffect:D1,useImperativeHandle:M3,useInsertionEffect:b3,useLayoutEffect:w3,useMemo:T3,useReducer:cb,useRef:_3,useState:function(){return cb(gp)},useDebugValue:I1,useDeferredValue:function(n){var e=Bs();return wr===null?e.memoizedState=n:C3(e,wr.memoizedState,n)},useTransition:function(){var n=cb(gp)[0],e=Bs().memoizedState;return[n,e]},useMutableSource:h3,useSyncExternalStore:p3,useId:A3,unstable_isNewReconciler:!1};function Wd(n,e){try{var t="",r=e;do t+=SG(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function db(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function vS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Z6=typeof WeakMap=="function"?WeakMap:Map;function I3(n,e,t){t=Ra(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){z0||(z0=!0,CS=r),vS(n,e)},t}function L3(n,e,t){t=Ra(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){vS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){vS(n,e),typeof r!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function kR(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new Z6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=c8.bind(null,n,e,t),e.then(n,n))}function NR(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function OR(n,e,t,r,i){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ra(-1,1),e.tag=2,Pl(t,e,1))),t.lanes|=1),n):(n.flags|=65536,n.lanes=i,n)}var J6=za.ReactCurrentOwner,zi=!1;function vi(n,e,t,r){e.child=n===null?d3(e,null,t,r):Ud(e,n.child,t,r)}function BR(n,e,t,r,i){t=t.render;var s=e.ref;return Cd(e,i),r=R1(n,e,t,r,s,i),t=P1(),n!==null&&!zi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Oa(n,e,i)):(Ln&&t&&v1(e),e.flags|=1,vi(n,e,r,i),e.child)}function FR(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!U1(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,k3(n,e,s,r,i)):(n=Yv(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,(n.lanes&i)===0){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:up,t(o,r)&&n.ref===e.ref)return Oa(n,e,i)}return e.flags|=1,n=Ll(s,r),n.ref=e.ref,n.return=e,e.child=n}function k3(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(up(s,r)&&n.ref===e.ref)if(zi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)(n.flags&131072)!==0&&(zi=!0);else return e.lanes=n.lanes,Oa(n,e,i)}return yS(n,e,t,r,i)}function N3(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(gd,ns),ns|=t;else{if((t&1073741824)===0)return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,_n(gd,ns),ns|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,_n(gd,ns),ns|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,_n(gd,ns),ns|=r;return vi(n,e,i,t),e.child}function O3(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function yS(n,e,t,r,i){var s=Hi(t)?Uu:oi.current;return s=Fd(e,s),Cd(e,i),t=R1(n,e,t,r,s,i),r=P1(),n!==null&&!zi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Oa(n,e,i)):(Ln&&r&&v1(e),e.flags|=1,vi(n,e,t,i),e.child)}function zR(n,e,t,r,i){if(Hi(t)){var s=!0;R0(e)}else s=!1;if(Cd(e,i),e.stateNode===null)Xv(n,e),u3(e,t,r),gS(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Os(c):(c=Hi(t)?Uu:oi.current,c=Fd(e,c));var f=t.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&PR(e,o,r,c),pl=!1;var p=e.memoizedState;o.state=p,k0(e,r,o,i),u=e.memoizedState,a!==r||p!==u||Ui.current||pl?(typeof f=="function"&&(mS(e,t,f,r),u=e.memoizedState),(a=pl||RR(e,t,a,r,p,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,a3(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:io(e.type,a),o.props=c,h=e.pendingProps,p=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=Os(u):(u=Hi(t)?Uu:oi.current,u=Fd(e,u));var m=t.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==u)&&PR(e,o,r,u),pl=!1,p=e.memoizedState,o.state=p,k0(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||Ui.current||pl?(typeof m=="function"&&(mS(e,t,m,r),v=e.memoizedState),(c=pl||RR(e,t,c,r,p,v,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return xS(n,e,t,r,s,i)}function xS(n,e,t,r,i,s){O3(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&MR(e,t,!1),Oa(n,e,s);r=e.stateNode,J6.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Ud(e,n.child,null,s),e.child=Ud(e,null,a,s)):vi(n,e,a,s),e.memoizedState=r.state,i&&MR(e,t,!0),e.child}function B3(n){var e=n.stateNode;e.pendingContext?SR(n,e.pendingContext,e.pendingContext!==e.context):e.context&&SR(n,e.context,!1),E1(n,e.containerInfo)}function UR(n,e,t,r,i){return zd(),x1(i),e.flags|=256,vi(n,e,t,r),e.child}var _S={dehydrated:null,treeContext:null,retryLane:0};function bS(n){return{baseLanes:n,cachePool:null,transitions:null}}function F3(n,e,t){var r=e.pendingProps,i=zn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),_n(zn,i&1),n===null)return hS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hy(o,r,0,null),n=Nu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=bS(t),e.memoizedState=_S,n):L1(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Q6(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var u={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ll(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ll(a,s):(s=Nu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?bS(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=_S,r}return s=n.child,n=s.sibling,r=Ll(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function L1(n,e){return e=Hy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function _g(n,e,t,r){return r!==null&&x1(r),Ud(e,n.child,null,t),n=L1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Q6(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=db(Error(Ee(422))),_g(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hy({mode:"visible",children:r.children},i,0,null),s=Nu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Ud(e,n.child,null,o),e.child.memoizedState=bS(o),e.memoizedState=_S,s);if((e.mode&1)===0)return _g(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ee(419)),r=db(s,r,void 0),_g(n,e,o,r)}if(a=(o&n.childLanes)!==0,zi||a){if(r=Nr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Na(n,i),ho(r,n,i,-1))}return z1(),r=db(Error(Ee(421))),_g(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=d8.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ss=Rl(i.nextSibling),cs=e,Ln=!0,ao=null,n!==null&&(Rs[Ps++]=Ta,Rs[Ps++]=Ca,Rs[Ps++]=Hu,Ta=n.id,Ca=n.overflow,Hu=e),e=L1(e,r.children),e.flags|=4096,e)}function HR(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),pS(n.return,e,t)}function fb(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function z3(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vi(n,e,r.children,t),r=zn.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&HR(n,t,e);else if(n.tag===19)HR(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(_n(zn,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&N0(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),fb(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&N0(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}fb(e,!0,t,null,s);break;case"together":fb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xv(n,e){(e.mode&1)===0&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Oa(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Vu|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(Ee(153));if(e.child!==null){for(n=e.child,t=Ll(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ll(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function $6(n,e,t){switch(e.tag){case 3:B3(e),zd();break;case 5:f3(e);break;case 1:Hi(e.type)&&R0(e);break;case 4:E1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_n(I0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_n(zn,zn.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?F3(n,e,t):(_n(zn,zn.current&1),n=Oa(n,e,t),n!==null?n.sibling:null);_n(zn,zn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&128)!==0){if(r)return z3(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(zn,zn.current),r)break;return null;case 22:case 23:return e.lanes=0,N3(n,e,t)}return Oa(n,e,t)}var U3,wS,H3,W3;U3=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};wS=function(){};H3=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Pu(Fo.current);var s=null;switch(t){case"input":i=Gw(n,i),r=Gw(n,r),s=[];break;case"select":i=Vn({},i,{value:void 0}),r=Vn({},r,{value:void 0}),s=[];break;case"textarea":i=qw(n,i),r=qw(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=C0)}Yw(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(np.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(c,t)),t=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(np.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&En("scroll",n),s||a===u||(s=[])):(s=s||[]).push(c,u))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};W3=function(n,e,t,r){t!==r&&(e.flags|=4)};function rh(n,e){if(!Ln)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Jr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function e8(n,e,t){var r=e.pendingProps;switch(y1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(e),null;case 1:return Hi(e.type)&&A0(),Jr(e),null;case 3:return r=e.stateNode,Hd(),An(Ui),An(oi),C1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(yg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ao!==null&&(PS(ao),ao=null))),wS(n,e),Jr(e),null;case 5:T1(e);var i=Pu(pp.current);if(t=e.type,n!==null&&e.stateNode!=null)H3(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ee(166));return Jr(e),null}if(n=Pu(Fo.current),yg(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Io]=e,r[fp]=s,n=(e.mode&1)!==0,t){case"dialog":En("cancel",r),En("close",r);break;case"iframe":case"object":case"embed":En("load",r);break;case"video":case"audio":for(i=0;i<Th.length;i++)En(Th[i],r);break;case"source":En("error",r);break;case"img":case"image":case"link":En("error",r),En("load",r);break;case"details":En("toggle",r);break;case"input":ZA(r,s),En("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},En("invalid",r);break;case"textarea":QA(r,s),En("invalid",r)}Yw(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vg(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vg(r.textContent,a,n),i=["children",""+a]):np.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&En("scroll",r)}switch(t){case"input":ug(r),JA(r,s,!0);break;case"textarea":ug(r),$A(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=C0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=mL(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Io]=e,n[fp]=r,U3(n,e,!1,!1),e.stateNode=n;e:{switch(o=Zw(t,r),t){case"dialog":En("cancel",n),En("close",n),i=r;break;case"iframe":case"object":case"embed":En("load",n),i=r;break;case"video":case"audio":for(i=0;i<Th.length;i++)En(Th[i],n);i=r;break;case"source":En("error",n),i=r;break;case"img":case"image":case"link":En("error",n),En("load",n),i=r;break;case"details":En("toggle",n),i=r;break;case"input":ZA(n,r),i=Gw(n,r),En("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Vn({},r,{value:void 0}),En("invalid",n);break;case"textarea":QA(n,r),i=qw(n,r),En("invalid",n);break;default:i=r}Yw(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?yL(n,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gL(n,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&rp(n,u):typeof u=="number"&&rp(n,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(np.hasOwnProperty(s)?u!=null&&s==="onScroll"&&En("scroll",n):u!=null&&r1(n,s,u,o))}switch(t){case"input":ug(n),JA(n,r,!1);break;case"textarea":ug(n),$A(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Bl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Sd(n,!!r.multiple,s,!1):r.defaultValue!=null&&Sd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=C0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jr(e),null;case 6:if(n&&e.stateNode!=null)W3(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ee(166));if(t=Pu(pp.current),Pu(Fo.current),yg(e)){if(r=e.stateNode,t=e.memoizedProps,r[Io]=e,(s=r.nodeValue!==t)&&(n=cs,n!==null))switch(n.tag){case 3:vg(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&vg(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Io]=e,e.stateNode=r}return Jr(e),null;case 13:if(An(zn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ln&&ss!==null&&(e.mode&1)!==0&&(e.flags&128)===0)s3(),zd(),e.flags|=98560,s=!1;else if(s=yg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ee(317));s[Io]=e}else zd(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Jr(e),s=!1}else ao!==null&&(PS(ao),ao=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(zn.current&1)!==0?Mr===0&&(Mr=3):z1())),e.updateQueue!==null&&(e.flags|=4),Jr(e),null);case 4:return Hd(),wS(n,e),n===null&&cp(e.stateNode.containerInfo),Jr(e),null;case 10:return w1(e.type._context),Jr(e),null;case 17:return Hi(e.type)&&A0(),Jr(e),null;case 19:if(An(zn),s=e.memoizedState,s===null)return Jr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)rh(s,!1);else{if(Mr!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(o=N0(n),o!==null){for(e.flags|=128,rh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return _n(zn,zn.current&1|2),e.child}n=n.sibling}s.tail!==null&&or()>Vd&&(e.flags|=128,r=!0,rh(s,!1),e.lanes=4194304)}else{if(!r)if(n=N0(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),rh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ln)return Jr(e),null}else 2*or()-s.renderingStartTime>Vd&&t!==1073741824&&(e.flags|=128,r=!0,rh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=or(),e.sibling=null,t=zn.current,_n(zn,r?t&1|2:t&1),e):(Jr(e),null);case 22:case 23:return F1(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(ns&1073741824)!==0&&(Jr(e),e.subtreeFlags&6&&(e.flags|=8192)):Jr(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function t8(n,e){switch(y1(e),e.tag){case 1:return Hi(e.type)&&A0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Hd(),An(Ui),An(oi),C1(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return T1(e),null;case 13:if(An(zn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));zd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return An(zn),null;case 4:return Hd(),null;case 10:return w1(e.type._context),null;case 22:case 23:return F1(),null;case 24:return null;default:return null}}var bg=!1,ii=!1,n8=typeof WeakSet=="function"?WeakSet:Set,je=null;function md(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Kn(n,e,r)}else t.current=null}function SS(n,e,t){try{t()}catch(r){Kn(n,e,r)}}var WR=!1;function r8(n,e){if(oS=M0,n=XL(),g1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,u=-1,c=0,f=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++f===r&&(u=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||u===-1?null:{start:a,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(aS={focusedElem:n,selectionRange:t},M0=!1,je=e;je!==null;)if(e=je,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,je=n;else for(;je!==null;){e=je;try{var v=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:io(e.type,y),x);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(S){Kn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}return v=WR,WR=!1,v}function zh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&SS(e,t,s)}i=i.next}while(i!==r)}}function zy(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function MS(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function V3(n){var e=n.alternate;e!==null&&(n.alternate=null,V3(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Io],delete e[fp],delete e[cS],delete e[z6],delete e[U6])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function G3(n){return n.tag===5||n.tag===3||n.tag===4}function VR(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||G3(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ES(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=C0));else if(r!==4&&(n=n.child,n!==null))for(ES(n,e,t),n=n.sibling;n!==null;)ES(n,e,t),n=n.sibling}function TS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(TS(n,e,t),n=n.sibling;n!==null;)TS(n,e,t),n=n.sibling}var Ur=null,oo=!1;function nl(n,e,t){for(t=t.child;t!==null;)j3(n,e,t),t=t.sibling}function j3(n,e,t){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(Dy,t)}catch{}switch(t.tag){case 5:ii||md(t,e);case 6:var r=Ur,i=oo;Ur=null,nl(n,e,t),Ur=r,oo=i,Ur!==null&&(oo?(n=Ur,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ur.removeChild(t.stateNode));break;case 18:Ur!==null&&(oo?(n=Ur,t=t.stateNode,n.nodeType===8?sb(n.parentNode,t):n.nodeType===1&&sb(n,t),ap(n)):sb(Ur,t.stateNode));break;case 4:r=Ur,i=oo,Ur=t.stateNode.containerInfo,oo=!0,nl(n,e,t),Ur=r,oo=i;break;case 0:case 11:case 14:case 15:if(!ii&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&SS(t,e,o),i=i.next}while(i!==r)}nl(n,e,t);break;case 1:if(!ii&&(md(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Kn(t,e,a)}nl(n,e,t);break;case 21:nl(n,e,t);break;case 22:t.mode&1?(ii=(r=ii)||t.memoizedState!==null,nl(n,e,t),ii=r):nl(n,e,t);break;default:nl(n,e,t)}}function GR(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new n8),e.forEach(function(r){var i=f8.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Xs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ur=a.stateNode,oo=!1;break e;case 3:Ur=a.stateNode.containerInfo,oo=!0;break e;case 4:Ur=a.stateNode.containerInfo,oo=!0;break e}a=a.return}if(Ur===null)throw Error(Ee(160));j3(s,o,i),Ur=null,oo=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Kn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)X3(e,n),e=e.sibling}function X3(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Xs(e,n),wo(n),r&4){try{zh(3,n,n.return),zy(3,n)}catch(y){Kn(n,n.return,y)}try{zh(5,n,n.return)}catch(y){Kn(n,n.return,y)}}break;case 1:Xs(e,n),wo(n),r&512&&t!==null&&md(t,t.return);break;case 5:if(Xs(e,n),wo(n),r&512&&t!==null&&md(t,t.return),n.flags&32){var i=n.stateNode;try{rp(i,"")}catch(y){Kn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&hL(i,s),Zw(a,o);var c=Zw(a,s);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?yL(i,h):f==="dangerouslySetInnerHTML"?gL(i,h):f==="children"?rp(i,h):r1(i,f,h,c)}switch(a){case"input":jw(i,s);break;case"textarea":pL(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Sd(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Sd(i,!!s.multiple,s.defaultValue,!0):Sd(i,!!s.multiple,s.multiple?[]:"",!1))}i[fp]=s}catch(y){Kn(n,n.return,y)}}break;case 6:if(Xs(e,n),wo(n),r&4){if(n.stateNode===null)throw Error(Ee(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Kn(n,n.return,y)}}break;case 3:if(Xs(e,n),wo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{ap(e.containerInfo)}catch(y){Kn(n,n.return,y)}break;case 4:Xs(e,n),wo(n);break;case 13:Xs(e,n),wo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(O1=or())),r&4&&GR(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(ii=(c=ii)||f,Xs(e,n),ii=c):Xs(e,n),wo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!f&&(n.mode&1)!==0)for(je=n,f=n.child;f!==null;){for(h=je=f;je!==null;){switch(p=je,m=p.child,p.tag){case 0:case 11:case 14:case 15:zh(4,p,p.return);break;case 1:md(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Kn(r,t,y)}}break;case 5:md(p,p.return);break;case 22:if(p.memoizedState!==null){XR(h);continue}}m!==null?(m.return=p,je=m):XR(h)}f=f.sibling}e:for(f=null,h=n;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=vL("display",o))}catch(y){Kn(n,n.return,y)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Kn(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xs(e,n),wo(n),r&4&&GR(n);break;case 21:break;default:Xs(e,n),wo(n)}}function wo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(G3(t)){var r=t;break e}t=t.return}throw Error(Ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rp(i,""),r.flags&=-33);var s=VR(n);TS(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=VR(n);ES(n,a,o);break;default:throw Error(Ee(161))}}catch(u){Kn(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function i8(n,e,t){je=n,q3(n)}function q3(n,e,t){for(var r=(n.mode&1)!==0;je!==null;){var i=je,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bg;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||ii;a=bg;var c=ii;if(bg=o,(ii=u)&&!c)for(je=i;je!==null;)o=je,u=o.child,o.tag===22&&o.memoizedState!==null?qR(i):u!==null?(u.return=o,je=u):qR(i);for(;s!==null;)je=s,q3(s),s=s.sibling;je=i,bg=a,ii=c}jR(n)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,je=s):jR(n)}}function jR(n){for(;je!==null;){var e=je;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:ii||zy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ii)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:io(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&AR(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}AR(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&ap(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}ii||e.flags&512&&MS(e)}catch(p){Kn(e,e.return,p)}}if(e===n){je=null;break}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}}function XR(n){for(;je!==null;){var e=je;if(e===n){je=null;break}var t=e.sibling;if(t!==null){t.return=e.return,je=t;break}je=e.return}}function qR(n){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{zy(4,e)}catch(u){Kn(e,t,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Kn(e,i,u)}}var s=e.return;try{MS(e)}catch(u){Kn(e,s,u)}break;case 5:var o=e.return;try{MS(e)}catch(u){Kn(e,o,u)}}}catch(u){Kn(e,e.return,u)}if(e===n){je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,je=a;break}je=e.return}}var s8=Math.ceil,F0=za.ReactCurrentDispatcher,k1=za.ReactCurrentOwner,Ls=za.ReactCurrentBatchConfig,qt=0,Nr=null,fr=null,Gr=0,ns=0,gd=Xl(0),Mr=0,yp=null,Vu=0,Uy=0,N1=0,Uh=null,Oi=null,O1=0,Vd=1/0,ma=null,z0=!1,CS=null,Dl=null,wg=!1,Ml=null,U0=0,Hh=0,AS=null,qv=-1,Kv=0;function bi(){return(qt&6)!==0?or():qv!==-1?qv:qv=or()}function Il(n){return(n.mode&1)===0?1:(qt&2)!==0&&Gr!==0?Gr&-Gr:W6.transition!==null?(Kv===0&&(Kv=PL()),Kv):(n=cn,n!==0||(n=window.event,n=n===void 0?16:BL(n.type)),n)}function ho(n,e,t,r){if(50<Hh)throw Hh=0,AS=null,Error(Ee(185));$p(n,t,r),((qt&2)===0||n!==Nr)&&(n===Nr&&((qt&2)===0&&(Uy|=t),Mr===4&&_l(n,Gr)),Wi(n,r),t===1&&qt===0&&(e.mode&1)===0&&(Vd=or()+500,Oy&&ql()))}function Wi(n,e){var t=n.callbackNode;WG(n,e);var r=S0(n,n===Nr?Gr:0);if(r===0)t!==null&&nR(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&nR(t),e===1)n.tag===0?H6(KR.bind(null,n)):n3(KR.bind(null,n)),B6(function(){(qt&6)===0&&ql()}),t=null;else{switch(DL(r)){case 1:t=l1;break;case 4:t=AL;break;case 16:t=w0;break;case 536870912:t=RL;break;default:t=w0}t=tk(t,K3.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function K3(n,e){if(qv=-1,Kv=0,(qt&6)!==0)throw Error(Ee(327));var t=n.callbackNode;if(Ad()&&n.callbackNode!==t)return null;var r=S0(n,n===Nr?Gr:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||e)e=H0(n,r);else{e=r;var i=qt;qt|=2;var s=Z3();(Nr!==n||Gr!==e)&&(ma=null,Vd=or()+500,ku(n,e));do try{l8();break}catch(a){Y3(n,a)}while(1);b1(),F0.current=s,qt=i,fr!==null?e=0:(Nr=null,Gr=0,e=Mr)}if(e!==0){if(e===2&&(i=tS(n),i!==0&&(r=i,e=RS(n,i))),e===1)throw t=yp,ku(n,0),_l(n,r),Wi(n,or()),t;if(e===6)_l(n,r);else{if(i=n.current.alternate,(r&30)===0&&!o8(i)&&(e=H0(n,r),e===2&&(s=tS(n),s!==0&&(r=s,e=RS(n,s))),e===1))throw t=yp,ku(n,0),_l(n,r),Wi(n,or()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ee(345));case 2:wu(n,Oi,ma);break;case 3:if(_l(n,r),(r&130023424)===r&&(e=O1+500-or(),10<e)){if(S0(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){bi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=uS(wu.bind(null,n,Oi,ma),e);break}wu(n,Oi,ma);break;case 4:if(_l(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-fo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=or()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s8(r/1960))-r,10<r){n.timeoutHandle=uS(wu.bind(null,n,Oi,ma),r);break}wu(n,Oi,ma);break;case 5:wu(n,Oi,ma);break;default:throw Error(Ee(329))}}}return Wi(n,or()),n.callbackNode===t?K3.bind(null,n):null}function RS(n,e){var t=Uh;return n.current.memoizedState.isDehydrated&&(ku(n,e).flags|=256),n=H0(n,e),n!==2&&(e=Oi,Oi=t,e!==null&&PS(e)),n}function PS(n){Oi===null?Oi=n:Oi.push.apply(Oi,n)}function o8(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!vo(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _l(n,e){for(e&=~N1,e&=~Uy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-fo(e),r=1<<t;n[t]=-1,e&=~r}}function KR(n){if((qt&6)!==0)throw Error(Ee(327));Ad();var e=S0(n,0);if((e&1)===0)return Wi(n,or()),null;var t=H0(n,e);if(n.tag!==0&&t===2){var r=tS(n);r!==0&&(e=r,t=RS(n,r))}if(t===1)throw t=yp,ku(n,0),_l(n,e),Wi(n,or()),t;if(t===6)throw Error(Ee(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,wu(n,Oi,ma),Wi(n,or()),null}function B1(n,e){var t=qt;qt|=1;try{return n(e)}finally{qt=t,qt===0&&(Vd=or()+500,Oy&&ql())}}function Gu(n){Ml!==null&&Ml.tag===0&&(qt&6)===0&&Ad();var e=qt;qt|=1;var t=Ls.transition,r=cn;try{if(Ls.transition=null,cn=1,n)return n()}finally{cn=r,Ls.transition=t,qt=e,(qt&6)===0&&ql()}}function F1(){ns=gd.current,An(gd)}function ku(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,O6(t)),fr!==null)for(t=fr.return;t!==null;){var r=t;switch(y1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&A0();break;case 3:Hd(),An(Ui),An(oi),C1();break;case 5:T1(r);break;case 4:Hd();break;case 13:An(zn);break;case 19:An(zn);break;case 10:w1(r.type._context);break;case 22:case 23:F1()}t=t.return}if(Nr=n,fr=n=Ll(n.current,null),Gr=ns=e,Mr=0,yp=null,N1=Uy=Vu=0,Oi=Uh=null,Ru!==null){for(e=0;e<Ru.length;e++)if(t=Ru[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Ru=null}return n}function Y3(n,e){do{var t=fr;try{if(b1(),Gv.current=B0,O0){for(var r=Hn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}O0=!1}if(Wu=0,Lr=wr=Hn=null,Fh=!1,mp=0,k1.current=null,t===null||t.return===null){Mr=1,yp=e,fr=null;break}e:{var s=n,o=t.return,a=t,u=e;if(e=Gr,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,h=f.tag;if((f.mode&1)===0&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=NR(o);if(m!==null){m.flags&=-257,OR(m,o,a,s,e),m.mode&1&&kR(s,c,e),e=m,u=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(u),e.updateQueue=y}else v.add(u);break e}else{if((e&1)===0){kR(s,c,e),z1();break e}u=Error(Ee(426))}}else if(Ln&&a.mode&1){var x=NR(o);if(x!==null){(x.flags&65536)===0&&(x.flags|=256),OR(x,o,a,s,e),x1(Wd(u,a));break e}}s=u=Wd(u,a),Mr!==4&&(Mr=2),Uh===null?Uh=[s]:Uh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=I3(s,u,e);CR(s,w);break e;case 1:a=u;var b=s.type,_=s.stateNode;if((s.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Dl===null||!Dl.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=L3(s,a,e);CR(s,S);break e}}s=s.return}while(s!==null)}Q3(t)}catch(M){e=M,fr===t&&t!==null&&(fr=t=t.return);continue}break}while(1)}function Z3(){var n=F0.current;return F0.current=B0,n===null?B0:n}function z1(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Nr===null||(Vu&268435455)===0&&(Uy&268435455)===0||_l(Nr,Gr)}function H0(n,e){var t=qt;qt|=2;var r=Z3();(Nr!==n||Gr!==e)&&(ma=null,ku(n,e));do try{a8();break}catch(i){Y3(n,i)}while(1);if(b1(),qt=t,F0.current=r,fr!==null)throw Error(Ee(261));return Nr=null,Gr=0,Mr}function a8(){for(;fr!==null;)J3(fr)}function l8(){for(;fr!==null&&!LG();)J3(fr)}function J3(n){var e=ek(n.alternate,n,ns);n.memoizedProps=n.pendingProps,e===null?Q3(n):fr=e,k1.current=null}function Q3(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=e8(t,e,ns),t!==null){fr=t;return}}else{if(t=t8(t,e),t!==null){t.flags&=32767,fr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Mr=6,fr=null;return}}if(e=e.sibling,e!==null){fr=e;return}fr=e=n}while(e!==null);Mr===0&&(Mr=5)}function wu(n,e,t){var r=cn,i=Ls.transition;try{Ls.transition=null,cn=1,u8(n,e,t,r)}finally{Ls.transition=i,cn=r}return null}function u8(n,e,t,r){do Ad();while(Ml!==null);if((qt&6)!==0)throw Error(Ee(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ee(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(VG(n,s),n===Nr&&(fr=Nr=null,Gr=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||wg||(wg=!0,tk(w0,function(){return Ad(),null})),s=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||s){s=Ls.transition,Ls.transition=null;var o=cn;cn=1;var a=qt;qt|=4,k1.current=null,r8(n,t),X3(t,n),R6(aS),M0=!!oS,aS=oS=null,n.current=t,i8(t),kG(),qt=a,cn=o,Ls.transition=s}else n.current=t;if(wg&&(wg=!1,Ml=n,U0=i),s=n.pendingLanes,s===0&&(Dl=null),BG(t.stateNode),Wi(n,or()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(z0)throw z0=!1,n=CS,CS=null,n;return(U0&1)!==0&&n.tag!==0&&Ad(),s=n.pendingLanes,(s&1)!==0?n===AS?Hh++:(Hh=0,AS=n):Hh=0,ql(),null}function Ad(){if(Ml!==null){var n=DL(U0),e=Ls.transition,t=cn;try{if(Ls.transition=null,cn=16>n?16:n,Ml===null)var r=!1;else{if(n=Ml,Ml=null,U0=0,(qt&6)!==0)throw Error(Ee(331));var i=qt;for(qt|=4,je=n.current;je!==null;){var s=je,o=s.child;if((je.flags&16)!==0){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(je=c;je!==null;){var f=je;switch(f.tag){case 0:case 11:case 15:zh(8,f,s)}var h=f.child;if(h!==null)h.return=f,je=h;else for(;je!==null;){f=je;var p=f.sibling,m=f.return;if(V3(f),f===c){je=null;break}if(p!==null){p.return=m,je=p;break}je=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}je=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,je=o;else e:for(;je!==null;){if(s=je,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:zh(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,je=w;break e}je=s.return}}var b=n.current;for(je=b;je!==null;){o=je;var _=o.child;if((o.subtreeFlags&2064)!==0&&_!==null)_.return=o,je=_;else e:for(o=b;je!==null;){if(a=je,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:zy(9,a)}}catch(M){Kn(a,a.return,M)}if(a===o){je=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,je=S;break e}je=a.return}}if(qt=i,ql(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(Dy,n)}catch{}r=!0}return r}finally{cn=t,Ls.transition=e}}return!1}function YR(n,e,t){e=Wd(t,e),e=I3(n,e,1),n=Pl(n,e,1),e=bi(),n!==null&&($p(n,1,e),Wi(n,e))}function Kn(n,e,t){if(n.tag===3)YR(n,n,t);else for(;e!==null;){if(e.tag===3){YR(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dl===null||!Dl.has(r))){n=Wd(t,n),n=L3(e,n,1),e=Pl(e,n,1),n=bi(),e!==null&&($p(e,1,n),Wi(e,n));break}}e=e.return}}function c8(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=bi(),n.pingedLanes|=n.suspendedLanes&t,Nr===n&&(Gr&t)===t&&(Mr===4||Mr===3&&(Gr&130023424)===Gr&&500>or()-O1?ku(n,0):N1|=t),Wi(n,e)}function $3(n,e){e===0&&((n.mode&1)===0?e=1:(e=fg,fg<<=1,(fg&130023424)===0&&(fg=4194304)));var t=bi();n=Na(n,e),n!==null&&($p(n,e,t),Wi(n,t))}function d8(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),$3(n,t)}function f8(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(e),$3(n,t)}var ek;ek=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ui.current)zi=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return zi=!1,$6(n,e,t);zi=(n.flags&131072)!==0}else zi=!1,Ln&&(e.flags&1048576)!==0&&r3(e,D0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xv(n,e),n=e.pendingProps;var i=Fd(e,oi.current);Cd(e,t),i=R1(null,e,r,n,i,t);var s=P1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hi(r)?(s=!0,R0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,M1(e),i.updater=By,e.stateNode=i,i._reactInternals=e,gS(e,r,n,t),e=xS(null,e,r,!0,s,t)):(e.tag=0,Ln&&s&&v1(e),vi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Xv(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=p8(r),n=io(r,n),i){case 0:e=yS(null,e,r,n,t);break e;case 1:e=zR(null,e,r,n,t);break e;case 11:e=BR(null,e,r,n,t);break e;case 14:e=FR(null,e,r,io(r.type,n),t);break e}throw Error(Ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:io(r,i),yS(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:io(r,i),zR(n,e,r,i,t);case 3:e:{if(B3(e),n===null)throw Error(Ee(387));r=e.pendingProps,s=e.memoizedState,i=s.element,a3(n,e),k0(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Wd(Error(Ee(423)),e),e=UR(n,e,r,t,i);break e}else if(r!==i){i=Wd(Error(Ee(424)),e),e=UR(n,e,r,t,i);break e}else for(ss=Rl(e.stateNode.containerInfo.firstChild),cs=e,Ln=!0,ao=null,t=d3(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(zd(),r===i){e=Oa(n,e,t);break e}vi(n,e,r,t)}e=e.child}return e;case 5:return f3(e),n===null&&hS(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,lS(r,i)?o=null:s!==null&&lS(r,s)&&(e.flags|=32),O3(n,e),vi(n,e,o,t),e.child;case 6:return n===null&&hS(e),null;case 13:return F3(n,e,t);case 4:return E1(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ud(e,null,r,t):vi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:io(r,i),BR(n,e,r,i,t);case 7:return vi(n,e,e.pendingProps,t),e.child;case 8:return vi(n,e,e.pendingProps.children,t),e.child;case 12:return vi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_n(I0,r._currentValue),r._currentValue=o,s!==null)if(vo(s.value,o)){if(s.children===i.children&&!Ui.current){e=Oa(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ra(-1,t&-t),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),pS(s.return,t,e),a.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ee(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),pS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Cd(e,t),i=Os(i),r=r(i),e.flags|=1,vi(n,e,r,t),e.child;case 14:return r=e.type,i=io(r,e.pendingProps),i=io(r.type,i),FR(n,e,r,i,t);case 15:return k3(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:io(r,i),Xv(n,e),e.tag=1,Hi(r)?(n=!0,R0(e)):n=!1,Cd(e,t),u3(e,r,i),gS(e,r,i,t),xS(null,e,r,!0,n,t);case 19:return z3(n,e,t);case 22:return N3(n,e,t)}throw Error(Ee(156,e.tag))};function tk(n,e){return CL(n,e)}function h8(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(n,e,t,r){return new h8(n,e,t,r)}function U1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function p8(n){if(typeof n=="function")return U1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===s1)return 11;if(n===o1)return 14}return 2}function Ll(n,e){var t=n.alternate;return t===null?(t=Ds(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Yv(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")U1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case od:return Nu(t.children,i,s,e);case i1:o=8,i|=8;break;case Uw:return n=Ds(12,t,e,i|2),n.elementType=Uw,n.lanes=s,n;case Hw:return n=Ds(13,t,e,i),n.elementType=Hw,n.lanes=s,n;case Ww:return n=Ds(19,t,e,i),n.elementType=Ww,n.lanes=s,n;case cL:return Hy(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case lL:o=10;break e;case uL:o=9;break e;case s1:o=11;break e;case o1:o=14;break e;case hl:o=16,r=null;break e}throw Error(Ee(130,n==null?n:typeof n,""))}return e=Ds(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Nu(n,e,t,r){return n=Ds(7,n,r,e),n.lanes=t,n}function Hy(n,e,t,r){return n=Ds(22,n,r,e),n.elementType=cL,n.lanes=t,n.stateNode={isHidden:!1},n}function hb(n,e,t){return n=Ds(6,n,null,e),n.lanes=t,n}function pb(n,e,t){return e=Ds(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function m8(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=K_(0),this.expirationTimes=K_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function H1(n,e,t,r,i,s,o,a,u){return n=new m8(n,e,t,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ds(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},M1(s),n}function g8(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function nk(n){if(!n)return Fl;n=n._reactInternals;e:{if(tc(n)!==n||n.tag!==1)throw Error(Ee(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(n.tag===1){var t=n.type;if(Hi(t))return t3(n,t,e)}return e}function rk(n,e,t,r,i,s,o,a,u){return n=H1(t,r,!0,n,i,s,o,a,u),n.context=nk(null),t=n.current,r=bi(),i=Il(t),s=Ra(r,i),s.callback=e!=null?e:null,Pl(t,s,i),n.current.lanes=i,$p(n,i,r),Wi(n,r),n}function Wy(n,e,t,r){var i=e.current,s=bi(),o=Il(i);return t=nk(t),e.context===null?e.context=t:e.pendingContext=t,e=Ra(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Pl(i,e,o),n!==null&&(ho(n,i,o,s),Vv(n,i,o)),o}function W0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ZR(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function W1(n,e){ZR(n,e),(n=n.alternate)&&ZR(n,e)}function v8(){return null}var ik=typeof reportError=="function"?reportError:function(n){console.error(n)};function V1(n){this._internalRoot=n}Vy.prototype.render=V1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ee(409));Wy(n,e,null,null)};Vy.prototype.unmount=V1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Gu(function(){Wy(null,n,null,null)}),e[ka]=null}};function Vy(n){this._internalRoot=n}Vy.prototype.unstable_scheduleHydration=function(n){if(n){var e=kL();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xl.length&&e!==0&&e<xl[t].priority;t++);xl.splice(t,0,n),t===0&&OL(n)}};function G1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Gy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function JR(){}function y8(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=W0(o);s.call(c)}}var o=rk(e,r,n,0,null,!1,!1,"",JR);return n._reactRootContainer=o,n[ka]=o.current,cp(n.nodeType===8?n.parentNode:n),Gu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=W0(u);a.call(c)}}var u=H1(n,0,!1,null,null,!1,!1,"",JR);return n._reactRootContainer=u,n[ka]=u.current,cp(n.nodeType===8?n.parentNode:n),Gu(function(){Wy(e,u,t,r)}),u}function jy(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=W0(o);a.call(u)}}Wy(e,o,n,i)}else o=y8(t,e,n,i,r);return W0(o)}IL=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Eh(e.pendingLanes);t!==0&&(u1(e,t|1),Wi(e,or()),(qt&6)===0&&(Vd=or()+500,ql()))}break;case 13:Gu(function(){var r=Na(n,1);if(r!==null){var i=bi();ho(r,n,1,i)}}),W1(n,1)}};c1=function(n){if(n.tag===13){var e=Na(n,134217728);if(e!==null){var t=bi();ho(e,n,134217728,t)}W1(n,134217728)}};LL=function(n){if(n.tag===13){var e=Il(n),t=Na(n,e);if(t!==null){var r=bi();ho(t,n,e,r)}W1(n,e)}};kL=function(){return cn};NL=function(n,e){var t=cn;try{return cn=n,e()}finally{cn=t}};Qw=function(n,e,t){switch(e){case"input":if(jw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Ny(r);if(!i)throw Error(Ee(90));fL(r),jw(r,i)}}}break;case"textarea":pL(n,t);break;case"select":e=t.value,e!=null&&Sd(n,!!t.multiple,e,!1)}};bL=B1;wL=Gu;var x8={usingClientEntryPoint:!1,Events:[tm,cd,Ny,xL,_L,B1]},ih={findFiberByHostInstance:Au,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_8={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:za.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=EL(n),n===null?null:n.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||v8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sg.isDisabled&&Sg.supportsFiber)try{Dy=Sg.inject(_8),Bo=Sg}catch{}}hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x8;hs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G1(e))throw Error(Ee(200));return g8(n,e,null,t)};hs.createRoot=function(n,e){if(!G1(n))throw Error(Ee(299));var t=!1,r="",i=ik;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=H1(n,1,!1,null,null,t,!1,r,i),n[ka]=e.current,cp(n.nodeType===8?n.parentNode:n),new V1(e)};hs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ee(188)):(n=Object.keys(n).join(","),Error(Ee(268,n)));return n=EL(e),n=n===null?null:n.stateNode,n};hs.flushSync=function(n){return Gu(n)};hs.hydrate=function(n,e,t){if(!Gy(e))throw Error(Ee(200));return jy(null,n,e,!0,t)};hs.hydrateRoot=function(n,e,t){if(!G1(n))throw Error(Ee(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=ik;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=rk(e,null,n,1,t!=null?t:null,i,!1,s,o),n[ka]=e.current,cp(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Vy(e)};hs.render=function(n,e,t){if(!Gy(e))throw Error(Ee(200));return jy(null,n,e,!1,t)};hs.unmountComponentAtNode=function(n){if(!Gy(n))throw Error(Ee(40));return n._reactRootContainer?(Gu(function(){jy(null,null,n,!1,function(){n._reactRootContainer=null,n[ka]=null})}),!0):!1};hs.unstable_batchedUpdates=B1;hs.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Gy(t))throw Error(Ee(200));if(n==null||n._reactInternals===void 0)throw Error(Ee(38));return jy(n,e,t,!1,r)};hs.version="18.2.0-next-9e3b772b8-20220608";function sk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sk)}catch(n){console.error(n)}}sk(),ZM.exports=hs;var ok,QR=ZM.exports;ok=QR.createRoot,QR.hydrateRoot;var DS=function(n,e){return DS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},DS(n,e)};function qr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");DS(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var J=function(){return J=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},J.apply(this,arguments)};function hf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function ak(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function qn(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var $R={},Zv=void 0;try{Zv=window}catch{}function lk(n,e){if(typeof Zv!="undefined"){var t=Zv.__packages__=Zv.__packages__||{};if(!t[n]||!$R[n]){$R[n]=e;var r=t[n]=t[n]||[];r.push(e)}}}lk("@fluentui/set-version","6.0.0");var sh={none:0,insertNode:1,appendChild:2},e2="__stylesheet__",b8=typeof navigator!="undefined"&&/rv:11.0/.test(navigator.userAgent),nd={};try{nd=window||{}}catch{}var Ac,Fs=function(){function n(e,t){var r,i,s,o,a,u;this._rules=[],this._preservedRules=[],this._counter=0,this._keyToClassName={},this._onInsertRuleCallbacks=[],this._onResetCallbacks=[],this._classNameToArgs={},this._config=J({injectionMode:typeof document=="undefined"?sh.none:sh.insertNode,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},e),this._classNameToArgs=(r=t==null?void 0:t.classNameToArgs)!==null&&r!==void 0?r:this._classNameToArgs,this._counter=(i=t==null?void 0:t.counter)!==null&&i!==void 0?i:this._counter,this._keyToClassName=(o=(s=this._config.classNameCache)!==null&&s!==void 0?s:t==null?void 0:t.keyToClassName)!==null&&o!==void 0?o:this._keyToClassName,this._preservedRules=(a=t==null?void 0:t.preservedRules)!==null&&a!==void 0?a:this._preservedRules,this._rules=(u=t==null?void 0:t.rules)!==null&&u!==void 0?u:this._rules}return n.getInstance=function(){if(Ac=nd[e2],!Ac||Ac._lastStyleElement&&Ac._lastStyleElement.ownerDocument!==document){var e=(nd==null?void 0:nd.FabricConfig)||{},t=new n(e.mergeStyles,e.serializedStylesheet);Ac=t,nd[e2]=t}return Ac},n.prototype.serialize=function(){return JSON.stringify({classNameToArgs:this._classNameToArgs,counter:this._counter,keyToClassName:this._keyToClassName,preservedRules:this._preservedRules,rules:this._rules})},n.prototype.setConfig=function(e){this._config=J(J({},this._config),e)},n.prototype.onReset=function(e){var t=this;return this._onResetCallbacks.push(e),function(){t._onResetCallbacks=t._onResetCallbacks.filter(function(r){return r!==e})}},n.prototype.onInsertRule=function(e){var t=this;return this._onInsertRuleCallbacks.push(e),function(){t._onInsertRuleCallbacks=t._onInsertRuleCallbacks.filter(function(r){return r!==e})}},n.prototype.getClassName=function(e){var t=this._config.namespace,r=e||this._config.defaultPrefix;return(t?t+"-":"")+r+"-"+this._counter++},n.prototype.cacheClassName=function(e,t,r,i){this._keyToClassName[t]=e,this._classNameToArgs[e]={args:r,rules:i}},n.prototype.classNameFromKey=function(e){return this._keyToClassName[e]},n.prototype.getClassNameCache=function(){return this._keyToClassName},n.prototype.argsFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.args},n.prototype.insertedRulesFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.rules},n.prototype.insertRule=function(e,t){var r=this._config.injectionMode,i=r!==sh.none?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),i)switch(r){case sh.insertNode:var s=i.sheet;try{s.insertRule(e,s.cssRules.length)}catch{}break;case sh.appendChild:i.appendChild(document.createTextNode(e));break}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e),this._onInsertRuleCallbacks.forEach(function(o){return o()})},n.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")},n.prototype.reset=function(){this._rules=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach(function(e){return e()})},n.prototype.resetKeys=function(){this._keyToClassName={}},n.prototype._getStyleElement=function(){var e=this;return!this._styleElement&&typeof document!="undefined"&&(this._styleElement=this._createStyleElement(),b8||window.requestAnimationFrame(function(){e._styleElement=void 0})),this._styleElement},n.prototype._createStyleElement=function(){var e=document.head,t=document.createElement("style"),r=null;t.setAttribute("data-merge-styles","true");var i=this._config.cspSettings;if(i&&i.nonce&&t.setAttribute("nonce",i.nonce),this._lastStyleElement)r=this._lastStyleElement.nextElementSibling;else{var s=this._findPlaceholderStyleTag();s?r=s.nextElementSibling:r=e.childNodes[0]}return e.insertBefore(t,e.contains(r)?r:null),this._lastStyleElement=t,t},n.prototype._findPlaceholderStyleTag=function(){var e=document.head;return e?e.querySelector("style[data-merge-styles]"):null},n}();function uk(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=[],r=[],i=Fs.getInstance();function s(o){for(var a=0,u=o;a<u.length;a++){var c=u[a];if(c)if(typeof c=="string")if(c.indexOf(" ")>=0)s(c.split(" "));else{var f=i.argsFromClassName(c);f?s(f):t.indexOf(c)===-1&&t.push(c)}else Array.isArray(c)?s(c):typeof c=="object"&&r.push(c)}}return s(n),{classes:t,objects:r}}function ck(n){Rd!==n&&(Rd=n)}function dk(){return Rd===void 0&&(Rd=typeof document!="undefined"&&!!document.documentElement&&document.documentElement.getAttribute("dir")==="rtl"),Rd}var Rd;Rd=dk();function Xy(){return{rtl:dk()}}var t2={};function w8(n,e){var t=n[e];t.charAt(0)!=="-"&&(n[e]=t2[t]=t2[t]||t.replace(/([A-Z])/g,"-$1").toLowerCase())}var Mg;function S8(){var n;if(!Mg){var e=typeof document!="undefined"?document:void 0,t=typeof navigator!="undefined"?navigator:void 0,r=(n=t==null?void 0:t.userAgent)===null||n===void 0?void 0:n.toLowerCase();e?Mg={isWebkit:!!(e&&"WebkitAppearance"in e.documentElement.style),isMoz:!!(r&&r.indexOf("firefox")>-1),isOpera:!!(r&&r.indexOf("opera")>-1),isMs:!!(t&&(/rv:11.0/i.test(t.userAgent)||/Edge\/\d./i.test(navigator.userAgent)))}:Mg={isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}}return Mg}var n2={"user-select":1};function M8(n,e){var t=S8(),r=n[e];if(n2[r]){var i=n[e+1];n2[r]&&(t.isWebkit&&n.push("-webkit-"+r,i),t.isMoz&&n.push("-moz-"+r,i),t.isMs&&n.push("-ms-"+r,i),t.isOpera&&n.push("-o-"+r,i))}}var E8=["column-count","font-weight","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function T8(n,e){var t=n[e],r=n[e+1];if(typeof r=="number"){var i=E8.indexOf(t)>-1,s=t.indexOf("--")>-1,o=i||s?"":"px";n[e+1]=""+r+o}}var Eg,ml="left",gl="right",C8="@noflip",r2=(Eg={},Eg[ml]=gl,Eg[gl]=ml,Eg),i2={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"};function A8(n,e,t){if(n.rtl){var r=e[t];if(!r)return;var i=e[t+1];if(typeof i=="string"&&i.indexOf(C8)>=0)e[t+1]=i.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(r.indexOf(ml)>=0)e[t]=r.replace(ml,gl);else if(r.indexOf(gl)>=0)e[t]=r.replace(gl,ml);else if(String(i).indexOf(ml)>=0)e[t+1]=i.replace(ml,gl);else if(String(i).indexOf(gl)>=0)e[t+1]=i.replace(gl,ml);else if(r2[r])e[t]=r2[r];else if(i2[i])e[t+1]=i2[i];else switch(r){case"margin":case"padding":e[t+1]=P8(i);break;case"box-shadow":e[t+1]=R8(i,0);break}}}function R8(n,e){var t=n.split(" "),r=parseInt(t[e],10);return t[0]=t[0].replace(String(r),String(r*-1)),t.join(" ")}function P8(n){if(typeof n=="string"){var e=n.split(" ");if(e.length===4)return e[0]+" "+e[3]+" "+e[2]+" "+e[1]}return n}function D8(n){for(var e=[],t=0,r=0,i=0;i<n.length;i++)switch(n[i]){case"(":r++;break;case")":r&&r--;break;case"	":case" ":r||(i>t&&e.push(n.substring(t,i)),t=i+1);break}return t<n.length&&e.push(n.substring(t)),e}var I8="displayName";function L8(n){var e=n&&n["&"];return e?e.displayName:void 0}var fk=/\:global\((.+?)\)/g;function k8(n){if(!fk.test(n))return n;for(var e=[],t=/\:global\((.+?)\)/g,r=null;r=t.exec(n);)r[1].indexOf(",")>-1&&e.push([r.index,r.index+r[0].length,r[1].split(",").map(function(i){return":global("+i.trim()+")"}).join(", ")]);return e.reverse().reduce(function(i,s){var o=s[0],a=s[1],u=s[2],c=i.slice(0,o),f=i.slice(a);return c+u+f},n)}function s2(n,e){return n.indexOf(":global(")>=0?n.replace(fk,"$1"):n.indexOf(":")===0?e+n:n.indexOf("&")<0?e+" "+n:n}function o2(n,e,t,r){e===void 0&&(e={__order:[]}),t.indexOf("@")===0?(t=t+"{"+n,Pd([r],e,t)):t.indexOf(",")>-1?k8(t).split(",").map(function(i){return i.trim()}).forEach(function(i){return Pd([r],e,s2(i,n))}):Pd([r],e,s2(t,n))}function Pd(n,e,t){e===void 0&&(e={__order:[]}),t===void 0&&(t="&");var r=Fs.getInstance(),i=e[t];i||(i={},e[t]=i,e.__order.push(t));for(var s=0,o=n;s<o.length;s++){var a=o[s];if(typeof a=="string"){var u=r.argsFromClassName(a);u&&Pd(u,e,t)}else if(Array.isArray(a))Pd(a,e,t);else for(var c in a)if(a.hasOwnProperty(c)){var f=a[c];if(c==="selectors"){var h=a.selectors;for(var p in h)h.hasOwnProperty(p)&&o2(t,e,p,h[p])}else typeof f=="object"?f!==null&&o2(t,e,c,f):f!==void 0&&(c==="margin"||c==="padding"?N8(i,c,f):i[c]=f)}}return e}function N8(n,e,t){var r=typeof t=="string"?D8(t):[t];r.length===0&&r.push(t),r[r.length-1]==="!important"&&(r=r.slice(0,-1).map(function(i){return i+" !important"})),n[e+"Top"]=r[0],n[e+"Right"]=r[1]||r[0],n[e+"Bottom"]=r[2]||r[0],n[e+"Left"]=r[3]||r[1]||r[0]}function O8(n,e){for(var t=[n.rtl?"rtl":"ltr"],r=!1,i=0,s=e.__order;i<s.length;i++){var o=s[i];t.push(o);var a=e[o];for(var u in a)a.hasOwnProperty(u)&&a[u]!==void 0&&(r=!0,t.push(u,a[u]))}return r?t.join(""):void 0}function hk(n,e){return e<=0?"":e===1?n:n+hk(n,e-1)}function j1(n,e){if(!e)return"";var t=[];for(var r in e)e.hasOwnProperty(r)&&r!==I8&&e[r]!==void 0&&t.push(r,e[r]);for(var i=0;i<t.length;i+=2)w8(t,i),T8(t,i),A8(n,t,i),M8(t,i);for(var i=1;i<t.length;i+=4)t.splice(i,1,":",t[i],";");return t.join("")}function pk(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=Pd(e),i=O8(n,r);if(i){var s=Fs.getInstance(),o={className:s.classNameFromKey(i),key:i,args:e};if(!o.className){o.className=s.getClassName(L8(r));for(var a=[],u=0,c=r.__order;u<c.length;u++){var f=c[u];a.push(f,j1(n,r[f]))}o.rulesToInsert=a}return o}}function mk(n,e){e===void 0&&(e=1);var t=Fs.getInstance(),r=n.className,i=n.key,s=n.args,o=n.rulesToInsert;if(o){for(var a=0;a<o.length;a+=2){var u=o[a+1];if(u){var c=o[a];c=c.replace(/&/g,hk("."+n.className,e));var f=c+"{"+u+"}"+(c.indexOf("@")===0?"}":"");t.insertRule(f)}}t.cacheClassName(r,i,s,o)}}function B8(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=pk.apply(void 0,qn([n],e));return r?(mk(r,n.specificityMultiplier),r.className):""}function Sa(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return F8(n,Xy())}function F8(n,e){var t=n instanceof Array?n:[n],r=uk(t),i=r.classes,s=r.objects;return s.length&&i.push(B8(e||{},s)),i.join(" ")}function Kl(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(n&&n.length===1&&n[0]&&!n[0].subComponentStyles)return n[0];for(var t={},r={},i=0,s=n;i<s.length;i++){var o=s[i];if(o){for(var a in o)if(o.hasOwnProperty(a)){if(a==="subComponentStyles"&&o.subComponentStyles!==void 0){var u=o.subComponentStyles;for(var c in u)u.hasOwnProperty(c)&&(r.hasOwnProperty(c)?r[c].push(u[c]):r[c]=[u[c]]);continue}var f=t[a],h=o[a];f===void 0?t[a]=h:t[a]=qn(qn([],Array.isArray(f)?f:[f]),Array.isArray(h)?h:[h])}}}if(Object.keys(r).length>0){t.subComponentStyles={};var p=t.subComponentStyles,m=function(v){if(r.hasOwnProperty(v)){var y=r[v];p[v]=function(x){return Kl.apply(void 0,y.map(function(w){return typeof w=="function"?w(x):w}))}}};for(var c in r)m(c)}return t}function rm(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return gk(n,Xy())}function gk(n,e){var t={subComponentStyles:{}},r=n[0];if(!r&&n.length<=1)return{subComponentStyles:{}};var i=Kl.apply(void 0,n),s=[];for(var o in i)if(i.hasOwnProperty(o)){if(o==="subComponentStyles"){t.subComponentStyles=i.subComponentStyles||{};continue}var a=i[o],u=uk(a),c=u.classes,f=u.objects;if(f!=null&&f.length){var h=pk(e||{},{displayName:o},f);h&&(s.push(h),t[o]=c.concat([h.className]).join(" "))}else t[o]=c.join(" ")}for(var p=0,m=s;p<m.length;p++){var h=m[p];h&&mk(h,e==null?void 0:e.specificityMultiplier)}return t}function vk(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var r=[],i=0,s=e;i<s.length;i++){var o=s[i];o&&r.push(typeof o=="function"?o(n):o)}return r.length===1?r[0]:r.length?Kl.apply(void 0,r):{}}function yk(n){var e=Fs.getInstance(),t=j1(Xy(),n),r=e.classNameFromKey(t);if(!r){var i=e.getClassName();e.insertRule("@font-face{"+t+"}",!0),e.cacheClassName(i,t,[],["font-face",t])}}function Hs(n){var e=Fs.getInstance(),t=[];for(var r in n)n.hasOwnProperty(r)&&t.push(r,"{",j1(Xy(),n[r]),"}");var i=t.join(""),s=e.classNameFromKey(i);if(s)return s;var o=e.getClassName();return e.insertRule("@keyframes "+o+"{"+i+"}",!0),e.cacheClassName(o,i,[],["keyframes",i]),o}function z8(n){var e={},t=function(i){if(n.hasOwnProperty(i)){var s;Object.defineProperty(e,i,{get:function(){return s===void 0&&(s=Sa(n[i]).toString()),s},enumerable:!0,configurable:!0})}};for(var r in n)t(r);return e}var xk=!1,IS=void 0;try{IS=window}catch{}function Zn(n){if(!(xk||typeof IS=="undefined")){var e=n;return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:IS}}var im=function(){function n(e,t){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=e||null,this._onErrorHandler=t,this._noop=function(){}}return n.prototype.dispose=function(){var e;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(e in this._timeoutIds)this._timeoutIds.hasOwnProperty(e)&&this.clearTimeout(parseInt(e,10));this._timeoutIds=null}if(this._immediateIds){for(e in this._immediateIds)this._immediateIds.hasOwnProperty(e)&&this.clearImmediate(parseInt(e,10));this._immediateIds=null}if(this._intervalIds){for(e in this._intervalIds)this._intervalIds.hasOwnProperty(e)&&this.clearInterval(parseInt(e,10));this._intervalIds=null}if(this._animationFrameIds){for(e in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(e)&&this.cancelAnimationFrame(parseInt(e,10));this._animationFrameIds=null}},n.prototype.setTimeout=function(e,t){var r=this,i=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),i=setTimeout(function(){try{r._timeoutIds&&delete r._timeoutIds[i],e.apply(r._parent)}catch(s){r._logError(s)}},t),this._timeoutIds[i]=!0),i},n.prototype.clearTimeout=function(e){this._timeoutIds&&this._timeoutIds[e]&&(clearTimeout(e),delete this._timeoutIds[e])},n.prototype.setImmediate=function(e,t){var r=this,i=0,s=Zn(t);if(!this._isDisposed){this._immediateIds||(this._immediateIds={});var o=function(){try{r._immediateIds&&delete r._immediateIds[i],e.apply(r._parent)}catch(a){r._logError(a)}};i=s.setTimeout(o,0),this._immediateIds[i]=!0}return i},n.prototype.clearImmediate=function(e,t){var r=Zn(t);this._immediateIds&&this._immediateIds[e]&&(r.clearTimeout(e),delete this._immediateIds[e])},n.prototype.setInterval=function(e,t){var r=this,i=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),i=setInterval(function(){try{e.apply(r._parent)}catch(s){r._logError(s)}},t),this._intervalIds[i]=!0),i},n.prototype.clearInterval=function(e){this._intervalIds&&this._intervalIds[e]&&(clearInterval(e),delete this._intervalIds[e])},n.prototype.throttle=function(e,t,r){var i=this;if(this._isDisposed)return this._noop;var s=t||0,o=!0,a=!0,u=0,c,f,h=null;r&&typeof r.leading=="boolean"&&(o=r.leading),r&&typeof r.trailing=="boolean"&&(a=r.trailing);var p=function(v){var y=Date.now(),x=y-u,w=o?s-x:s;return x>=s&&(!v||o)?(u=y,h&&(i.clearTimeout(h),h=null),c=e.apply(i._parent,f)):h===null&&a&&(h=i.setTimeout(p,w)),c},m=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];return f=v,p(!0)};return m},n.prototype.debounce=function(e,t,r){var i=this;if(this._isDisposed){var s=function(){};return s.cancel=function(){},s.flush=function(){return null},s.pending=function(){return!1},s}var o=t||0,a=!1,u=!0,c=null,f=0,h=Date.now(),p,m,v=null;r&&typeof r.leading=="boolean"&&(a=r.leading),r&&typeof r.trailing=="boolean"&&(u=r.trailing),r&&typeof r.maxWait=="number"&&!isNaN(r.maxWait)&&(c=r.maxWait);var y=function(C){v&&(i.clearTimeout(v),v=null),h=C},x=function(C){y(C),p=e.apply(i._parent,m)},w=function(C){var A=Date.now(),T=!1;C&&(a&&A-f>=o&&(T=!0),f=A);var R=A-f,D=o-R,O=A-h,Y=!1;return c!==null&&(O>=c&&v?Y=!0:D=Math.min(D,c-O)),R>=o||Y||T?x(A):(v===null||!C)&&u&&(v=i.setTimeout(w,D)),p},b=function(){return!!v},_=function(){b()&&y(Date.now())},S=function(){return b()&&x(Date.now()),p},M=function(){for(var C=[],A=0;A<arguments.length;A++)C[A]=arguments[A];return m=C,w(!0)};return M.cancel=_,M.flush=S,M.pending=b,M},n.prototype.requestAnimationFrame=function(e,t){var r=this,i=0,s=Zn(t);if(!this._isDisposed){this._animationFrameIds||(this._animationFrameIds={});var o=function(){try{r._animationFrameIds&&delete r._animationFrameIds[i],e.apply(r._parent)}catch(a){r._logError(a)}};i=s.requestAnimationFrame?s.requestAnimationFrame(o):s.setTimeout(o,0),this._animationFrameIds[i]=!0}return i},n.prototype.cancelAnimationFrame=function(e,t){var r=Zn(t);this._animationFrameIds&&this._animationFrameIds[e]&&(r.cancelAnimationFrame?r.cancelAnimationFrame(e):r.clearTimeout(e),delete this._animationFrameIds[e])},n.prototype._logError=function(e){this._onErrorHandler&&this._onErrorHandler(e)},n}();function X1(n,e){for(var t in n)if(n.hasOwnProperty(t)&&(!e.hasOwnProperty(t)||e[t]!==n[t]))return!1;for(var t in e)if(e.hasOwnProperty(t)&&!n.hasOwnProperty(t))return!1;return!0}function Eu(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return U8.apply(this,[null,n].concat(e))}function U8(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];e=e||{};for(var i=0,s=t;i<s.length;i++){var o=s[i];if(o)for(var a in o)o.hasOwnProperty(a)&&(!n||n(a))&&(e[a]=o[a])}return e}var Co=function(){function n(e){this._id=n._uniqueId++,this._parent=e,this._eventRecords=[]}return n.raise=function(e,t,r,i){var s;if(n._isElement(e)){if(typeof document!="undefined"&&document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent(t,i||!1,!0),Eu(o,r),s=e.dispatchEvent(o)}else if(typeof document!="undefined"&&document.createEventObject){var a=document.createEventObject(r);e.fireEvent("on"+t,a)}}else for(;e&&s!==!1;){var u=e.__events__,c=u?u[t]:null;if(c){for(var f in c)if(c.hasOwnProperty(f))for(var h=c[f],p=0;s!==!1&&p<h.length;p++){var m=h[p];m.objectCallback&&(s=m.objectCallback.call(m.parent,r))}}e=i?e.parent:null}return s},n.isObserved=function(e,t){var r=e&&e.__events__;return!!r&&!!r[t]},n.isDeclared=function(e,t){var r=e&&e.__declaredEvents;return!!r&&!!r[t]},n.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},n._isElement=function(e){return!!e&&(!!e.addEventListener||typeof HTMLElement!="undefined"&&e instanceof HTMLElement)},n.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},n.prototype.onAll=function(e,t,r){for(var i in t)t.hasOwnProperty(i)&&this.on(e,i,t[i],r)},n.prototype.on=function(e,t,r,i){var s=this;if(t.indexOf(",")>-1)for(var o=t.split(/[ ,]+/),a=0;a<o.length;a++)this.on(e,o[a],r,i);else{var u=this._parent,c={target:e,eventName:t,parent:u,callback:r,options:i},o=e.__events__=e.__events__||{};if(o[t]=o[t]||{count:0},o[t][this._id]=o[t][this._id]||[],o[t][this._id].push(c),o[t].count++,n._isElement(e)){var f=function(){for(var m=[],v=0;v<arguments.length;v++)m[v]=arguments[v];if(!s._isDisposed){var y;try{if(y=r.apply(u,m),y===!1&&m[0]){var x=m[0];x.preventDefault&&x.preventDefault(),x.stopPropagation&&x.stopPropagation(),x.cancelBubble=!0}}catch{}return y}};c.elementCallback=f,e.addEventListener?e.addEventListener(t,f,i):e.attachEvent&&e.attachEvent("on"+t,f)}else{var h=function(){for(var m=[],v=0;v<arguments.length;v++)m[v]=arguments[v];if(!s._isDisposed)return r.apply(u,m)};c.objectCallback=h}this._eventRecords.push(c)}},n.prototype.off=function(e,t,r,i){for(var s=0;s<this._eventRecords.length;s++){var o=this._eventRecords[s];if((!e||e===o.target)&&(!t||t===o.eventName)&&(!r||r===o.callback)&&(typeof i!="boolean"||i===o.options)){var a=o.target.__events__,u=a[o.eventName],c=u?u[this._id]:null;c&&(c.length===1||!r?(u.count-=c.length,delete a[o.eventName][this._id]):(u.count--,c.splice(c.indexOf(o),1)),u.count||delete a[o.eventName]),o.elementCallback&&(o.target.removeEventListener?o.target.removeEventListener(o.eventName,o.elementCallback,o.options):o.target.detachEvent&&o.target.detachEvent("on"+o.eventName,o.elementCallback)),this._eventRecords.splice(s--,1)}}},n.prototype.raise=function(e,t,r){return n.raise(this._parent,e,t,r)},n.prototype.declare=function(e){var t=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if(typeof e=="string")t[e]=!0;else for(var r=0;r<e.length;r++)t[e[r]]=!0},n._uniqueId=0,n}();function Xr(n){if(!(xk||typeof document=="undefined")){var e=n;return e&&e.ownerDocument?e.ownerDocument:document}}var mb,Wh=0,_k=Sa({overflow:"hidden !important"}),a2="data-is-scrollable",H8=function(n,e){if(!!n){var t=0,r=null,i=function(o){o.targetTouches.length===1&&(t=o.targetTouches[0].clientY)},s=function(o){if(o.targetTouches.length===1&&(o.stopPropagation(),!!r)){var a=o.targetTouches[0].clientY-t,u=wk(o.target);u&&(r=u),r.scrollTop===0&&a>0&&o.preventDefault(),r.scrollHeight-Math.ceil(r.scrollTop)<=r.clientHeight&&a<0&&o.preventDefault()}};e.on(n,"touchstart",i,{passive:!1}),e.on(n,"touchmove",s,{passive:!1}),r=n}},W8=function(n,e){if(!!n){var t=function(r){r.stopPropagation()};e.on(n,"touchmove",t,{passive:!1})}},bk=function(n){n.preventDefault()};function V8(){var n=Xr();n&&n.body&&!Wh&&(n.body.classList.add(_k),n.body.addEventListener("touchmove",bk,{passive:!1,capture:!1})),Wh++}function G8(){if(Wh>0){var n=Xr();n&&n.body&&Wh===1&&(n.body.classList.remove(_k),n.body.removeEventListener("touchmove",bk)),Wh--}}function j8(){if(mb===void 0){var n=document.createElement("div");n.style.setProperty("width","100px"),n.style.setProperty("height","100px"),n.style.setProperty("overflow","scroll"),n.style.setProperty("position","absolute"),n.style.setProperty("top","-9999px"),document.body.appendChild(n),mb=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return mb}function wk(n){for(var e=n,t=Xr(n);e&&e!==t.body;){if(e.getAttribute(a2)==="true")return e;e=e.parentElement}for(e=n;e&&e!==t.body;){if(e.getAttribute(a2)!=="false"){var r=getComputedStyle(e),i=r?r.getPropertyValue("overflow-y"):"";if(i&&(i==="scroll"||i==="auto"))return e}e=e.parentElement}return(!e||e===t.body)&&(e=Zn(n)),e}var X8=void 0;function q8(n){console&&console.warn&&console.warn(n)}function Sk(n,e,t,r,i){if(i===!0&&!1)for(var s,o;s<o.length;s++)var a}(function(n){qr(e,n);function e(t,r){var i=n.call(this,t,r)||this;return K8(i,e.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),i}return e.prototype.componentDidUpdate=function(t,r){this._updateComponentRef(t,this.props)},e.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},e.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var t=0,r=this._disposables.length;t<r;t++){var i=this.__disposables[t];i.dispose&&i.dispose()}this.__disposables=null}},Object.defineProperty(e.prototype,"className",{get:function(){if(!this.__className){var t=/function (.{1,})\(/,r=t.exec(this.constructor.toString());this.__className=r&&r.length>1?r[1]:""}return this.__className},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_async",{get:function(){return this.__async||(this.__async=new im(this),this._disposables.push(this.__async)),this.__async},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_events",{get:function(){return this.__events||(this.__events=new Co(this),this._disposables.push(this.__events)),this.__events},enumerable:!1,configurable:!0}),e.prototype._resolveRef=function(t){var r=this;return this.__resolves||(this.__resolves={}),this.__resolves[t]||(this.__resolves[t]=function(i){return r[t]=i}),this.__resolves[t]},e.prototype._updateComponentRef=function(t,r){r===void 0&&(r={}),t&&r&&t.componentRef!==r.componentRef&&(this._setComponentRef(t.componentRef,null),this._setComponentRef(r.componentRef,this))},e.prototype._warnDeprecations=function(t){this.className,this.props},e.prototype._warnMutuallyExclusive=function(t){this.className,this.props},e.prototype._warnConditionallyRequiredProps=function(t,r,i){Sk(this.className,this.props,t,r,i)},e.prototype._setComponentRef=function(t,r){!this._skipComponentRefResolution&&t&&(typeof t=="function"&&t(r),typeof t=="object"&&(t.current=r))},e})(L.exports.Component);function K8(n,e,t){for(var r=0,i=t.length;r<i;r++)Y8(n,e,t[r])}function Y8(n,e,t){var r=n[t],i=e[t];(r||i)&&(n[t]=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a;return i&&(a=i.apply(this,s)),r!==i&&(a=r.apply(this,s)),a})}function V0(){return null}var gb="__globalSettings__",q1="__callbacks__",Z8=0,Mk=function(){function n(){}return n.getValue=function(e,t){var r=LS();return r[e]===void 0&&(r[e]=typeof t=="function"?t():t),r[e]},n.setValue=function(e,t){var r=LS(),i=r[q1],s=r[e];if(t!==s){r[e]=t;var o={oldValue:s,value:t,key:e};for(var a in i)i.hasOwnProperty(a)&&i[a](o)}return t},n.addChangeListener=function(e){var t=e.__id__,r=l2();t||(t=e.__id__=String(Z8++)),r[t]=e},n.removeChangeListener=function(e){var t=l2();delete t[e.__id__]},n}();function LS(){var n,e=Zn(),t=e||{};return t[gb]||(t[gb]=(n={},n[q1]={},n)),t[gb]}function l2(){var n=LS();return n[q1]}var $e={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pauseBreak:19,capslock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,zero:48,one:49,two:50,three:51,four:52,five:53,six:54,seven:55,eight:56,nine:57,colon:58,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindow:92,select:93,zero_numpad:96,one_numpad:97,two_numpad:98,three_numpad:99,four_numpad:100,five_numpad:101,six_numpad:102,seven_numpad:103,eight_numpad:104,nine_numpad:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrollLock:145,semicolon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222},zo=function(){function n(e,t,r,i){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0),this.top=r,this.bottom=i,this.left=e,this.right=t}return Object.defineProperty(n.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!1,configurable:!0}),n.prototype.equals=function(e){return parseFloat(this.top.toFixed(4))===parseFloat(e.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(e.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(e.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(e.right.toFixed(4))},n}();function J8(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.length<2?e[0]:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];e.forEach(function(s){return s&&s.apply(n,r)})}}function pf(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(function(r){return r}).join(" ").trim();return t===""?void 0:t}function Q8(n,e,t){t===void 0&&(t=0);for(var r=-1,i=t;n&&i<n.length;i++)if(e(n[i],i)){r=i;break}return r}function $8(n,e,t){var r=n.slice();return r.splice(e,0,t),r}function e9(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Ek(n){var e=null;try{var t=Zn();e=t?t.sessionStorage.getItem(n):null}catch{}return e}function t9(n,e){var t;try{(t=Zn())===null||t===void 0||t.sessionStorage.setItem(n,e)}catch{}}var Tk="isRTL",ga;function _i(n){if(n===void 0&&(n={}),n.rtl!==void 0)return n.rtl;if(ga===void 0){var e=Ek(Tk);e!==null&&(ga=e==="1",n9(ga));var t=Xr();ga===void 0&&t&&(ga=(t.body&&t.body.getAttribute("dir")||t.documentElement.getAttribute("dir"))==="rtl",ck(ga))}return!!ga}function n9(n,e){e===void 0&&(e=!1);var t=Xr();t&&t.documentElement.setAttribute("dir",n?"rtl":"ltr"),e&&t9(Tk,n?"1":"0"),ga=n,ck(ga)}function r9(n){return n&&!!n._virtual}function i9(n){var e;return n&&r9(n)&&(e=n._virtual.parent),e}function To(n,e){return e===void 0&&(e=!0),n&&(e&&i9(n)||n.parentNode&&n.parentNode)}function Fi(n,e,t){t===void 0&&(t=!0);var r=!1;if(n&&e)if(t)if(n===e)r=!0;else for(r=!1;e;){var i=To(e);if(i===n){r=!0;break}e=i}else n.contains&&(r=n.contains(e));return r}function K1(n,e){return!n||n===document.body?null:e(n)?n:K1(To(n),e)}function s9(n,e){var t=K1(n,function(r){return r.hasAttribute(e)});return t&&t.getAttribute(e)}var kS="data-portal-element";function o9(n){n.setAttribute(kS,"true")}function Ck(n,e){var t=K1(n,function(r){return e===r||r.hasAttribute(kS)});return t!==null&&t.hasAttribute(kS)}function a9(n,e){var t=n,r=e;t._virtual||(t._virtual={children:[]});var i=t._virtual.parent;if(i&&i!==e){var s=i._virtual.children.indexOf(t);s>-1&&i._virtual.children.splice(s,1)}t._virtual.parent=r||void 0,r&&(r._virtual||(r._virtual={children:[]}),r._virtual.children.push(t))}var l9="data-is-focusable",u9="data-is-visible",c9="data-focuszone-id",d9="data-is-sub-focuszone";function Ak(n,e,t){return ri(n,e,!0,!1,!1,t)}function Rk(n,e,t){return yi(n,e,!0,!1,!0,t)}function f9(n,e,t,r){return r===void 0&&(r=!0),ri(n,e,r,!1,!1,t,!1,!0)}function h9(n,e,t,r){return r===void 0&&(r=!0),yi(n,e,r,!1,!0,t,!1,!0)}function p9(n){var e=ri(n,n,!0,!1,!1,!0);return e?(Dk(e),!0):!1}function yi(n,e,t,r,i,s,o,a){if(!e||!o&&e===n)return null;var u=Y1(e);if(i&&u&&(s||!(va(e)||Z1(e)))){var c=yi(n,e.lastElementChild,!0,!0,!0,s,o,a);if(c){if(a&&Ao(c,!0)||!a)return c;var f=yi(n,c.previousElementSibling,!0,!0,!0,s,o,a);if(f)return f;for(var h=c.parentElement;h&&h!==e;){var p=yi(n,h.previousElementSibling,!0,!0,!0,s,o,a);if(p)return p;h=h.parentElement}}}if(t&&u&&Ao(e,a))return e;var m=yi(n,e.previousElementSibling,!0,!0,!0,s,o,a);return m||(r?null:yi(n,e.parentElement,!0,!1,!1,s,o,a))}function ri(n,e,t,r,i,s,o,a){if(!e||e===n&&i&&!o)return null;var u=Y1(e);if(t&&u&&Ao(e,a))return e;if(!i&&u&&(s||!(va(e)||Z1(e)))){var c=ri(n,e.firstElementChild,!0,!0,!1,s,o,a);if(c)return c}if(e===n)return null;var f=ri(n,e.nextElementSibling,!0,!0,!1,s,o,a);return f||(r?null:ri(n,e.parentElement,!1,!1,!0,s,o,a))}function Y1(n){if(!n||!n.getAttribute)return!1;var e=n.getAttribute(u9);return e!=null?e==="true":n.offsetHeight!==0||n.offsetParent!==null||n.isVisible===!0}function Ao(n,e){if(!n||n.disabled)return!1;var t=0,r=null;n&&n.getAttribute&&(r=n.getAttribute("tabIndex"),r&&(t=parseInt(r,10)));var i=n.getAttribute?n.getAttribute(l9):null,s=r!==null&&t>=0,o=!!n&&i!=="false"&&(n.tagName==="A"||n.tagName==="BUTTON"||n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.tagName==="SELECT"||i==="true"||s);return e?t!==-1&&o:o}function va(n){return!!(n&&n.getAttribute&&!!n.getAttribute(c9))}function Z1(n){return!!(n&&n.getAttribute&&n.getAttribute(d9)==="true")}function m9(n){var e=Xr(n),t=e&&e.activeElement;return!!(t&&Fi(n,t))}function Pk(n,e){return s9(n,e)!=="true"}var Rc=void 0;function Dk(n){if(n){if(Rc){Rc=n;return}Rc=n;var e=Zn(n);e&&e.requestAnimationFrame(function(){Rc&&Rc.focus(),Rc=void 0})}}function g9(n,e){for(var t=n,r=0,i=e;r<i.length;r++){var s=i[r],o=t.children[Math.min(s,t.children.length-1)];if(!o)break;t=o}return t=Ao(t)&&Y1(t)?t:ri(n,t,!0)||yi(n,t),t}function v9(n,e){for(var t=[];e&&n&&e!==n;){var r=To(e,!0);if(r===null)return[];t.unshift(Array.prototype.indexOf.call(r.children,e)),e=r}return t}function bl(n,e,t,r){return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}var y9=50,x9=5,Jv=0,vb=Fs.getInstance();vb&&vb.onReset&&vb.onReset(function(){return Jv++});var Tg="__retval__";function ms(n){n===void 0&&(n={});var e=new Map,t=0,r=0,i=Jv,s=function(o,a){var u;if(a===void 0&&(a={}),n.useStaticStyles&&typeof o=="function"&&o.__noStyleOverride__)return o(a);r++;var c=e,f=a.theme,h=f&&f.rtl!==void 0?f.rtl:_i(),p=n.disableCaching;if(i!==Jv&&(i=Jv,e=new Map,t=0),n.disableCaching||(c=u2(e,o),c=u2(c,a)),(p||!c[Tg])&&(o===void 0?c[Tg]={}:c[Tg]=gk([typeof o=="function"?o(a):o],{rtl:!!h,specificityMultiplier:n.useStaticStyles?x9:void 0}),p||t++),t>(n.cacheSize||y9)){var m=Zn();!((u=m==null?void 0:m.FabricConfig)===null||u===void 0)&&u.enableClassNameCacheFullWarning&&(console.warn("Styles are being recalculated too frequently. Cache miss rate is "+t+"/"+r+"."),console.trace()),e.clear(),t=0,n.disableCaching=!0}return c[Tg]};return s}function yb(n,e){return e=_9(e),n.has(e)||n.set(e,new Map),n.get(e)}function u2(n,e){if(typeof e=="function"){var t=e.__cachedInputs__;if(t)for(var r=0,i=e.__cachedInputs__;r<i.length;r++){var s=i[r];n=yb(n,s)}else n=yb(n,e)}else if(typeof e=="object")for(var o in e)e.hasOwnProperty(o)&&(n=yb(n,e[o]));return n}function _9(n){switch(n){case void 0:return"__undefined__";case null:return"__null__";default:return n}}var c2=!1,Qv=0,b9={empty:!0},xb={},xp=typeof WeakMap=="undefined"?null:WeakMap;function w9(){Qv++}function Tr(n,e,t){if(e===void 0&&(e=100),t===void 0&&(t=!1),!xp)return n;if(!c2){var r=Fs.getInstance();r&&r.onReset&&Fs.getInstance().onReset(w9),c2=!0}var i,s=0,o=Qv;return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var f=i;(i===void 0||o!==Qv||e>0&&s>e)&&(i=d2(),s=0,o=Qv),f=i;for(var h=0;h<u.length;h++){var p=S9(u[h]);f.map.has(p)||f.map.set(p,d2()),f=f.map.get(p)}return f.hasOwnProperty("value")||(f.value=n.apply(void 0,u),s++),t&&(f.value===null||f.value===void 0)&&(f.value=n.apply(void 0,u)),f.value}}function Gd(n){if(!xp)return n;var e=new xp;function t(r){if(!r||typeof r!="function"&&typeof r!="object")return n(r);if(e.has(r))return e.get(r);var i=n(r);return e.set(r,i),i}return t}function S9(n){if(n){if(typeof n=="object"||typeof n=="function")return n;xb[n]||(xb[n]={val:n})}else return b9;return xb[n]}function d2(){return{map:xp?new xp:null}}function M9(n){var e=n,t=Gd(function(r){if(n===r)throw new Error("Attempted to compose a component with itself.");var i=r,s=Gd(function(a){var u=function(c){return L.exports.createElement(i,J({},c,{defaultRender:a}))};return u}),o=function(a){var u=a.defaultRender;return L.exports.createElement(e,J({},a,{defaultRender:u?s(u):i}))};return o});return t}var E9=Gd(M9);function T9(n,e){return E9(n)(e)}function uo(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=[],r=0,i=n;r<i.length;r++){var s=i[r];if(s)if(typeof s=="string")t.push(s);else if(s.hasOwnProperty("toString")&&typeof s.toString=="function")t.push(s.toString());else for(var o in s)s[o]&&t.push(o)}return t.join(" ")}var C9="customizations",A9={settings:{},scopedSettings:{},inCustomizerContext:!1},rl=Mk.getValue(C9,{settings:{},scopedSettings:{},inCustomizerContext:!1}),Cg=[],po=function(){function n(){}return n.reset=function(){rl.settings={},rl.scopedSettings={}},n.applySettings=function(e){rl.settings=J(J({},rl.settings),e),n._raiseChange()},n.applyScopedSettings=function(e,t){rl.scopedSettings[e]=J(J({},rl.scopedSettings[e]),t),n._raiseChange()},n.getSettings=function(e,t,r){r===void 0&&(r=A9);for(var i={},s=t&&r.scopedSettings[t]||{},o=t&&rl.scopedSettings[t]||{},a=0,u=e;a<u.length;a++){var c=u[a];i[c]=s[c]||r.settings[c]||o[c]||rl.settings[c]}return i},n.applyBatchedUpdates=function(e,t){n._suppressUpdates=!0;try{e()}catch{}n._suppressUpdates=!1,t||n._raiseChange()},n.observe=function(e){Cg.push(e)},n.unobserve=function(e){Cg=Cg.filter(function(t){return t!==e})},n._raiseChange=function(){n._suppressUpdates||Cg.forEach(function(e){return e()})},n}(),G0=L.exports.createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}});function R9(n,e){n===void 0&&(n={});var t=Ik(e)?e:D9(e);return t(n)}function P9(n,e){n===void 0&&(n={});var t=Ik(e)?e:I9(e);return t(n)}function Ik(n){return typeof n=="function"}function D9(n){return function(e){return n?J(J({},e),n):e}}function I9(n){return n===void 0&&(n={}),function(e){var t=J({},e);for(var r in n)n.hasOwnProperty(r)&&(t[r]=J(J({},e[r]),n[r]));return t}}function L9(n,e){var t=(e||{}).customizations,r=t===void 0?{settings:{},scopedSettings:{}}:t;return{customizations:{settings:R9(r.settings,n.settings),scopedSettings:P9(r.scopedSettings,n.scopedSettings),inCustomizerContext:!0}}}var k9=function(n){qr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._onCustomizationChange=function(){return t.forceUpdate()},t}return e.prototype.componentDidMount=function(){po.observe(this._onCustomizationChange)},e.prototype.componentWillUnmount=function(){po.unobserve(this._onCustomizationChange)},e.prototype.render=function(){var t=this,r=this.props.contextTransform;return L.exports.createElement(G0.Consumer,null,function(i){var s=L9(t.props,i);return r&&(s=r(s)),L.exports.createElement(G0.Provider,{value:s},t.props.children)})},e}(L.exports.Component);function N9(n,e){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function Lk(n,e,t){return function(i){var s,o=(s=function(a){qr(u,a);function u(c){var f=a.call(this,c)||this;return f._styleCache={},f._onSettingChanged=f._onSettingChanged.bind(f),f}return u.prototype.componentDidMount=function(){po.observe(this._onSettingChanged)},u.prototype.componentWillUnmount=function(){po.unobserve(this._onSettingChanged)},u.prototype.render=function(){var c=this;return L.exports.createElement(G0.Consumer,null,function(f){var h=po.getSettings(e,n,f.customizations),p=c.props;if(h.styles&&typeof h.styles=="function"&&(h.styles=h.styles(J(J({},h),p))),t&&h.styles){if(c._styleCache.default!==h.styles||c._styleCache.component!==p.styles){var m=Kl(h.styles,p.styles);c._styleCache.default=h.styles,c._styleCache.component=p.styles,c._styleCache.merged=m}return L.exports.createElement(i,J({},h,p,{styles:c._styleCache.merged}))}return L.exports.createElement(i,J({},h,p))})},u.prototype._onSettingChanged=function(){this.forceUpdate()},u}(L.exports.Component),s.displayName="Customized"+n,s);return N9(i,o)}}function O9(n,e){var t=B9(),r=L.exports.useContext(G0).customizations,i=r.inCustomizerContext;return L.exports.useEffect(function(){return i||po.observe(t),function(){i||po.unobserve(t)}},[i]),po.getSettings(n,e,r)}function B9(){var n=L.exports.useState(0),e=n[1];return function(){return e(function(t){return++t})}}function kk(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=J8(n,n[t],e[t]))}var j0="__currentId__",F9="id__",X0=Zn()||{};X0[j0]===void 0&&(X0[j0]=0);var f2=!1;function mo(n){if(!f2){var e=Fs.getInstance();e&&e.onReset&&e.onReset(z9),f2=!0}var t=X0[j0]++;return(n===void 0?F9:n)+t}function z9(n){n===void 0&&(n=0),X0[j0]=n}var tr=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t={},r=0,i=n;r<i.length;r++)for(var s=i[r],o=Array.isArray(s)?s:Object.keys(s),a=0,u=o;a<u.length;a++){var c=u[a];t[c]=1}return t},U9=tr(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),H9=tr(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),vr=tr(H9,U9);tr(vr,["form"]);var W9=tr(vr,["height","loop","muted","preload","src","width"]);tr(W9,["poster"]);tr(vr,["start"]);tr(vr,["value"]);var Nk=tr(vr,["download","href","hrefLang","media","rel","target","type"]),ju=tr(vr,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]);tr(ju,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]);tr(ju,["autoCapitalize","cols","dirname","form","maxLength","minLength","placeholder","readOnly","required","rows","wrap"]);tr(ju,["form","multiple","required"]);tr(vr,["selected","value"]);tr(vr,["cellPadding","cellSpacing"]);tr(vr,["rowSpan","scope"]);tr(vr,["colSpan","headers","rowSpan","scope"]);tr(vr,["span"]);tr(vr,["span"]);tr(vr,["acceptCharset","action","encType","encType","method","noValidate","target"]);tr(vr,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]);var V9=tr(vr,["alt","crossOrigin","height","src","srcSet","useMap","width"]),Ua=vr;function mr(n,e,t){for(var r=Array.isArray(e),i={},s=Object.keys(n),o=0,a=s;o<a.length;o++){var u=a[o],c=!r&&e[u]||r&&e.indexOf(u)>=0||u.indexOf("data-")===0||u.indexOf("aria-")===0;c&&(!t||(t==null?void 0:t.indexOf(u))===-1)&&(i[u]=n[u])}return i}function nc(n){kk(n,{componentDidMount:G9,componentDidUpdate:j9,componentWillUnmount:X9})}function G9(){q0(this.props.componentRef,this)}function j9(n){n.componentRef!==this.props.componentRef&&(q0(n.componentRef,null),q0(this.props.componentRef,this))}function X9(){q0(this.props.componentRef,null)}function q0(n,e){n&&(typeof n=="object"?n.current=e:typeof n=="function"&&n(e))}var qs,q9=(qs={},qs[$e.up]=1,qs[$e.down]=1,qs[$e.left]=1,qs[$e.right]=1,qs[$e.home]=1,qs[$e.end]=1,qs[$e.tab]=1,qs[$e.pageUp]=1,qs[$e.pageDown]=1,qs);function K9(n){return!!q9[n]}var Hr="ms-Fabric--isFocusVisible",h2="ms-Fabric--isFocusHidden";function Dd(n,e){var t=e?Zn(e):Zn();if(t){var r=t.document.body.classList;r.add(n?Hr:h2),r.remove(n?h2:Hr)}}var p2=new WeakMap;function m2(n,e){var t,r=p2.get(n);return r?t=r+e:t=1,p2.set(n,t),t}function J1(n){L.exports.useEffect(function(){var e,t=Zn(n==null?void 0:n.current);if(!(!t||((e=t.FabricConfig)===null||e===void 0?void 0:e.disableFocusRects)===!0)){var r=m2(t,1);return r<=1&&(t.addEventListener("mousedown",g2,!0),t.addEventListener("pointerdown",v2,!0),t.addEventListener("keydown",y2,!0)),function(){var i;!t||((i=t.FabricConfig)===null||i===void 0?void 0:i.disableFocusRects)===!0||(r=m2(t,-1),r===0&&(t.removeEventListener("mousedown",g2,!0),t.removeEventListener("pointerdown",v2,!0),t.removeEventListener("keydown",y2,!0)))}}},[n])}var Y9=function(n){return J1(n.rootRef),null};function g2(n){Dd(!1,n.target)}function v2(n){n.pointerType!=="mouse"&&Dd(!1,n.target)}function y2(n){K9(n.which)&&Dd(!0,n.target)}function Z9(n){var e=null;try{var t=Zn();e=t?t.localStorage.getItem(n):null}catch{}return e}var du,x2="language";function J9(n){if(n===void 0&&(n="sessionStorage"),du===void 0){var e=Xr(),t=n==="localStorage"?Z9(x2):n==="sessionStorage"?Ek(x2):void 0;t&&(du=t),du===void 0&&e&&(du=e.documentElement.getAttribute("lang")),du===void 0&&(du="en")}return du}function _2(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var r=0,i=e;r<i.length;r++){var s=i[r];Ok(n||{},s)}return n}function Ok(n,e,t){t===void 0&&(t=[]),t.push(e);for(var r in e)if(e.hasOwnProperty(r)&&r!=="__proto__"&&r!=="constructor"&&r!=="prototype"){var i=e[r];if(typeof i=="object"&&i!==null&&!Array.isArray(i)){var s=t.indexOf(i)>-1;n[r]=s?i:Ok(n[r]||{},i,t)}else n[r]=i}return t.pop(),n}var NS=function(){return!window||!window.navigator||!window.navigator.userAgent?!1:/iPad|iPhone|iPod/i.test(window.navigator.userAgent)},Q9=["TEMPLATE","STYLE","SCRIPT"];function Bk(n){var e=Xr(n);if(!e)return function(){};for(var t=[];n!==e.body&&n.parentElement;){for(var r=0,i=n.parentElement.children;r<i.length;r++){var s=i[r],o=s.getAttribute("aria-hidden");s!==n&&(o==null?void 0:o.toLowerCase())!=="true"&&Q9.indexOf(s.tagName)===-1&&t.push([s,o])}n=n.parentElement}return t.forEach(function(a){var u=a[0];u.setAttribute("aria-hidden","true")}),function(){$9(t),t=[]}}function $9(n){n.forEach(function(e){var t=e[0],r=e[1];r?t.setAttribute("aria-hidden",r):t.removeAttribute("aria-hidden")})}var _b;function OS(n){var e;if(typeof _b=="undefined"||n){var t=Zn(),r=(e=t==null?void 0:t.navigator)===null||e===void 0?void 0:e.userAgent;_b=!!r&&r.indexOf("Macintosh")!==-1}return!!_b}function ej(n){var e=Gd(function(t){var r=Gd(function(i){return function(s){return t(s,i)}});return function(i,s){return n(i,s?r(s):t)}});return e}var tj=Gd(ej);function nj(n,e){return tj(n)(e)}var rj=function(n){var e;return function(t){e||(e=new Set,kk(n,{componentWillUnmount:function(){e.forEach(function(i){return cancelAnimationFrame(i)})}}));var r=requestAnimationFrame(function(){e.delete(r),t()});e.add(r)}},ij=["theme","styles"];function gs(n,e,t,r,i){r=r||{scope:"",fields:void 0};var s=r.scope,o=r.fields,a=o===void 0?ij:o,u=L.exports.forwardRef(function(f,h){var p=L.exports.useRef(),m=O9(a,s),v=m.styles;m.dir;var y=hf(m,["styles","dir"]),x=t?t(f):void 0,w=p.current&&p.current.__cachedInputs__||[],b=f.styles;if(!p.current||v!==w[1]||b!==w[2]){var _=function(S){return vk(S,e,v,b)};_.__cachedInputs__=[e,v,b],_.__noStyleOverride__=!v&&!b,p.current=_}return L.exports.createElement(n,J({ref:h},y,x,f,{styles:p.current}))});u.displayName="Styled"+(n.displayName||n.name);var c=i?L.exports.memo(u):u;return u.displayName&&(c.displayName=u.displayName),c}function sm(n,e){for(var t=J({},e),r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];t[s]===void 0&&(t[s]=n[s])}return t}var sj=function(n){return function(e){for(var t=0,r=n.refs;t<r.length;t++){var i=r[t];typeof i=="function"?i(e):i&&(i.current=e)}}},Fk=function(n){var e={refs:[]};return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(!e.resolver||!e9(e.refs,t))&&(e.resolver=sj(e)),e.refs=t,e.resolver}},jd=L.exports.useLayoutEffect,oj="icons",Du=Mk.getValue(oj,{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),bb=Fs.getInstance();bb&&bb.onReset&&bb.onReset(function(){for(var n in Du)Du.hasOwnProperty(n)&&!!Du[n].subset&&(Du[n].subset.className=void 0)});var aj=function(n){return n.toLowerCase()};function lj(n){var e=void 0,t=Du.__options;if(n=n?aj(n):"",n=Du.__remapped[n]||n,n)if(e=Du[n],e){var r=e.subset;r&&r.fontFace&&(r.isRegistered||(yk(r.fontFace),r.isRegistered=!0),r.className||(r.className=Sa(r.style,{fontFamily:r.fontFace.fontFamily,fontWeight:r.fontFace.fontWeight||"normal",fontStyle:r.fontFace.fontStyle||"normal"})))}else!t.disableWarnings&&t.warnOnMissingIcons&&q8('The icon "'+n+'" was used but not registered. See https://github.com/microsoft/fluentui/wiki/Using-icons for more information.');return e}function uj(n,e,t,r,i){i===void 0&&(i=!1);var s=J({primaryButtonBorder:"transparent",errorText:r?"#F1707B":"#a4262c",messageText:r?"#F3F2F1":"#323130",messageLink:r?"#6CB8F6":"#005A9E",messageLinkHovered:r?"#82C7FF":"#004578",infoIcon:r?"#C8C6C4":"#605e5c",errorIcon:r?"#F1707B":"#A80000",blockingIcon:r?"#442726":"#FDE7E9",warningIcon:r?"#C8C6C4":"#797775",severeWarningIcon:r?"#FCE100":"#D83B01",successIcon:r?"#92C353":"#107C10",infoBackground:r?"#323130":"#f3f2f1",errorBackground:r?"#442726":"#FDE7E9",blockingBackground:r?"#442726":"#FDE7E9",warningBackground:r?"#433519":"#FFF4CE",severeWarningBackground:r?"#4F2A0F":"#FED9CC",successBackground:r?"#393D1B":"#DFF6DD",warningHighlight:r?"#fff100":"#ffb900",successText:r?"#92c353":"#107C10"},t),o=zk(n,e,s,r);return cj(o,i)}function zk(n,e,t,r,i){var s={},o=n||{},a=o.white,u=o.black,c=o.themePrimary,f=o.themeDark,h=o.themeDarker,p=o.themeDarkAlt,m=o.themeLighter,v=o.neutralLight,y=o.neutralLighter,x=o.neutralDark,w=o.neutralQuaternary,b=o.neutralQuaternaryAlt,_=o.neutralPrimary,S=o.neutralSecondary,M=o.neutralSecondaryAlt,C=o.neutralTertiary,A=o.neutralTertiaryAlt,T=o.neutralLighterAlt,R=o.accent;return a&&(s.bodyBackground=a,s.bodyFrameBackground=a,s.accentButtonText=a,s.buttonBackground=a,s.primaryButtonText=a,s.primaryButtonTextHovered=a,s.primaryButtonTextPressed=a,s.inputBackground=a,s.inputForegroundChecked=a,s.listBackground=a,s.menuBackground=a,s.cardStandoutBackground=a),u&&(s.bodyTextChecked=u,s.buttonTextCheckedHovered=u),c&&(s.link=c,s.primaryButtonBackground=c,s.inputBackgroundChecked=c,s.inputIcon=c,s.inputFocusBorderAlt=c,s.menuIcon=c,s.menuHeader=c,s.accentButtonBackground=c),f&&(s.primaryButtonBackgroundPressed=f,s.inputBackgroundCheckedHovered=f,s.inputIconHovered=f),h&&(s.linkHovered=h),p&&(s.primaryButtonBackgroundHovered=p),m&&(s.inputPlaceholderBackgroundChecked=m),v&&(s.bodyBackgroundChecked=v,s.bodyFrameDivider=v,s.bodyDivider=v,s.variantBorder=v,s.buttonBackgroundCheckedHovered=v,s.buttonBackgroundPressed=v,s.listItemBackgroundChecked=v,s.listHeaderBackgroundPressed=v,s.menuItemBackgroundPressed=v,s.menuItemBackgroundChecked=v),y&&(s.bodyBackgroundHovered=y,s.buttonBackgroundHovered=y,s.buttonBackgroundDisabled=y,s.buttonBorderDisabled=y,s.primaryButtonBackgroundDisabled=y,s.disabledBackground=y,s.listItemBackgroundHovered=y,s.listHeaderBackgroundHovered=y,s.menuItemBackgroundHovered=y),w&&(s.primaryButtonTextDisabled=w,s.disabledSubtext=w),b&&(s.listItemBackgroundCheckedHovered=b),C&&(s.disabledBodyText=C,s.variantBorderHovered=(t==null?void 0:t.variantBorderHovered)||C,s.buttonTextDisabled=C,s.inputIconDisabled=C,s.disabledText=C),_&&(s.bodyText=_,s.actionLink=_,s.buttonText=_,s.inputBorderHovered=_,s.inputText=_,s.listText=_,s.menuItemText=_),T&&(s.bodyStandoutBackground=T,s.defaultStateBackground=T),x&&(s.actionLinkHovered=x,s.buttonTextHovered=x,s.buttonTextChecked=x,s.buttonTextPressed=x,s.inputTextHovered=x,s.menuItemTextHovered=x),S&&(s.bodySubtext=S,s.focusBorder=S,s.inputBorder=S,s.smallInputBorder=S,s.inputPlaceholderText=S),M&&(s.buttonBorder=M),A&&(s.disabledBodySubtext=A,s.disabledBorder=A,s.buttonBackgroundChecked=A,s.menuDivider=A),R&&(s.accentButtonBackground=R),e!=null&&e.elevation4&&(s.cardShadow=e.elevation4),!r&&(e==null?void 0:e.elevation8)?s.cardShadowHovered=e.elevation8:s.variantBorderHovered&&(s.cardShadowHovered="0 0 1px "+s.variantBorderHovered),s=J(J({},s),t),s}function cj(n,e){var t="";return e===!0&&(t=" /* @deprecated */"),n.listTextColor=n.listText+t,n.menuItemBackgroundChecked+=t,n.warningHighlight+=t,n.warningText=n.messageText+t,n.successText+=t,n}function dj(n,e){var t,r,i;e===void 0&&(e={});var s=_2({},n,e,{semanticColors:zk(e.palette,e.effects,e.semanticColors,e.isInverted===void 0?n.isInverted:e.isInverted)});if(((t=e.palette)===null||t===void 0?void 0:t.themePrimary)&&!(!((r=e.palette)===null||r===void 0)&&r.accent)&&(s.palette.accent=e.palette.themePrimary),e.defaultFontStyle)for(var o=0,a=Object.keys(s.fonts);o<a.length;o++){var u=a[o];s.fonts[u]=_2(s.fonts[u],e.defaultFontStyle,(i=e==null?void 0:e.fonts)===null||i===void 0?void 0:i[u])}return s}var b2={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"},vd;(function(n){n.depth0="0 0 0 0 transparent",n.depth4="0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",n.depth8="0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",n.depth16="0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",n.depth64="0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)"})(vd||(vd={}));var w2={elevation4:vd.depth4,elevation8:vd.depth8,elevation16:vd.depth16,elevation64:vd.depth64,roundedCorner2:"2px",roundedCorner4:"4px",roundedCorner6:"6px"},fj={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"},vn="cubic-bezier(.1,.9,.2,1)",ts="cubic-bezier(.1,.25,.75,.9)",Ch="0.167s",BS="0.267s",on="0.367s",FS="0.467s",Rr=Hs({from:{opacity:0},to:{opacity:1}}),Pr=Hs({from:{opacity:1},to:{opacity:0,visibility:"hidden"}}),hj=Yl(-10),pj=Yl(-20),mj=Yl(-40),gj=Yl(-400),vj=Yl(10),yj=Yl(20),xj=Yl(40),_j=Yl(400),bj=qy(10),wj=qy(20),Sj=qy(-10),Mj=qy(-20),Ej=Zl(10),Tj=Zl(20),Cj=Zl(40),Aj=Zl(400),Rj=Zl(-10),Pj=Zl(-20),Dj=Zl(-40),Ij=Zl(-400),Lj=Ky(-10),kj=Ky(-20),Nj=Ky(10),Oj=Ky(20),Bj=Hs({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),Fj=Hs({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),zj=Hs({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),Uj=Hs({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),Hj=Hs({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),Wj=Hs({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),S2={easeFunction1:vn,easeFunction2:ts,durationValue1:Ch,durationValue2:BS,durationValue3:on,durationValue4:FS},Vj={slideRightIn10:Lt(Rr+","+hj,on,vn),slideRightIn20:Lt(Rr+","+pj,on,vn),slideRightIn40:Lt(Rr+","+mj,on,vn),slideRightIn400:Lt(Rr+","+gj,on,vn),slideLeftIn10:Lt(Rr+","+vj,on,vn),slideLeftIn20:Lt(Rr+","+yj,on,vn),slideLeftIn40:Lt(Rr+","+xj,on,vn),slideLeftIn400:Lt(Rr+","+_j,on,vn),slideUpIn10:Lt(Rr+","+bj,on,vn),slideUpIn20:Lt(Rr+","+wj,on,vn),slideDownIn10:Lt(Rr+","+Sj,on,vn),slideDownIn20:Lt(Rr+","+Mj,on,vn),slideRightOut10:Lt(Pr+","+Ej,on,vn),slideRightOut20:Lt(Pr+","+Tj,on,vn),slideRightOut40:Lt(Pr+","+Cj,on,vn),slideRightOut400:Lt(Pr+","+Aj,on,vn),slideLeftOut10:Lt(Pr+","+Rj,on,vn),slideLeftOut20:Lt(Pr+","+Pj,on,vn),slideLeftOut40:Lt(Pr+","+Dj,on,vn),slideLeftOut400:Lt(Pr+","+Ij,on,vn),slideUpOut10:Lt(Pr+","+Lj,on,vn),slideUpOut20:Lt(Pr+","+kj,on,vn),slideDownOut10:Lt(Pr+","+Nj,on,vn),slideDownOut20:Lt(Pr+","+Oj,on,vn),scaleUpIn100:Lt(Rr+","+Bj,on,vn),scaleDownIn100:Lt(Rr+","+zj,on,vn),scaleUpOut103:Lt(Pr+","+Uj,Ch,ts),scaleDownOut98:Lt(Pr+","+Fj,Ch,ts),fadeIn100:Lt(Rr,Ch,ts),fadeIn200:Lt(Rr,BS,ts),fadeIn400:Lt(Rr,on,ts),fadeIn500:Lt(Rr,FS,ts),fadeOut100:Lt(Pr,Ch,ts),fadeOut200:Lt(Pr,BS,ts),fadeOut400:Lt(Pr,on,ts),fadeOut500:Lt(Pr,FS,ts),rotate90deg:Lt(Hj,"0.1s",ts),rotateN90deg:Lt(Wj,"0.1s",ts)};function Lt(n,e,t){return{animationName:n,animationDuration:e,animationTimingFunction:t,animationFillMode:"both"}}function Yl(n){return Hs({from:{transform:"translate3d("+n+"px,0,0)",pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function qy(n){return Hs({from:{transform:"translate3d(0,"+n+"px,0)",pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function Zl(n){return Hs({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d("+n+"px,0,0)"}})}function Ky(n){return Hs({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,"+n+"px,0)"}})}var Fn;(function(n){n.Arabic="Segoe UI Web (Arabic)",n.Cyrillic="Segoe UI Web (Cyrillic)",n.EastEuropean="Segoe UI Web (East European)",n.Greek="Segoe UI Web (Greek)",n.Hebrew="Segoe UI Web (Hebrew)",n.Thai="Leelawadee UI Web",n.Vietnamese="Segoe UI Web (Vietnamese)",n.WestEuropean="Segoe UI Web (West European)",n.Selawik="Selawik Web",n.Armenian="Segoe UI Web (Armenian)",n.Georgian="Segoe UI Web (Georgian)"})(Fn||(Fn={}));var an;(function(n){n.Arabic="'"+Fn.Arabic+"'",n.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",n.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",n.Cyrillic="'"+Fn.Cyrillic+"'",n.EastEuropean="'"+Fn.EastEuropean+"'",n.Greek="'"+Fn.Greek+"'",n.Hebrew="'"+Fn.Hebrew+"'",n.Hindi="'Nirmala UI'",n.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",n.Korean="'Malgun Gothic', Gulim",n.Selawik="'"+Fn.Selawik+"'",n.Thai="'Leelawadee UI Web', 'Kmer UI'",n.Vietnamese="'"+Fn.Vietnamese+"'",n.WestEuropean="'"+Fn.WestEuropean+"'",n.Armenian="'"+Fn.Armenian+"'",n.Georgian="'"+Fn.Georgian+"'"})(an||(an={}));var mi;(function(n){n.size10="10px",n.size12="12px",n.size14="14px",n.size16="16px",n.size18="18px",n.size20="20px",n.size24="24px",n.size28="28px",n.size32="32px",n.size42="42px",n.size68="68px",n.mini="10px",n.xSmall="10px",n.small="12px",n.smallPlus="12px",n.medium="14px",n.mediumPlus="16px",n.icon="16px",n.large="18px",n.xLarge="20px",n.xLargePlus="24px",n.xxLarge="28px",n.xxLargePlus="32px",n.superLarge="42px",n.mega="68px"})(mi||(mi={}));var Tn;(function(n){n.light=100,n.semilight=300,n.regular=400,n.semibold=600,n.bold=700})(Tn||(Tn={}));var _a;(function(n){n.xSmall="10px",n.small="12px",n.medium="16px",n.large="20px"})(_a||(_a={}));var Gj="'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif",jj="'Segoe UI', '"+Fn.WestEuropean+"'",wb={ar:an.Arabic,bg:an.Cyrillic,cs:an.EastEuropean,el:an.Greek,et:an.EastEuropean,he:an.Hebrew,hi:an.Hindi,hr:an.EastEuropean,hu:an.EastEuropean,ja:an.Japanese,kk:an.EastEuropean,ko:an.Korean,lt:an.EastEuropean,lv:an.EastEuropean,pl:an.EastEuropean,ru:an.Cyrillic,sk:an.EastEuropean,"sr-latn":an.EastEuropean,th:an.Thai,tr:an.EastEuropean,uk:an.Cyrillic,vi:an.Vietnamese,"zh-hans":an.ChineseSimplified,"zh-hant":an.ChineseTraditional,hy:an.Armenian,ka:an.Georgian};function Xj(n){return n+", "+Gj}function qj(n){for(var e in wb)if(wb.hasOwnProperty(e)&&n&&e.indexOf(n)===0)return wb[e];return jj}function Qi(n,e,t){return{fontFamily:t,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:n,fontWeight:e}}function Kj(n){var e=qj(n),t=Xj(e),r={tiny:Qi(mi.mini,Tn.regular,t),xSmall:Qi(mi.xSmall,Tn.regular,t),small:Qi(mi.small,Tn.regular,t),smallPlus:Qi(mi.smallPlus,Tn.regular,t),medium:Qi(mi.medium,Tn.regular,t),mediumPlus:Qi(mi.mediumPlus,Tn.regular,t),large:Qi(mi.large,Tn.regular,t),xLarge:Qi(mi.xLarge,Tn.semibold,t),xLargePlus:Qi(mi.xLargePlus,Tn.semibold,t),xxLarge:Qi(mi.xxLarge,Tn.semibold,t),xxLargePlus:Qi(mi.xxLargePlus,Tn.semibold,t),superLarge:Qi(mi.superLarge,Tn.semibold,t),mega:Qi(mi.mega,Tn.semibold,t)};return r}var Yj="https://static2.sharepointonline.com/files/fabric/assets",Zj=Kj(J9());function Tu(n,e,t,r){n="'"+n+"'";var i=r!==void 0?"local('"+r+"'),":"";yk({fontFamily:n,src:i+("url('"+e+".woff2') format('woff2'),")+("url('"+e+".woff') format('woff')"),fontWeight:t,fontStyle:"normal",fontDisplay:"swap"})}function Ks(n,e,t,r,i){r===void 0&&(r="segoeui");var s=n+"/"+t+"/"+r;Tu(e,s+"-light",Tn.light,i&&i+" Light"),Tu(e,s+"-semilight",Tn.semilight,i&&i+" SemiLight"),Tu(e,s+"-regular",Tn.regular,i),Tu(e,s+"-semibold",Tn.semibold,i&&i+" SemiBold"),Tu(e,s+"-bold",Tn.bold,i&&i+" Bold")}function Jj(n){if(n){var e=n+"/fonts";Ks(e,Fn.Thai,"leelawadeeui-thai","leelawadeeui"),Ks(e,Fn.Arabic,"segoeui-arabic"),Ks(e,Fn.Cyrillic,"segoeui-cyrillic"),Ks(e,Fn.EastEuropean,"segoeui-easteuropean"),Ks(e,Fn.Greek,"segoeui-greek"),Ks(e,Fn.Hebrew,"segoeui-hebrew"),Ks(e,Fn.Vietnamese,"segoeui-vietnamese"),Ks(e,Fn.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),Ks(e,an.Selawik,"selawik","selawik"),Ks(e,Fn.Armenian,"segoeui-armenian"),Ks(e,Fn.Georgian,"segoeui-georgian"),Tu("Leelawadee UI Web",e+"/leelawadeeui-thai/leelawadeeui-semilight",Tn.light),Tu("Leelawadee UI Web",e+"/leelawadeeui-thai/leelawadeeui-bold",Tn.semibold)}}function Qj(){var n,e,t=(n=Zn())===null||n===void 0?void 0:n.FabricConfig;return(e=t==null?void 0:t.fontBaseUrl)!==null&&e!==void 0?e:Yj}Jj(Qj());function om(n,e){n===void 0&&(n={}),e===void 0&&(e=!1);var t=!!n.isInverted,r={palette:b2,effects:w2,fonts:Zj,spacing:fj,isInverted:t,disableGlobalClassNames:!1,semanticColors:uj(b2,w2,void 0,t,e),rtl:void 0};return dj(r,n)}var ct="@media screen and (-ms-high-contrast: active), @media screen and (forced-colors: active)",$j="@media screen and (-ms-high-contrast: black-on-white), @media screen and (forced-colors: active) and (prefers-color-scheme: light)",Vh=480,Uk=640,e7=1024,Q1=1366,Hk=Uk-1,t7=768;function $1(n,e){var t=typeof n=="number"?" and (min-width: "+n+"px)":"",r=typeof e=="number"?" and (max-width: "+e+"px)":"";return"@media only screen"+t+r}function os(){return{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}}var _p;(function(n){n.Nav=1,n.ScrollablePane=1,n.FocusStyle=1,n.Coachmark=1e3,n.Layer=1e6,n.KeytipLayer=1000001})(_p||(_p={}));function Xd(n,e,t,r,i,s,o){return typeof e=="number"||!e?M2(n,{inset:e,position:t,highContrastStyle:r,borderColor:i,outlineColor:s,isFocusedOnly:o}):M2(n,e)}function M2(n,e){var t,r;e===void 0&&(e={});var i=e.inset,s=i===void 0?0:i,o=e.width,a=o===void 0?1:o,u=e.position,c=u===void 0?"relative":u,f=e.highContrastStyle,h=e.borderColor,p=h===void 0?n.palette.white:h,m=e.outlineColor,v=m===void 0?n.palette.neutralSecondary:m,y=e.isFocusedOnly,x=y===void 0?!0:y;return{outline:"transparent",position:c,selectors:(t={"::-moz-focus-inner":{border:"0"}},t["."+Hr+" &"+(x?":focus":"")+":after"]={content:'""',position:"absolute",left:s+1,top:s+1,bottom:s+1,right:s+1,border:a+"px solid "+p,outline:a+"px solid "+v,zIndex:_p.FocusStyle,selectors:(r={},r[ct]=f,r)},t)}}function n7(){return{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}}}var Wk={position:"absolute",width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden",whiteSpace:"nowrap"},r7=Tr(function(n,e){var t=Fs.getInstance();return e?Object.keys(n).reduce(function(r,i){return r[i]=t.getClassName(n[i]),r},{}):n});function yo(n,e,t){return r7(n,t!==void 0?t:e.disableGlobalClassNames)}var yd=globalThis&&globalThis.__assign||function(){return yd=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},yd.apply(this,arguments)},Gh=typeof window=="undefined"?global:window,E2=Gh&&Gh.CSPSettings&&Gh.CSPSettings.nonce,as=i7();function i7(){var n=Gh.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};return n.runState||(n=yd(yd({},n),{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}})),n.registeredThemableStyles||(n=yd(yd({},n),{registeredThemableStyles:[]})),Gh.__themeState__=n,n}function s7(n,e){as.loadStyles?as.loadStyles(Vk(n).styleString,n):u7(n)}function o7(n){as.theme=n,l7()}function a7(n){n===void 0&&(n=3),(n===3||n===2)&&(T2(as.registeredStyles),as.registeredStyles=[]),(n===3||n===1)&&(T2(as.registeredThemableStyles),as.registeredThemableStyles=[])}function T2(n){n.forEach(function(e){var t=e&&e.styleElement;t&&t.parentElement&&t.parentElement.removeChild(t)})}function l7(){if(as.theme){for(var n=[],e=0,t=as.registeredThemableStyles;e<t.length;e++){var r=t[e];n.push(r.themableStyle)}n.length>0&&(a7(1),s7([].concat.apply([],n)))}}function Vk(n){var e=as.theme,t=!1,r=(n||[]).map(function(i){var s=i.theme;if(s){t=!0;var o=e?e[s]:void 0,a=i.defaultValue||"inherit";return e&&!o&&console&&!(s in e)&&typeof DEBUG!="undefined"&&DEBUG&&console.warn('Theming value not provided for "'.concat(s,'". Falling back to "').concat(a,'".')),o||a}else return i.rawString});return{styleString:r.join(""),themable:t}}function u7(n){if(typeof document!="undefined"){var e=document.getElementsByTagName("head")[0],t=document.createElement("style"),r=Vk(n),i=r.styleString,s=r.themable;t.setAttribute("data-load-themed-styles","true"),E2&&t.setAttribute("nonce",E2),t.appendChild(document.createTextNode(i)),as.perf.count++,e.appendChild(t);var o=document.createEvent("HTMLEvents");o.initEvent("styleinsert",!0,!1),o.args={newStyle:t},document.dispatchEvent(o);var a={styleElement:t,themableStyle:n};s?as.registeredThemableStyles.push(a):as.registeredStyles.push(a)}}var As=om({}),c7=[],zS="theme";function Gk(){var n,e,t,r=Zn();!((e=r==null?void 0:r.FabricConfig)===null||e===void 0)&&e.legacyTheme?f7(r.FabricConfig.legacyTheme):po.getSettings([zS]).theme||(!((t=r==null?void 0:r.FabricConfig)===null||t===void 0)&&t.theme&&(As=om(r.FabricConfig.theme)),po.applySettings((n={},n[zS]=As,n)))}Gk();function d7(n){return n===void 0&&(n=!1),n===!0&&(As=om({},n)),As}function f7(n,e){var t;return e===void 0&&(e=!1),As=om(n,e),o7(J(J(J(J({},As.palette),As.semanticColors),As.effects),h7(As))),po.applySettings((t={},t[zS]=As,t)),c7.forEach(function(r){try{r(As)}catch{}}),As}function h7(n){for(var e={},t=0,r=Object.keys(n.fonts);t<r.length;t++)for(var i=r[t],s=n.fonts[i],o=0,a=Object.keys(s);o<a.length;o++){var u=a[o],c=i+u.charAt(0).toUpperCase()+u.slice(1),f=s[u];u==="fontSize"&&typeof f=="number"&&(f=f+"px"),e[c]=f}return e}var C2={boxShadow:"none",margin:0,padding:0,boxSizing:"border-box"},lo=z8(Vj);lk("@fluentui/style-utilities","8.7.0");Gk();var sr={topLeftEdge:0,topCenter:1,topRightEdge:2,topAutoEdge:3,bottomLeftEdge:4,bottomCenter:5,bottomRightEdge:6,bottomAutoEdge:7,leftTopEdge:8,leftCenter:9,leftBottomEdge:10,rightTopEdge:11,rightCenter:12,rightBottomEdge:13},lt;(function(n){n[n.top=1]="top",n[n.bottom=-1]="bottom",n[n.left=2]="left",n[n.right=-2]="right"})(lt||(lt={}));var A2;(function(n){n[n.top=0]="top",n[n.bottom=1]="bottom",n[n.start=2]="start",n[n.end=3]="end"})(A2||(A2={}));var Qr;function Li(n,e,t){return{targetEdge:n,alignmentEdge:e,isAuto:t}}var R2=(Qr={},Qr[sr.topLeftEdge]=Li(lt.top,lt.left),Qr[sr.topCenter]=Li(lt.top),Qr[sr.topRightEdge]=Li(lt.top,lt.right),Qr[sr.topAutoEdge]=Li(lt.top,void 0,!0),Qr[sr.bottomLeftEdge]=Li(lt.bottom,lt.left),Qr[sr.bottomCenter]=Li(lt.bottom),Qr[sr.bottomRightEdge]=Li(lt.bottom,lt.right),Qr[sr.bottomAutoEdge]=Li(lt.bottom,void 0,!0),Qr[sr.leftTopEdge]=Li(lt.left,lt.top),Qr[sr.leftCenter]=Li(lt.left),Qr[sr.leftBottomEdge]=Li(lt.left,lt.bottom),Qr[sr.rightTopEdge]=Li(lt.right,lt.top),Qr[sr.rightCenter]=Li(lt.right),Qr[sr.rightBottomEdge]=Li(lt.right,lt.bottom),Qr);function eE(n,e){return!(n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}function K0(n,e){var t=[];return n.top<e.top&&t.push(lt.top),n.bottom>e.bottom&&t.push(lt.bottom),n.left<e.left&&t.push(lt.left),n.right>e.right&&t.push(lt.right),t}function ai(n,e){return n[lt[e]]}function P2(n,e,t){return n[lt[e]]=t,n}function bp(n,e){var t=mf(e);return(ai(n,t.positiveEdge)+ai(n,t.negativeEdge))/2}function Yy(n,e){return n>0?e:e*-1}function US(n,e){return Yy(n,ai(e,n))}function Aa(n,e,t){var r=ai(n,t)-ai(e,t);return Yy(t,r)}function qd(n,e,t,r){r===void 0&&(r=!0);var i=ai(n,e)-t,s=P2(n,e,t);return r&&(s=P2(n,e*-1,ai(n,e*-1)-i)),s}function wp(n,e,t,r){return r===void 0&&(r=0),qd(n,t,ai(e,t)+Yy(t,r))}function p7(n,e,t,r){r===void 0&&(r=0);var i=t*-1,s=Yy(i,r);return qd(n,t*-1,ai(e,t)+s)}function Y0(n,e,t){var r=US(t,n);return r>US(t,e)}function m7(n,e){for(var t=K0(n,e),r=0,i=0,s=t;i<s.length;i++){var o=s[i];r+=Math.pow(Aa(n,e,o),2)}return r}function g7(n,e,t,r,i){i===void 0&&(i=0);var s=[lt.left,lt.right,lt.bottom,lt.top];_i()&&(s[0]*=-1,s[1]*=-1);for(var o=n,a=r.targetEdge,u=r.alignmentEdge,c,f=a,h=u,p=0;p<4;p++){if(Y0(o,t,a))return{elementRectangle:o,targetEdge:a,alignmentEdge:u};var m=m7(o,t);(!c||m<c)&&(c=m,f=a,h=u),s.splice(s.indexOf(a),1),s.length>0&&(s.indexOf(a*-1)>-1?a=a*-1:(u=a,a=s.slice(-1)[0]),o=Z0(n,e,{targetEdge:a,alignmentEdge:u},i))}return o=Z0(n,e,{targetEdge:f,alignmentEdge:h},i),{elementRectangle:o,targetEdge:f,alignmentEdge:h}}function v7(n,e,t,r){var i=n.alignmentEdge,s=n.targetEdge,o=n.elementRectangle,a=i*-1,u=Z0(o,e,{targetEdge:s,alignmentEdge:a},t,r);return{elementRectangle:u,targetEdge:s,alignmentEdge:a}}function y7(n,e,t,r,i,s,o){i===void 0&&(i=0);var a=r.alignmentEdge,u=r.alignTargetEdge,c={elementRectangle:n,targetEdge:r.targetEdge,alignmentEdge:a};!s&&!o&&(c=g7(n,e,t,r,i));var f=K0(c.elementRectangle,t),h=s?-c.targetEdge:void 0;if(f.length>0)if(u)if(c.alignmentEdge&&f.indexOf(c.alignmentEdge*-1)>-1){var p=v7(c,e,i,o);if(eE(p.elementRectangle,t))return p;c=Sb(K0(p.elementRectangle,t),c,t,h)}else c=Sb(f,c,t,h);else c=Sb(f,c,t,h);return c}function Sb(n,e,t,r){for(var i=0,s=n;i<s.length;i++){var o=s[i],a=void 0;if(r&&r===o*-1)a=qd(e.elementRectangle,o,ai(t,o),!1),e.forcedInBounds=!0;else{a=wp(e.elementRectangle,t,o);var u=Y0(a,t,o*-1);u||(a=qd(a,o*-1,ai(t,o*-1),!1),e.forcedInBounds=!0)}e.elementRectangle=a}return e}function jk(n,e,t){var r=mf(e).positiveEdge,i=bp(n,e),s=i-ai(n,r);return qd(n,r,t-s)}function Z0(n,e,t,r,i){r===void 0&&(r=0);var s=new zo(n.left,n.right,n.top,n.bottom),o=t.alignmentEdge,a=t.targetEdge,u=i?a:a*-1;if(s=i?wp(s,e,a,r):p7(s,e,a,r),o)s=wp(s,e,o);else{var c=bp(e,a);s=jk(s,u,c)}return s}function mf(n){return n===lt.top||n===lt.bottom?{positiveEdge:lt.left,negativeEdge:lt.right}:{positiveEdge:lt.top,negativeEdge:lt.bottom}}function Xk(n,e,t){return t&&Math.abs(Aa(n,t,e))>Math.abs(Aa(n,t,e*-1))?e*-1:e}function x7(n,e,t){return t!==void 0&&ai(n,e)===ai(t,e)}function _7(n,e,t,r,i,s,o,a){var u={},c=tE(e),f=s?t:t*-1,h=i||mf(t).positiveEdge;return(!o||x7(n,k7(h),r))&&(h=Xk(n,h,r)),u[lt[f]]=Aa(n,c,f),u[lt[h]]=Aa(n,c,h),a&&(u[lt[f*-1]]=Aa(n,c,f*-1),u[lt[h*-1]]=Aa(n,c,h*-1)),u}function b7(n){return Math.sqrt(n*n*2)}function w7(n,e,t){if(n===void 0&&(n=sr.bottomAutoEdge),t)return{alignmentEdge:t.alignmentEdge,isAuto:t.isAuto,targetEdge:t.targetEdge};var r=J({},R2[n]);return _i()?(r.alignmentEdge&&r.alignmentEdge%2===0&&(r.alignmentEdge=r.alignmentEdge*-1),e!==void 0?R2[e]:r):r}function S7(n,e,t,r,i){return n.isAuto&&(n.alignmentEdge=qk(n.targetEdge,e,t)),n.alignTargetEdge=i,n}function qk(n,e,t){var r=bp(e,n),i=bp(t,n),s=mf(n),o=s.positiveEdge,a=s.negativeEdge;return r<=i?o:a}function M7(n,e,t,r,i,s,o){var a=Z0(n,e,r,i,o);return eE(a,t)?{elementRectangle:a,targetEdge:r.targetEdge,alignmentEdge:r.alignmentEdge}:y7(a,e,t,r,i,s,o)}function E7(n,e,t){var r=n.targetEdge*-1,i=new zo(0,n.elementRectangle.width,0,n.elementRectangle.height),s={},o=Xk(n.elementRectangle,n.alignmentEdge?n.alignmentEdge:mf(r).positiveEdge,t),a=Aa(n.elementRectangle,n.targetRectangle,r),u=a>Math.abs(ai(e,r));return s[lt[r]]=ai(e,r),s[lt[o]]=Aa(e,i,o),{elementPosition:J({},s),closestEdge:qk(n.targetEdge,e,i),targetEdge:r,hideBeak:!u}}function T7(n,e){var t=e.targetRectangle,r=mf(e.targetEdge),i=r.positiveEdge,s=r.negativeEdge,o=bp(t,e.targetEdge),a=new zo(n/2,e.elementRectangle.width-n/2,n/2,e.elementRectangle.height-n/2),u=new zo(0,n,0,n);return u=qd(u,e.targetEdge*-1,-n/2),u=jk(u,e.targetEdge*-1,o-US(i,e.elementRectangle)),Y0(u,a,i)?Y0(u,a,s)||(u=wp(u,a,s)):u=wp(u,a,i),u}function tE(n){var e=n.getBoundingClientRect();return new zo(e.left,e.right,e.top,e.bottom)}function C7(n){return new zo(n.left,n.right,n.top,n.bottom)}function A7(n,e){var t;if(e){if(e.preventDefault){var r=e;t=new zo(r.clientX,r.clientX,r.clientY,r.clientY)}else if(e.getBoundingClientRect)t=tE(e);else{var i=e,s=i.left||i.x,o=i.top||i.y,a=i.right||s,u=i.bottom||o;t=new zo(s,a,o,u)}if(!eE(t,n))for(var c=K0(t,n),f=0,h=c;f<h.length;f++){var p=h[f];t[lt[p]]=n[lt[p]]}}else t=new zo(0,0,0,0);return t}function R7(n,e,t,r){var i=n.gapSpace?n.gapSpace:0,s=A7(t,n.target),o=S7(w7(n.directionalHint,n.directionalHintForRTL,r),s,t,n.coverTarget,n.alignTargetEdge),a=M7(tE(e),s,t,o,i,n.directionalHintFixed,n.coverTarget);return J(J({},a),{targetRectangle:s})}function P7(n,e,t,r,i){var s=_7(n.elementRectangle,e,n.targetEdge,t,n.alignmentEdge,r,i,n.forcedInBounds);return{elementPosition:s,targetEdge:n.targetEdge,alignmentEdge:n.alignmentEdge}}function Kk(n,e,t,r,i){var s=n.isBeakVisible&&n.beakWidth||0,o=b7(s)/2+(n.gapSpace?n.gapSpace:0),a=n;a.gapSpace=o;var u=n.bounds?C7(n.bounds):new zo(0,window.innerWidth-j8(),0,window.innerHeight),c=R7(a,t,u,r),f=T7(s,c),h=E7(c,f,u);return J(J({},P7(c,e,u,n.coverTarget,i)),{beakPosition:h})}function D7(n,e,t,r){return Kk(n,e,t,r,!0)}function I7(n,e,t,r){return Kk(n,e,t,r)}function L7(n,e,t,r){return D7(n,e,t,r)}function k7(n){return n*-1}function N7(n,e){var t=void 0;if(e.getWindowSegments&&(t=e.getWindowSegments()),t===void 0||t.length<=1)return{top:0,left:0,right:e.innerWidth,bottom:e.innerHeight,width:e.innerWidth,height:e.innerHeight};var r=0,i=0;if(n!==null&&!!n.getBoundingClientRect){var s=n.getBoundingClientRect();r=(s.left+s.right)/2,i=(s.top+s.bottom)/2}else n!==null&&(r=n.left||n.x,i=n.top||n.y);for(var o={top:0,left:0,right:0,bottom:0,width:0,height:0},a=0,u=t;a<u.length;a++){var c=u[a];r&&c.left<=r&&c.right>=r&&i&&c.top<=i&&c.bottom>=i&&(o={top:c.top,left:c.left,right:c.right,bottom:c.bottom,width:c.width,height:c.height})}return o}function O7(n,e){return N7(n,e)}function Xu(n){var e=L.exports.useRef();return e.current===void 0&&(e.current={value:typeof n=="function"?n():n}),e.current.value}function gf(){var n=Xu(function(){return new im});return L.exports.useEffect(function(){return function(){return n.dispose()}},[n]),n}function D2(n,e,t){var r=L.exports.useState(e),i=r[0],s=r[1],o=Xu(n!==void 0),a=o?n:i,u=L.exports.useRef(a),c=L.exports.useRef(t);L.exports.useEffect(function(){u.current=a,c.current=t});var f=Xu(function(){return function(h,p){var m=typeof h=="function"?h(u.current):h;c.current&&c.current(p,m),o||s(m)}});return[a,f]}function Mb(n){var e=L.exports.useRef(function(){throw new Error("Cannot call an event handler while rendering")});return jd(function(){e.current=n},[n]),Xu(function(){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.current;return i.apply(void 0,t)}})}function Zy(n,e){var t=L.exports.useRef(e);return t.current||(t.current=mo(n)),t.current}function Jl(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=L.exports.useCallback(function(r){t.current=r;for(var i=0,s=n;i<s.length;i++){var o=s[i];typeof o=="function"?o(r):o&&(o.current=r)}},qn([],n));return t}function Sp(n,e,t,r){var i=L.exports.useRef(t);i.current=t,L.exports.useEffect(function(){var s=n&&"current"in n?n.current:n;if(!!s){var o=bl(s,e,function(a){return i.current(a)},r);return o}},[n,e,r])}function Mp(n){var e=L.exports.useRef();return L.exports.useEffect(function(){e.current=n}),e.current}var Yk=L.exports.createContext({window:typeof window=="object"?window:void 0}),nE=function(){return L.exports.useContext(Yk).window},B7=function(){var n;return(n=L.exports.useContext(Yk).window)===null||n===void 0?void 0:n.document};function Zk(n,e){var t=L.exports.useRef(),r=L.exports.useRef(null),i=nE();if(!n||n!==t.current||typeof n=="string"){var s=e==null?void 0:e.current;if(n)if(typeof n=="string"){var o=Xr(s);r.current=o?o.querySelector(n):null}else"stopPropagation"in n||"getBoundingClientRect"in n?r.current=n:"current"in n?r.current=n.current:r.current=n;t.current=n}return[r,i]}var F7=function(n){var e=L.exports.useRef(n);e.current=n,L.exports.useEffect(function(){return function(){var t;(t=e.current)===null||t===void 0||t.call(e)}},[])};function z7(n,e){var t=gf(),r=L.exports.useState(!1),i=r[0],s=r[1];return L.exports.useEffect(function(){return t.requestAnimationFrame(function(){var o;if(!(n.style&&n.style.overflowY)){var a=!1;if(e&&e.current&&((o=e.current)===null||o===void 0?void 0:o.firstElementChild)){var u=e.current.clientHeight,c=e.current.firstElementChild.clientHeight;u>0&&c>u&&(a=c-u>1)}i!==a&&s(a)}}),function(){return t.dispose()}}),i}function U7(n){var e=n.originalElement,t=n.containsFocus;e&&t&&e!==Zn()&&setTimeout(function(){var r;(r=e.focus)===null||r===void 0||r.call(e)},0)}function H7(n,e){var t=n.onRestoreFocus,r=t===void 0?U7:t,i=L.exports.useRef(),s=L.exports.useRef(!1);L.exports.useEffect(function(){return i.current=Xr().activeElement,m9(e.current)&&(s.current=!0),function(){var o;r==null||r({originalElement:i.current,containsFocus:s.current,documentContainsFocus:((o=Xr())===null||o===void 0?void 0:o.hasFocus())||!1}),i.current=void 0}},[]),Sp(e,"focus",L.exports.useCallback(function(){s.current=!0},[]),!0),Sp(e,"blur",L.exports.useCallback(function(o){e.current&&o.relatedTarget&&!e.current.contains(o.relatedTarget)&&(s.current=!1)},[]),!0)}function W7(n,e){var t=String(n["aria-modal"]).toLowerCase()==="true"&&n.enableAriaHiddenSiblings;L.exports.useEffect(function(){if(!!(t&&e.current)){var r=Bk(e.current);return r}},[e,t])}var rE=L.exports.forwardRef(function(n,e){var t=sm({shouldRestoreFocus:!0,enableAriaHiddenSiblings:!0},n),r=L.exports.useRef(),i=Jl(r,e);W7(t,r),H7(t,r);var s=t.role,o=t.className,a=t.ariaLabel,u=t.ariaLabelledBy,c=t.ariaDescribedBy,f=t.style,h=t.children,p=t.onDismiss,m=z7(t,r),v=L.exports.useCallback(function(x){switch(x.which){case $e.escape:p&&(p(x),x.preventDefault(),x.stopPropagation());break}},[p]),y=nE();return Sp(y,"keydown",v),L.exports.createElement("div",J({ref:i},mr(t,Ua),{className:o,role:s,"aria-label":a,"aria-labelledby":u,"aria-describedby":c,onKeyDown:v,style:J({overflowY:m?"scroll":void 0,outline:"none"},f)}),h)});rE.displayName="Popup";var Pc,V7="CalloutContentBase",G7=(Pc={},Pc[lt.top]=lo.slideUpIn10,Pc[lt.bottom]=lo.slideDownIn10,Pc[lt.left]=lo.slideLeftIn10,Pc[lt.right]=lo.slideRightIn10,Pc),I2={top:0,left:0},j7={opacity:0,filter:"opacity(0)",pointerEvents:"none"},X7=["role","aria-roledescription"],Jk={preventDismissOnLostFocus:!1,preventDismissOnScroll:!1,preventDismissOnResize:!1,isBeakVisible:!0,beakWidth:16,gapSpace:0,minPagePadding:8,directionalHint:sr.bottomAutoEdge},q7=ms({disableCaching:!0});function K7(n,e,t){var r=n.bounds,i=n.minPagePadding,s=i===void 0?Jk.minPagePadding:i,o=n.target,a=L.exports.useState(!1),u=a[0],c=a[1],f=L.exports.useRef(),h=L.exports.useCallback(function(){if(!f.current||u){var m=typeof r=="function"?t?r(o,t):void 0:r;!m&&t&&(m=O7(e.current,t),m={top:m.top+s,left:m.left+s,right:m.right-s,bottom:m.bottom-s,width:m.width-s*2,height:m.height-s*2}),f.current=m,u&&c(!1)}return f.current},[r,s,o,e,t,u]),p=gf();return Sp(t,"resize",p.debounce(function(){c(!0)},500,{leading:!0})),h}function Y7(n,e,t){var r,i=n.calloutMaxHeight,s=n.finalHeight,o=n.directionalHint,a=n.directionalHintFixed,u=n.hidden,c=L.exports.useState(),f=c[0],h=c[1],p=(r=t==null?void 0:t.elementPosition)!==null&&r!==void 0?r:{},m=p.top,v=p.bottom;return L.exports.useEffect(function(){var y,x=(y=e())!==null&&y!==void 0?y:{},w=x.top,b=x.bottom;!i&&!u?typeof m=="number"&&b?h(b-m):typeof v=="number"&&typeof w=="number"&&b&&h(b-w-v):h(i||void 0)},[v,i,s,o,a,e,u,t,m]),f}function Z7(n,e,t,r,i){var s=L.exports.useState(),o=s[0],a=s[1],u=L.exports.useRef(0),c=L.exports.useRef(),f=gf(),h=n.hidden,p=n.target,m=n.finalHeight,v=n.calloutMaxHeight,y=n.onPositioned,x=n.directionalHint;return L.exports.useEffect(function(){if(h)a(void 0),u.current=0;else{var w=f.requestAnimationFrame(function(){var b,_;if(e.current&&t){var S=J(J({},n),{target:r.current,bounds:i()}),M=t.cloneNode(!0);M.style.maxHeight=v?""+v:"",M.style.visibility="hidden",(b=t.parentElement)===null||b===void 0||b.appendChild(M);var C=c.current===p?o:void 0,A=m?L7(S,e.current,M,C):I7(S,e.current,M,C);(_=t.parentElement)===null||_===void 0||_.removeChild(M),!o&&A||o&&A&&!eX(o,A)&&u.current<5?(u.current++,a(A)):u.current>0&&(u.current=0,y==null||y(o))}},t);return c.current=p,function(){f.cancelAnimationFrame(w),c.current=void 0}}},[h,x,f,t,v,e,r,m,i,y,o,n,p]),o}function J7(n,e,t){var r=n.hidden,i=n.setInitialFocus,s=gf(),o=!!e;L.exports.useEffect(function(){if(!r&&i&&o&&t){var a=s.requestAnimationFrame(function(){return p9(t)},t);return function(){return s.cancelAnimationFrame(a)}}},[r,o,s,t,i])}function Q7(n,e,t,r,i){var s=n.hidden,o=n.onDismiss,a=n.preventDismissOnScroll,u=n.preventDismissOnResize,c=n.preventDismissOnLostFocus,f=n.dismissOnTargetClick,h=n.shouldDismissOnWindowFocus,p=n.preventDismissOnEvent,m=L.exports.useRef(!1),v=gf(),y=Xu([function(){m.current=!0},function(){m.current=!1}]),x=!!e;return L.exports.useEffect(function(){var w=function(A){x&&!a&&S(A)},b=function(A){!u&&!(p&&p(A))&&(o==null||o(A))},_=function(A){c||S(A)},S=function(A){var T=A.composedPath?A.composedPath():[],R=T.length>0?T[0]:A.target,D=t.current&&!Fi(t.current,R);if(D&&m.current){m.current=!1;return}if(!r.current&&D||A.target!==i&&D&&(!r.current||"stopPropagation"in r.current||f||R!==r.current&&!Fi(r.current,R))){if(p&&p(A))return;o==null||o(A)}},M=function(A){!h||(p&&!p(A)||!p&&!c)&&!(i!=null&&i.document.hasFocus())&&A.relatedTarget===null&&(o==null||o(A))},C=new Promise(function(A){v.setTimeout(function(){if(!s&&i){var T=[bl(i,"scroll",w,!0),bl(i,"resize",b,!0),bl(i.document.documentElement,"focus",_,!0),bl(i.document.documentElement,"click",_,!0),bl(i,"blur",M,!0)];A(function(){T.forEach(function(R){return R()})})}},0)});return function(){C.then(function(A){return A()})}},[s,v,t,r,i,o,h,f,c,u,a,x,p]),y}var Qk=L.exports.memo(L.exports.forwardRef(function(n,e){var t=sm(Jk,n),r=t.styles,i=t.style,s=t.ariaLabel,o=t.ariaDescribedBy,a=t.ariaLabelledBy,u=t.className,c=t.isBeakVisible,f=t.children,h=t.beakWidth,p=t.calloutWidth,m=t.calloutMaxWidth,v=t.calloutMinWidth,y=t.doNotLayer,x=t.finalHeight,w=t.hideOverflow,b=w===void 0?!!x:w,_=t.backgroundColor,S=t.calloutMaxHeight,M=t.onScroll,C=t.shouldRestoreFocus,A=C===void 0?!0:C,T=t.target,R=t.hidden,D=t.onLayerMounted,O=L.exports.useRef(null),Y=L.exports.useState(null),ie=Y[0],U=Y[1],G=L.exports.useCallback(function(he){U(he)},[]),Z=Jl(O,e),te=Zk(t.target,{current:ie}),V=te[0],K=te[1],$=K7(t,V,K),re=Z7(t,O,ie,V,$),le=Y7(t,$,re),be=Q7(t,re,O,V,K),Te=be[0],ke=be[1],ue=(re==null?void 0:re.elementPosition.top)&&(re==null?void 0:re.elementPosition.bottom),gt=J(J({},re==null?void 0:re.elementPosition),{maxHeight:le});if(ue&&(gt.bottom=void 0),J7(t,re,ie),L.exports.useEffect(function(){R||D==null||D()},[R]),!K)return null;var Ve=b,Ze=c&&!!T,Se=q7(r,{theme:t.theme,className:u,overflowYHidden:Ve,calloutWidth:p,positions:re,beakWidth:h,backgroundColor:_,calloutMaxWidth:m,calloutMinWidth:v,doNotLayer:y}),st=J(J({maxHeight:S||"100%"},i),Ve&&{overflowY:"hidden"}),pe=t.hidden?{visibility:"hidden"}:void 0;return L.exports.createElement("div",{ref:Z,className:Se.container,style:pe},L.exports.createElement("div",J({},mr(t,Ua,X7),{className:uo(Se.root,re&&re.targetEdge&&G7[re.targetEdge]),style:re?J({},gt):j7,tabIndex:-1,ref:G}),Ze&&L.exports.createElement("div",{className:Se.beak,style:$7(re)}),Ze&&L.exports.createElement("div",{className:Se.beakCurtain}),L.exports.createElement(rE,{role:t.role,"aria-roledescription":t["aria-roledescription"],ariaDescribedBy:o,ariaLabel:s,ariaLabelledBy:a,className:Se.calloutMain,onDismiss:t.onDismiss,onMouseDown:Te,onMouseUp:ke,onRestoreFocus:t.onRestoreFocus,onScroll:M,shouldRestoreFocus:A,style:st},f)))}),function(n,e){return!e.shouldUpdateWhenHidden&&n.hidden&&e.hidden?!0:X1(n,e)});function $7(n){var e,t,r=J(J({},(e=n==null?void 0:n.beakPosition)===null||e===void 0?void 0:e.elementPosition),{display:!((t=n==null?void 0:n.beakPosition)===null||t===void 0)&&t.hideBeak?"none":void 0});return!r.top&&!r.bottom&&!r.left&&!r.right&&(r.left=I2.left,r.top=I2.top),r}function eX(n,e){return L2(n.elementPosition,e.elementPosition)&&L2(n.beakPosition.elementPosition,e.beakPosition.elementPosition)}function L2(n,e){for(var t in e)if(e.hasOwnProperty(t)){var r=n[t],i=e[t];if(r!==void 0&&i!==void 0){if(r.toFixed(2)!==i.toFixed(2))return!1}else return!1}return!0}Qk.displayName=V7;function tX(n){return{height:n,width:n}}var nX={container:"ms-Callout-container",root:"ms-Callout",beak:"ms-Callout-beak",beakCurtain:"ms-Callout-beakCurtain",calloutMain:"ms-Callout-main"},rX=function(n){var e,t=n.theme,r=n.className,i=n.overflowYHidden,s=n.calloutWidth,o=n.beakWidth,a=n.backgroundColor,u=n.calloutMaxWidth,c=n.calloutMinWidth,f=n.doNotLayer,h=yo(nX,t),p=t.semanticColors,m=t.effects;return{container:[h.container,{position:"relative"}],root:[h.root,t.fonts.medium,{position:"absolute",display:"flex",zIndex:f?_p.Layer:void 0,boxSizing:"border-box",borderRadius:m.roundedCorner2,boxShadow:m.elevation16,selectors:(e={},e[ct]={borderWidth:1,borderStyle:"solid",borderColor:"WindowText"},e)},n7(),r,!!s&&{width:s},!!u&&{maxWidth:u},!!c&&{minWidth:c}],beak:[h.beak,{position:"absolute",backgroundColor:p.menuBackground,boxShadow:"inherit",border:"inherit",boxSizing:"border-box",transform:"rotate(45deg)"},tX(o),a&&{backgroundColor:a}],beakCurtain:[h.beakCurtain,{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:p.menuBackground,borderRadius:m.roundedCorner2}],calloutMain:[h.calloutMain,{backgroundColor:p.menuBackground,overflowX:"hidden",overflowY:"auto",position:"relative",width:"100%",borderRadius:m.roundedCorner2},i&&{overflowY:"hidden"},a&&{backgroundColor:a}]}},iX=gs(Qk,rX,void 0,{scope:"CalloutContent"}),$k=L.exports.createContext(function(){return function(){}});$k.Provider;function sX(){return L.exports.useContext($k)}var oX=ms(),aX=Tr(function(n,e){return om(J(J({},n),{rtl:e}))}),lX=function(n){var e=n.theme,t=n.dir,r=_i(e)?"rtl":"ltr",i=_i()?"rtl":"ltr",s=t||r;return{rootDir:s!==r||s!==i?s:t,needsTheme:s!==r}},eN=L.exports.forwardRef(function(n,e){var t=n.className,r=n.theme,i=n.applyTheme,s=n.applyThemeToBody,o=n.styles,a=oX(o,{theme:r,applyTheme:i,className:t}),u=L.exports.useRef(null);return cX(s,a,u),J1(u),L.exports.createElement(L.exports.Fragment,null,uX(n,a,u,e))});eN.displayName="FabricBase";function uX(n,e,t,r){var i=e.root,s=n.as,o=s===void 0?"div":s,a=n.dir,u=n.theme,c=mr(n,Ua,["dir"]),f=lX(n),h=f.rootDir,p=f.needsTheme,m=L.exports.createElement(o,J({dir:h},c,{className:i,ref:Jl(t,r)}));return p&&(m=L.exports.createElement(k9,{settings:{theme:aX(u,a==="rtl")}},m)),m}function cX(n,e,t){var r=e.bodyThemed;return L.exports.useEffect(function(){if(n){var i=Xr(t.current);if(i)return i.body.classList.add(r),function(){i.body.classList.remove(r)}}},[r,n,t]),t}var Eb={fontFamily:"inherit"},dX={root:"ms-Fabric",bodyThemed:"ms-Fabric-bodyThemed"},fX=function(n){var e=n.theme,t=n.className,r=n.applyTheme,i=yo(dX,e);return{root:[i.root,e.fonts.medium,{color:e.palette.neutralPrimary,selectors:{"& button":Eb,"& input":Eb,"& textarea":Eb}},r&&{color:e.semanticColors.bodyText,backgroundColor:e.semanticColors.bodyBackground},t],bodyThemed:[{backgroundColor:e.semanticColors.bodyBackground}]}},hX=gs(eN,fX,void 0,{scope:"Fabric"}),jh={},iE={},tN="fluent-default-layer-host",pX="#"+tN;function mX(n,e){jh[n]||(jh[n]=[]),jh[n].push(e);var t=iE[n];if(t)for(var r=0,i=t;r<i.length;r++){var s=i[r];s.notifyLayersChanged()}}function gX(n,e){var t=jh[n];if(t){var r=t.indexOf(e);r>=0&&(t.splice(r,1),t.length===0&&delete jh[n])}var i=iE[n];if(i)for(var s=0,o=i;s<o.length;s++){var a=o[s];a.notifyLayersChanged()}}function vX(n){var e=iE[n];return e&&e[0]||void 0}function yX(n){var e=n.createElement("div");return e.setAttribute("id",tN),e.style.cssText="position:fixed;z-index:1000000",n==null||n.body.appendChild(e),e}function xX(){return pX}var _X=ms(),nN=L.exports.forwardRef(function(n,e){var t=sX(),r=L.exports.useRef(null),i=Jl(r,e),s=L.exports.useRef(),o=L.exports.useState(!1),a=o[0],u=o[1],c=n.eventBubblingEnabled,f=n.styles,h=n.theme,p=n.className,m=n.children,v=n.hostId,y=n.onLayerDidMount,x=y===void 0?function(){}:y,w=n.onLayerMounted,b=w===void 0?function(){}:w,_=n.onLayerWillUnmount,S=n.insertFirst,M=_X(f,{theme:h,className:p,isNotHost:!v}),C=function(R){var D,O;if(v){var Y=vX(v);return Y?(D=Y.rootRef.current)!==null&&D!==void 0?D:null:(O=R.getElementById(v))!==null&&O!==void 0?O:null}else{var ie=xX(),U=ie?R.querySelector(ie):null;return U||(U=yX(R)),U}},A=function(){_==null||_();var R=s.current;s.current=void 0,R&&R.parentNode&&R.parentNode.removeChild(R)},T=function(){var R,D=Xr(r.current);if(!!D){var O=C(D);if(!!O){A();var Y=((R=O.ownerDocument)!==null&&R!==void 0?R:D).createElement("div");Y.className=M.root,o9(Y),a9(Y,r.current),S?O.insertBefore(Y,O.firstChild):O.appendChild(Y),s.current=Y,u(!0)}}};return jd(function(){T(),v&&mX(v,T);var R=s.current?t(s.current):void 0;return function(){R&&R(),A(),v&&gX(v,T)}},[v]),L.exports.useEffect(function(){s.current&&a&&(b==null||b(),x==null||x(),u(!1))},[a,b,x]),L.exports.createElement("span",{className:"ms-layer",ref:i},s.current&&ZM.exports.createPortal(L.exports.createElement(hX,J({},!c&&wX(),{className:M.content}),m),s.current))});nN.displayName="LayerBase";var Ag,bX=function(n){n.eventPhase===Event.BUBBLING_PHASE&&n.type!=="mouseenter"&&n.type!=="mouseleave"&&n.type!=="touchstart"&&n.type!=="touchend"&&n.stopPropagation()};function wX(){return Ag||(Ag={},["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onTouchMove","onTouchStart","onTouchCancel","onTouchEnd","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onInvalid","onSubmit"].forEach(function(n){return Ag[n]=bX})),Ag}var SX={root:"ms-Layer",rootNoHost:"ms-Layer--fixed",content:"ms-Layer-content"},MX=function(n){var e=n.className,t=n.isNotHost,r=n.theme,i=yo(SX,r);return{root:[i.root,r.fonts.medium,t&&[i.rootNoHost,{position:"fixed",zIndex:_p.Layer,top:0,left:0,bottom:0,right:0,visibility:"hidden"}],e],content:[i.content,{visibility:"visible"}]}},rN=gs(nN,MX,void 0,{scope:"Layer",fields:["hostId","theme","styles"]}),sE=L.exports.forwardRef(function(n,e){var t=n.layerProps,r=n.doNotLayer,i=hf(n,["layerProps","doNotLayer"]),s=L.exports.createElement(iX,J({},i,{doNotLayer:r,ref:e}));return r?s:L.exports.createElement(rN,J({},t),s)});sE.displayName="Callout";var EX="FocusTrapZone",TX={disabled:!1,disableFirstFocus:!1,forceFocusInsideTrap:!0,isClickableOutsideFocusTrap:!1},CX=function(n,e,t){L.exports.useImperativeHandle(n,function(){return{get previouslyFocusedElement(){return e},focus:t}},[t,e])},Iu=L.exports.forwardRef(function(n,e){var t,r=L.exports.useRef(null),i=L.exports.useRef(null),s=L.exports.useRef(null),o=Jl(r,e),a=B7(),u=(t=Mp(!1))!==null&&t!==void 0?t:!0,c=sm(TX,n),f=Xu({hasFocus:!1,focusStackId:Zy("ftz-",c.id)}),h=c.children,p=c.componentRef,m=c.disabled,v=c.disableFirstFocus,y=c.forceFocusInsideTrap,x=c.focusPreviouslyFocusedInnerElement,w=c.firstFocusableSelector,b=c.firstFocusableTarget,_=c.disableRestoreFocus,S=_===void 0?c.ignoreExternalFocusing:_,M=c.isClickableOutsideFocusTrap,C=c.enableAriaHiddenSiblings,A={"aria-hidden":!0,style:{pointerEvents:"none",position:"fixed"},tabIndex:m?-1:0,"data-is-visible":!0,"data-is-focus-trap-zone-bumper":!0},T=L.exports.useCallback(function(G){G!==i.current&&G!==s.current&&Dk(G)},[]),R=Mb(function(){if(!!r.current){var G=f.previouslyFocusedElementInTrapZone;if(x&&G&&Fi(r.current,G)){T(G);return}var Z=null;if(typeof b=="string")Z=r.current.querySelector(b);else if(b)Z=b(r.current);else if(w){var te=typeof w=="string"?w:w();Z=r.current.querySelector("."+te)}Z||(Z=ri(r.current,r.current.firstChild,!1,!1,!1,!0)),Z&&T(Z)}}),D=function(G){if(!(m||!r.current)){var Z=G===f.hasFocus?h9(r.current,s.current,!0,!1):f9(r.current,i.current,!0,!1);Z&&(Z===i.current||Z===s.current?R():Z.focus())}},O=function(G){var Z;(Z=c.onBlurCapture)===null||Z===void 0||Z.call(c,G);var te=G.relatedTarget;G.relatedTarget===null&&(te=a.activeElement),Fi(r.current,te)||(f.hasFocus=!1)},Y=function(G){var Z;(Z=c.onFocusCapture)===null||Z===void 0||Z.call(c,G),G.target===i.current?D(!0):G.target===s.current&&D(!1),f.hasFocus=!0,G.target!==G.currentTarget&&!(G.target===i.current||G.target===s.current)&&(f.previouslyFocusedElementInTrapZone=G.target)},ie=Mb(function(G){if(Iu.focusStack=Iu.focusStack.filter(function(te){return f.focusStackId!==te}),!!a){var Z=a.activeElement;!S&&typeof(G==null?void 0:G.focus)=="function"&&(Fi(r.current,Z)||Z===a.body)&&T(G)}}),U=Mb(function(G){if(!m&&f.focusStackId===Iu.focusStack.slice(-1)[0]){var Z=G.target;Z&&!Fi(r.current,Z)&&(R(),f.hasFocus=!0,G.preventDefault(),G.stopPropagation())}});return L.exports.useEffect(function(){var G=[];return y&&G.push(bl(window,"focus",U,!0)),M||G.push(bl(window,"click",U,!0)),function(){G.forEach(function(Z){return Z()})}},[y,M]),L.exports.useEffect(function(){if(!(m||!u&&!y||!r.current)){Iu.focusStack.push(f.focusStackId);var G=c.elementToFocusOnDismiss||a.activeElement;return!v&&!Fi(r.current,G)&&R(),function(){return ie(G)}}},[y,m]),L.exports.useEffect(function(){if(!m&&C){var G=Bk(r.current);return G}},[m,C,r]),F7(function(){delete f.previouslyFocusedElementInTrapZone}),CX(p,f.previouslyFocusedElementInTrapZone,R),L.exports.createElement("div",J({"aria-labelledby":c.ariaLabelledBy},mr(c,Ua),{ref:o,onFocusCapture:Y,onBlurCapture:O}),L.exports.createElement("div",J({},A,{ref:i})),h,L.exports.createElement("div",J({},A,{ref:s})))});Iu.displayName=EX;Iu.focusStack=[];var J0;(function(n){n[n.default=0]="default",n[n.image=1]="image",n[n.Default=1e5]="Default",n[n.Image=100001]="Image"})(J0||(J0={}));var Bi;(function(n){n[n.center=0]="center",n[n.contain=1]="contain",n[n.cover=2]="cover",n[n.none=3]="none",n[n.centerCover=4]="centerCover",n[n.centerContain=5]="centerContain"})(Bi||(Bi={}));var Ep;(function(n){n[n.landscape=0]="landscape",n[n.portrait=1]="portrait"})(Ep||(Ep={}));var xi;(function(n){n[n.notLoaded=0]="notLoaded",n[n.loaded=1]="loaded",n[n.error=2]="error",n[n.errorLoaded=3]="errorLoaded"})(xi||(xi={}));var AX=ms(),RX=/\.svg$/i,PX="fabricImage";function DX(n,e){var t=n.onLoadingStateChange,r=n.onLoad,i=n.onError,s=n.src,o=L.exports.useState(xi.notLoaded),a=o[0],u=o[1];jd(function(){u(xi.notLoaded)},[s]),L.exports.useEffect(function(){if(a===xi.notLoaded){var h=e.current?s&&e.current.naturalWidth>0&&e.current.naturalHeight>0||e.current.complete&&RX.test(s):!1;h&&u(xi.loaded)}}),L.exports.useEffect(function(){t==null||t(a)},[a]);var c=L.exports.useCallback(function(h){r==null||r(h),s&&u(xi.loaded)},[s,r]),f=L.exports.useCallback(function(h){i==null||i(h),u(xi.error)},[i]);return[a,c,f]}var iN=L.exports.forwardRef(function(n,e){var t=L.exports.useRef(),r=L.exports.useRef(),i=DX(n,r),s=i[0],o=i[1],a=i[2],u=mr(n,V9,["width","height"]),c=n.src,f=n.alt,h=n.width,p=n.height,m=n.shouldFadeIn,v=m===void 0?!0:m,y=n.shouldStartVisible,x=n.className,w=n.imageFit,b=n.role,_=n.maximizeFrame,S=n.styles,M=n.theme,C=n.loading,A=IX(n,s,r,t),T=AX(S,{theme:M,className:x,width:h,height:p,maximizeFrame:_,shouldFadeIn:v,shouldStartVisible:y,isLoaded:s===xi.loaded||s===xi.notLoaded&&n.shouldStartVisible,isLandscape:A===Ep.landscape,isCenter:w===Bi.center,isCenterContain:w===Bi.centerContain,isCenterCover:w===Bi.centerCover,isContain:w===Bi.contain,isCover:w===Bi.cover,isNone:w===Bi.none,isError:s===xi.error,isNotImageFit:w===void 0});return L.exports.createElement("div",{className:T.root,style:{width:h,height:p},ref:t},L.exports.createElement("img",J({},u,{onLoad:o,onError:a,key:PX+n.src||"",className:T.image,ref:Jl(r,e),src:c,alt:f,role:b,loading:C})))});iN.displayName="ImageBase";function IX(n,e,t,r){var i=L.exports.useRef(e),s=L.exports.useRef();return(s===void 0||i.current===xi.notLoaded&&e===xi.loaded)&&(s.current=LX(n,e,t,r)),i.current=e,s.current}function LX(n,e,t,r){var i=n.imageFit,s=n.width,o=n.height;if(n.coverStyle!==void 0)return n.coverStyle;if(e===xi.loaded&&(i===Bi.cover||i===Bi.contain||i===Bi.centerContain||i===Bi.centerCover)&&t.current&&r.current){var a=void 0;typeof s=="number"&&typeof o=="number"&&i!==Bi.centerContain&&i!==Bi.centerCover?a=s/o:a=r.current.clientWidth/r.current.clientHeight;var u=t.current.naturalWidth/t.current.naturalHeight;if(u>a)return Ep.landscape}return Ep.portrait}var kX={root:"ms-Image",rootMaximizeFrame:"ms-Image--maximizeFrame",image:"ms-Image-image",imageCenter:"ms-Image-image--center",imageContain:"ms-Image-image--contain",imageCover:"ms-Image-image--cover",imageCenterContain:"ms-Image-image--centerContain",imageCenterCover:"ms-Image-image--centerCover",imageNone:"ms-Image-image--none",imageLandscape:"ms-Image-image--landscape",imagePortrait:"ms-Image-image--portrait"},NX=function(n){var e=n.className,t=n.width,r=n.height,i=n.maximizeFrame,s=n.isLoaded,o=n.shouldFadeIn,a=n.shouldStartVisible,u=n.isLandscape,c=n.isCenter,f=n.isContain,h=n.isCover,p=n.isCenterContain,m=n.isCenterCover,v=n.isNone,y=n.isError,x=n.isNotImageFit,w=n.theme,b=yo(kX,w),_={position:"absolute",left:"50% /* @noflip */",top:"50%",transform:"translate(-50%,-50%)"},S=Zn(),M=S!==void 0&&S.navigator.msMaxTouchPoints===void 0,C=f&&u||h&&!u?{width:"100%",height:"auto"}:{width:"auto",height:"100%"};return{root:[b.root,w.fonts.medium,{overflow:"hidden"},i&&[b.rootMaximizeFrame,{height:"100%",width:"100%"}],s&&o&&!a&&lo.fadeIn400,(c||f||h||p||m)&&{position:"relative"},e],image:[b.image,{display:"block",opacity:0},s&&["is-loaded",{opacity:1}],c&&[b.imageCenter,_],f&&[b.imageContain,M&&{width:"100%",height:"100%",objectFit:"contain"},!M&&C,!M&&_],h&&[b.imageCover,M&&{width:"100%",height:"100%",objectFit:"cover"},!M&&C,!M&&_],p&&[b.imageCenterContain,u&&{maxWidth:"100%"},!u&&{maxHeight:"100%"},_],m&&[b.imageCenterCover,u&&{maxHeight:"100%"},!u&&{maxWidth:"100%"},_],v&&[b.imageNone,{width:"auto",height:"auto"}],x&&[!!t&&!r&&{height:"auto",width:"100%"},!t&&!!r&&{height:"100%",width:"auto"},!!t&&!!r&&{height:"100%",width:"100%"}],u&&b.imageLandscape,!u&&b.imagePortrait,!s&&"is-notLoaded",o&&"is-fadeIn",y&&"is-error"]}},oE=gs(iN,NX,void 0,{scope:"Image"},!0);oE.displayName="Image";var Ou=rm({root:{display:"inline-block"},placeholder:["ms-Icon-placeHolder",{width:"1em"}],image:["ms-Icon-imageContainer",{overflow:"hidden"}]}),sN="ms-Icon",OX=function(n){var e=n.className,t=n.iconClassName,r=n.isPlaceholder,i=n.isImage,s=n.styles;return{root:[r&&Ou.placeholder,Ou.root,i&&Ou.image,t,e,s&&s.root,s&&s.imageContainer]}},oN=Tr(function(n){var e=lj(n)||{subset:{},code:void 0},t=e.code,r=e.subset;return t?{children:t,iconClassName:r.className,fontFamily:r.fontFace&&r.fontFace.fontFamily,mergeImageProps:r.mergeImageProps}:null},void 0,!0),HS=function(n){var e=n.iconName,t=n.className,r=n.style,i=r===void 0?{}:r,s=oN(e)||{},o=s.iconClassName,a=s.children,u=s.fontFamily,c=s.mergeImageProps,f=mr(n,vr),h=n["aria-label"]||n.title,p=n["aria-label"]||n["aria-labelledby"]||n.title?{role:c?void 0:"img"}:{"aria-hidden":!0},m=a;return c&&typeof a=="object"&&typeof a.props=="object"&&h&&(m=L.exports.cloneElement(a,{alt:h})),L.exports.createElement("i",J({"data-icon-name":e},p,f,c?{title:void 0,"aria-label":void 0}:{},{className:uo(sN,Ou.root,o,!e&&Ou.placeholder,t),style:J({fontFamily:u},i)}),m)};Tr(function(n,e,t){return HS({iconName:n,className:e,"aria-label":t})});var BX=ms({cacheSize:100}),FX=function(n){qr(e,n);function e(t){var r=n.call(this,t)||this;return r._onImageLoadingStateChange=function(i){r.props.imageProps&&r.props.imageProps.onLoadingStateChange&&r.props.imageProps.onLoadingStateChange(i),i===xi.error&&r.setState({imageLoadError:!0})},r.state={imageLoadError:!1},r}return e.prototype.render=function(){var t=this.props,r=t.children,i=t.className,s=t.styles,o=t.iconName,a=t.imageErrorAs,u=t.theme,c=typeof o=="string"&&o.length===0,f=!!this.props.imageProps||this.props.iconType===J0.image||this.props.iconType===J0.Image,h=oN(o)||{},p=h.iconClassName,m=h.children,v=h.mergeImageProps,y=BX(s,{theme:u,className:i,iconClassName:p,isImage:f,isPlaceholder:c}),x=f?"span":"i",w=mr(this.props,vr,["aria-label"]),b=this.state.imageLoadError,_=J(J({},this.props.imageProps),{onLoadingStateChange:this._onImageLoadingStateChange}),S=b&&a||oE,M=this.props["aria-label"]||this.props.ariaLabel,C=_.alt||M||this.props.title,A=!!(C||this.props["aria-labelledby"]||_["aria-label"]||_["aria-labelledby"]),T=A?{role:f||v?void 0:"img","aria-label":f||v?void 0:C}:{"aria-hidden":!0},R=m;return v&&m&&typeof m=="object"&&C&&(R=L.exports.cloneElement(m,{alt:C})),L.exports.createElement(x,J({"data-icon-name":o},T,w,v?{title:void 0,"aria-label":void 0}:{},{className:y.root}),f?L.exports.createElement(S,J({},_)):r||R)},e}(L.exports.Component),rc=gs(FX,OX,void 0,{scope:"Icon"},!0);rc.displayName="Icon";var zX=function(n){var e=n.className,t=n.imageProps,r=mr(n,vr,["aria-label","aria-labelledby","title","aria-describedby"]),i=t.alt||n["aria-label"],s=i||n["aria-labelledby"]||n.title||t["aria-label"]||t["aria-labelledby"]||t.title,o={"aria-labelledby":n["aria-labelledby"],"aria-describedby":n["aria-describedby"],title:n.title},a=s?{}:{"aria-hidden":!0};return L.exports.createElement("div",J({},a,r,{className:uo(sN,Ou.root,Ou.image,e)}),L.exports.createElement(oE,J({},o,t,{alt:s?i:""})))},WS={none:0,all:1,inputOnly:2},ti;(function(n){n[n.vertical=0]="vertical",n[n.horizontal=1]="horizontal",n[n.bidirectional=2]="bidirectional",n[n.domOrder=3]="domOrder"})(ti||(ti={}));var Rg="data-is-focusable",UX="data-disable-click-on-enter",Tb="data-focuszone-id",So="tabindex",Cb="data-no-vertical-wrap",Ab="data-no-horizontal-wrap",Rb=999999999,oh=-999999999,Pb,HX="ms-FocusZone";function WX(n,e){var t;typeof MouseEvent=="function"?t=new MouseEvent("click",{ctrlKey:e==null?void 0:e.ctrlKey,metaKey:e==null?void 0:e.metaKey,shiftKey:e==null?void 0:e.shiftKey,altKey:e==null?void 0:e.altKey,bubbles:e==null?void 0:e.bubbles,cancelable:e==null?void 0:e.cancelable}):(t=document.createEvent("MouseEvents"),t.initMouseEvent("click",e?e.bubbles:!1,e?e.cancelable:!1,window,0,0,0,0,0,e?e.ctrlKey:!1,e?e.altKey:!1,e?e.shiftKey:!1,e?e.metaKey:!1,0,null)),n.dispatchEvent(t)}function VX(){return Pb||(Pb=Sa({selectors:{":focus":{outline:"none"}}},HX)),Pb}var ah={},Dc=new Set,GX=["text","number","password","email","tel","url","search","textarea"],oa=!1,aN=function(n){qr(e,n);function e(t){var r,i,s,o,a=n.call(this,t)||this;a._root=L.exports.createRef(),a._mergedRef=Fk(),a._onFocus=function(c){if(!a._portalContainsElement(c.target)){var f=a.props,h=f.onActiveElementChanged,p=f.doNotAllowFocusEventToPropagate,m=f.stopFocusPropagation,v=f.onFocusNotification,y=f.onFocus,x=f.shouldFocusInnerElementWhenReceivedFocus,w=f.defaultTabbableElement,b=a._isImmediateDescendantOfZone(c.target),_;if(b)_=c.target;else for(var S=c.target;S&&S!==a._root.current;){if(Ao(S)&&a._isImmediateDescendantOfZone(S)){_=S;break}S=To(S,oa)}if(x&&c.target===a._root.current){var M=w&&typeof w=="function"&&a._root.current&&w(a._root.current);M&&Ao(M)?(_=M,M.focus()):(a.focus(!0),a._activeElement&&(_=null))}var C=!a._activeElement;_&&_!==a._activeElement&&((b||C)&&a._setFocusAlignment(_,!0,!0),a._activeElement=_,C&&a._updateTabIndexes()),h&&h(a._activeElement,c),(m||p)&&c.stopPropagation(),y?y(c):v&&v()}},a._onBlur=function(){a._setParkedFocus(!1)},a._onMouseDown=function(c){if(!a._portalContainsElement(c.target)){var f=a.props.disabled;if(!f){for(var h=c.target,p=[];h&&h!==a._root.current;)p.push(h),h=To(h,oa);for(;p.length&&(h=p.pop(),h&&Ao(h)&&a._setActiveElement(h,!0),!va(h)););}}},a._onKeyDown=function(c,f){if(!a._portalContainsElement(c.target)){var h=a.props,p=h.direction,m=h.disabled,v=h.isInnerZoneKeystroke,y=h.pagingSupportDisabled,x=h.shouldEnterInnerZone;if(!m&&(a.props.onKeyDown&&a.props.onKeyDown(c),!c.isDefaultPrevented()&&!(a._getDocument().activeElement===a._root.current&&a._isInnerZone))){if((x&&x(c)||v&&v(c))&&a._isImmediateDescendantOfZone(c.target)){var w=a._getFirstInnerZone();if(w){if(!w.focus(!0))return}else if(Z1(c.target)){if(!a.focusElement(ri(c.target,c.target.firstChild,!0)))return}else return}else{if(c.altKey)return;switch(c.which){case $e.space:if(a._shouldRaiseClicksOnSpace&&a._tryInvokeClickForFocusable(c.target,c))break;return;case $e.left:if(p!==ti.vertical&&(a._preventDefaultWhenHandled(c),a._moveFocusLeft(f)))break;return;case $e.right:if(p!==ti.vertical&&(a._preventDefaultWhenHandled(c),a._moveFocusRight(f)))break;return;case $e.up:if(p!==ti.horizontal&&(a._preventDefaultWhenHandled(c),a._moveFocusUp()))break;return;case $e.down:if(p!==ti.horizontal&&(a._preventDefaultWhenHandled(c),a._moveFocusDown()))break;return;case $e.pageDown:if(!y&&a._moveFocusPaging(!0))break;return;case $e.pageUp:if(!y&&a._moveFocusPaging(!1))break;return;case $e.tab:if(a.props.allowTabKey||a.props.handleTabKey===WS.all||a.props.handleTabKey===WS.inputOnly&&a._isElementInput(c.target)){var b=!1;if(a._processingTabKey=!0,p===ti.vertical||!a._shouldWrapFocus(a._activeElement,Ab))b=c.shiftKey?a._moveFocusUp():a._moveFocusDown();else{var _=_i(f)?!c.shiftKey:c.shiftKey;b=_?a._moveFocusLeft(f):a._moveFocusRight(f)}if(a._processingTabKey=!1,b)break;a.props.shouldResetActiveElementWhenTabFromZone&&(a._activeElement=null)}return;case $e.home:if(a._isContentEditableElement(c.target)||a._isElementInput(c.target)&&!a._shouldInputLoseFocus(c.target,!1))return!1;var S=a._root.current&&a._root.current.firstChild;if(a._root.current&&S&&a.focusElement(ri(a._root.current,S,!0)))break;return;case $e.end:if(a._isContentEditableElement(c.target)||a._isElementInput(c.target)&&!a._shouldInputLoseFocus(c.target,!0))return!1;var M=a._root.current&&a._root.current.lastChild;if(a._root.current&&a.focusElement(yi(a._root.current,M,!0,!0,!0)))break;return;case $e.enter:if(a._shouldRaiseClicksOnEnter&&a._tryInvokeClickForFocusable(c.target,c))break;return;default:return}}c.preventDefault(),c.stopPropagation()}}},a._getHorizontalDistanceFromCenter=function(c,f,h){var p=a._focusAlignment.left||a._focusAlignment.x||0,m=Math.floor(h.top),v=Math.floor(f.bottom),y=Math.floor(h.bottom),x=Math.floor(f.top),w=c&&m>v,b=!c&&y<x;return w||b?p>=h.left&&p<=h.left+h.width?0:Math.abs(h.left+h.width/2-p):a._shouldWrapFocus(a._activeElement,Cb)?Rb:oh},nc(a),a._id=mo("FocusZone"),a._focusAlignment={left:0,top:0},a._processingTabKey=!1;var u=(i=(r=t.shouldRaiseClicks)!==null&&r!==void 0?r:e.defaultProps.shouldRaiseClicks)!==null&&i!==void 0?i:!0;return a._shouldRaiseClicksOnEnter=(s=t.shouldRaiseClicksOnEnter)!==null&&s!==void 0?s:u,a._shouldRaiseClicksOnSpace=(o=t.shouldRaiseClicksOnSpace)!==null&&o!==void 0?o:u,a}return e.getOuterZones=function(){return Dc.size},e._onKeyDownCapture=function(t){t.which===$e.tab&&Dc.forEach(function(r){return r._updateTabIndexes()})},e.prototype.componentDidMount=function(){var t=this._root.current;if(ah[this._id]=this,t){this._windowElement=Zn(t);for(var r=To(t,oa);r&&r!==this._getDocument().body&&r.nodeType===1;){if(va(r)){this._isInnerZone=!0;break}r=To(r,oa)}this._isInnerZone||(Dc.add(this),this._windowElement&&Dc.size===1&&this._windowElement.addEventListener("keydown",e._onKeyDownCapture,!0)),this._root.current&&this._root.current.addEventListener("blur",this._onBlur,!0),this._updateTabIndexes(),this.props.defaultTabbableElement&&typeof this.props.defaultTabbableElement=="string"?this._activeElement=this._getDocument().querySelector(this.props.defaultTabbableElement):this.props.defaultActiveElement&&(this._activeElement=this._getDocument().querySelector(this.props.defaultActiveElement)),this.props.shouldFocusOnMount&&this.focus()}},e.prototype.componentDidUpdate=function(){var t=this._root.current,r=this._getDocument();if((this._activeElement&&!Fi(this._root.current,this._activeElement,oa)||this._defaultFocusElement&&!Fi(this._root.current,this._defaultFocusElement,oa))&&(this._activeElement=null,this._defaultFocusElement=null,this._updateTabIndexes()),!this.props.preventFocusRestoration&&r&&this._lastIndexPath&&(r.activeElement===r.body||r.activeElement===null||r.activeElement===t)){var i=g9(t,this._lastIndexPath);i?(this._setActiveElement(i,!0),i.focus(),this._setParkedFocus(!1)):this._setParkedFocus(!0)}},e.prototype.componentWillUnmount=function(){delete ah[this._id],this._isInnerZone||(Dc.delete(this),this._windowElement&&Dc.size===0&&this._windowElement.removeEventListener("keydown",e._onKeyDownCapture,!0)),this._root.current&&this._root.current.removeEventListener("blur",this._onBlur,!0),this._activeElement=null,this._defaultFocusElement=null},e.prototype.render=function(){var t=this,r=this.props,i=r.as,s=r.elementType,o=r.rootProps,a=r.ariaDescribedBy,u=r.ariaLabelledBy,c=r.className,f=mr(this.props,vr),h=i||s||"div";this._evaluateFocusBeforeRender();var p=d7();return L.exports.createElement(h,J({"aria-labelledby":u,"aria-describedby":a},f,o,{className:uo(VX(),c),ref:this._mergedRef(this.props.elementRef,this._root),"data-focuszone-id":this._id,onKeyDown:function(m){return t._onKeyDown(m,p)},onFocus:this._onFocus,onMouseDownCapture:this._onMouseDown}),this.props.children)},e.prototype.focus=function(t){if(t===void 0&&(t=!1),this._root.current)if(!t&&this._root.current.getAttribute(Rg)==="true"&&this._isInnerZone){var r=this._getOwnerZone(this._root.current);if(r!==this._root.current){var i=ah[r.getAttribute(Tb)];return!!i&&i.focusElement(this._root.current)}return!1}else{if(!t&&this._activeElement&&Fi(this._root.current,this._activeElement)&&Ao(this._activeElement))return this._activeElement.focus(),!0;var s=this._root.current.firstChild;return this.focusElement(ri(this._root.current,s,!0))}return!1},e.prototype.focusLast=function(){if(this._root.current){var t=this._root.current&&this._root.current.lastChild;return this.focusElement(yi(this._root.current,t,!0,!0,!0))}return!1},e.prototype.focusElement=function(t,r){var i=this.props,s=i.onBeforeFocus,o=i.shouldReceiveFocus;return o&&!o(t)||s&&!s(t)?!1:t?(this._setActiveElement(t,r),this._activeElement&&this._activeElement.focus(),!0):!1},e.prototype.setFocusAlignment=function(t){this._focusAlignment=t},Object.defineProperty(e.prototype,"defaultFocusElement",{get:function(){return this._defaultFocusElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeElement",{get:function(){return this._activeElement},enumerable:!1,configurable:!0}),e.prototype._evaluateFocusBeforeRender=function(){var t=this._root.current,r=this._getDocument();if(r){var i=r.activeElement;if(i!==t){var s=Fi(t,i,!1);this._lastIndexPath=s?v9(t,i):void 0}}},e.prototype._setParkedFocus=function(t){var r=this._root.current;r&&this._isParked!==t&&(this._isParked=t,t?(this.props.allowFocusRoot||(this._parkedTabIndex=r.getAttribute("tabindex"),r.setAttribute("tabindex","-1")),r.focus()):this.props.allowFocusRoot||(this._parkedTabIndex?(r.setAttribute("tabindex",this._parkedTabIndex),this._parkedTabIndex=void 0):r.removeAttribute("tabindex")))},e.prototype._setActiveElement=function(t,r){var i=this._activeElement;this._activeElement=t,i&&(va(i)&&this._updateTabIndexes(i),i.tabIndex=-1),this._activeElement&&((!this._focusAlignment||r)&&this._setFocusAlignment(t,!0,!0),this._activeElement.tabIndex=0)},e.prototype._preventDefaultWhenHandled=function(t){this.props.preventDefaultWhenHandled&&t.preventDefault()},e.prototype._tryInvokeClickForFocusable=function(t,r){var i=t;if(i===this._root.current)return!1;do{if(i.tagName==="BUTTON"||i.tagName==="A"||i.tagName==="INPUT"||i.tagName==="TEXTAREA")return!1;if(this._isImmediateDescendantOfZone(i)&&i.getAttribute(Rg)==="true"&&i.getAttribute(UX)!=="true")return WX(i,r),!0;i=To(i,oa)}while(i!==this._root.current);return!1},e.prototype._getFirstInnerZone=function(t){if(t=t||this._activeElement||this._root.current,!t)return null;if(va(t))return ah[t.getAttribute(Tb)];for(var r=t.firstElementChild;r;){if(va(r))return ah[r.getAttribute(Tb)];var i=this._getFirstInnerZone(r);if(i)return i;r=r.nextElementSibling}return null},e.prototype._moveFocus=function(t,r,i,s){s===void 0&&(s=!0);var o=this._activeElement,a=-1,u=void 0,c=!1,f=this.props.direction===ti.bidirectional;if(!o||!this._root.current||this._isElementInput(o)&&!this._shouldInputLoseFocus(o,t))return!1;var h=f?o.getBoundingClientRect():null;do if(o=t?ri(this._root.current,o):yi(this._root.current,o),f){if(o){var p=o.getBoundingClientRect(),m=r(h,p);if(m===-1&&a===-1){u=o;break}if(m>-1&&(a===-1||m<a)&&(a=m,u=o),a>=0&&m<0)break}}else{u=o;break}while(o);if(u&&u!==this._activeElement)c=!0,this.focusElement(u);else if(this.props.isCircularNavigation&&s)return t?this.focusElement(ri(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(yi(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return c},e.prototype._moveFocusDown=function(){var t=this,r=-1,i=this._focusAlignment.left||this._focusAlignment.x||0;return this._moveFocus(!0,function(s,o){var a=-1,u=Math.floor(o.top),c=Math.floor(s.bottom);return u<c?t._shouldWrapFocus(t._activeElement,Cb)?Rb:oh:((r===-1&&u>=c||u===r)&&(r=u,i>=o.left&&i<=o.left+o.width?a=0:a=Math.abs(o.left+o.width/2-i)),a)})?(this._setFocusAlignment(this._activeElement,!1,!0),!0):!1},e.prototype._moveFocusUp=function(){var t=this,r=-1,i=this._focusAlignment.left||this._focusAlignment.x||0;return this._moveFocus(!1,function(s,o){var a=-1,u=Math.floor(o.bottom),c=Math.floor(o.top),f=Math.floor(s.top);return u>f?t._shouldWrapFocus(t._activeElement,Cb)?Rb:oh:((r===-1&&u<=f||c===r)&&(r=c,i>=o.left&&i<=o.left+o.width?a=0:a=Math.abs(o.left+o.width/2-i)),a)})?(this._setFocusAlignment(this._activeElement,!1,!0),!0):!1},e.prototype._moveFocusLeft=function(t){var r=this,i=this._shouldWrapFocus(this._activeElement,Ab);return this._moveFocus(_i(t),function(s,o){var a=-1,u;return _i(t)?u=parseFloat(o.top.toFixed(3))<parseFloat(s.bottom.toFixed(3)):u=parseFloat(o.bottom.toFixed(3))>parseFloat(s.top.toFixed(3)),u&&o.right<=s.right&&r.props.direction!==ti.vertical?a=s.right-o.right:i||(a=oh),a},void 0,i)?(this._setFocusAlignment(this._activeElement,!0,!1),!0):!1},e.prototype._moveFocusRight=function(t){var r=this,i=this._shouldWrapFocus(this._activeElement,Ab);return this._moveFocus(!_i(t),function(s,o){var a=-1,u;return _i(t)?u=parseFloat(o.bottom.toFixed(3))>parseFloat(s.top.toFixed(3)):u=parseFloat(o.top.toFixed(3))<parseFloat(s.bottom.toFixed(3)),u&&o.left>=s.left&&r.props.direction!==ti.vertical?a=o.left-s.left:i||(a=oh),a},void 0,i)?(this._setFocusAlignment(this._activeElement,!0,!1),!0):!1},e.prototype._moveFocusPaging=function(t,r){r===void 0&&(r=!0);var i=this._activeElement;if(!i||!this._root.current||this._isElementInput(i)&&!this._shouldInputLoseFocus(i,t))return!1;var s=wk(i);if(!s)return!1;var o=-1,a=void 0,u=-1,c=-1,f=s.clientHeight,h=i.getBoundingClientRect();do if(i=t?ri(this._root.current,i):yi(this._root.current,i),i){var p=i.getBoundingClientRect(),m=Math.floor(p.top),v=Math.floor(h.bottom),y=Math.floor(p.bottom),x=Math.floor(h.top),w=this._getHorizontalDistanceFromCenter(t,h,p),b=t&&m>v+f,_=!t&&y<x-f;if(b||_)break;w>-1&&(t&&m>u?(u=m,o=w,a=i):!t&&y<c?(c=y,o=w,a=i):(o===-1||w<=o)&&(o=w,a=i))}while(i);var S=!1;if(a&&a!==this._activeElement)S=!0,this.focusElement(a),this._setFocusAlignment(a,!1,!0);else if(this.props.isCircularNavigation&&r)return t?this.focusElement(ri(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(yi(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return S},e.prototype._setFocusAlignment=function(t,r,i){if(this.props.direction===ti.bidirectional&&(!this._focusAlignment||r||i)){var s=t.getBoundingClientRect(),o=s.left+s.width/2,a=s.top+s.height/2;this._focusAlignment||(this._focusAlignment={left:o,top:a}),r&&(this._focusAlignment.left=o),i&&(this._focusAlignment.top=a)}},e.prototype._isImmediateDescendantOfZone=function(t){return this._getOwnerZone(t)===this._root.current},e.prototype._getOwnerZone=function(t){for(var r=To(t,oa);r&&r!==this._root.current&&r!==this._getDocument().body;){if(va(r))return r;r=To(r,oa)}return r},e.prototype._updateTabIndexes=function(t){!this._activeElement&&this.props.defaultTabbableElement&&typeof this.props.defaultTabbableElement=="function"&&(this._activeElement=this.props.defaultTabbableElement(this._root.current)),!t&&this._root.current&&(this._defaultFocusElement=null,t=this._root.current,this._activeElement&&!Fi(t,this._activeElement)&&(this._activeElement=null)),this._activeElement&&!Ao(this._activeElement)&&(this._activeElement=null);for(var r=t&&t.children,i=0;r&&i<r.length;i++){var s=r[i];va(s)?s.getAttribute(Rg)==="true"&&(!this._isInnerZone&&(!this._activeElement&&!this._defaultFocusElement||this._activeElement===s)?(this._defaultFocusElement=s,s.getAttribute(So)!=="0"&&s.setAttribute(So,"0")):s.getAttribute(So)!=="-1"&&s.setAttribute(So,"-1")):(s.getAttribute&&s.getAttribute(Rg)==="false"&&s.setAttribute(So,"-1"),Ao(s)?this.props.disabled?s.setAttribute(So,"-1"):!this._isInnerZone&&(!this._activeElement&&!this._defaultFocusElement||this._activeElement===s)?(this._defaultFocusElement=s,s.getAttribute(So)!=="0"&&s.setAttribute(So,"0")):s.getAttribute(So)!=="-1"&&s.setAttribute(So,"-1"):s.tagName==="svg"&&s.getAttribute("focusable")!=="false"&&s.setAttribute("focusable","false")),this._updateTabIndexes(s)}},e.prototype._isContentEditableElement=function(t){return t&&t.getAttribute("contenteditable")==="true"},e.prototype._isElementInput=function(t){return!!(t&&t.tagName&&(t.tagName.toLowerCase()==="input"||t.tagName.toLowerCase()==="textarea"))},e.prototype._shouldInputLoseFocus=function(t,r){if(!this._processingTabKey&&t&&t.type&&GX.indexOf(t.type.toLowerCase())>-1){var i=t.selectionStart,s=t.selectionEnd,o=i!==s,a=t.value,u=t.readOnly;if(o||i>0&&!r&&!u||i!==a.length&&r&&!u||!!this.props.handleTabKey&&!(this.props.shouldInputLoseFocusOnArrowKey&&this.props.shouldInputLoseFocusOnArrowKey(t)))return!1}return!0},e.prototype._shouldWrapFocus=function(t,r){return this.props.checkForNoWrap?Pk(t,r):!0},e.prototype._portalContainsElement=function(t){return t&&!!this._root.current&&Ck(t,this._root.current)},e.prototype._getDocument=function(){return Xr(this._root.current)},e.defaultProps={isCircularNavigation:!1,direction:ti.bidirectional,shouldRaiseClicks:!0},e}(L.exports.Component),ki;(function(n){n[n.Normal=0]="Normal",n[n.Divider=1]="Divider",n[n.Header=2]="Header",n[n.Section=3]="Section"})(ki||(ki={}));function Tp(n){return n.canCheck?!!(n.isChecked||n.checked):typeof n.isChecked=="boolean"?n.isChecked:typeof n.checked=="boolean"?n.checked:null}function Ba(n){return!!(n.subMenuProps||n.items)}function ko(n){return!!(n.isDisabled||n.disabled)}function lN(n){var e=Tp(n),t=e!==null;return t?"menuitemcheckbox":"menuitem"}var k2=function(n){var e=n.item,t=n.classNames,r=e.iconProps;return L.exports.createElement(rc,J({},r,{className:t.icon}))},jX=function(n){var e=n.item,t=n.hasIcons;return t?e.onRenderIcon?e.onRenderIcon(n,k2):k2(n):null},XX=function(n){var e=n.onCheckmarkClick,t=n.item,r=n.classNames,i=Tp(t);if(e){var s=function(o){return e(t,o)};return L.exports.createElement(rc,{iconName:t.canCheck!==!1&&i?"CheckMark":"",className:r.checkmarkIcon,onClick:s})}return null},qX=function(n){var e=n.item,t=n.classNames;return e.text||e.name?L.exports.createElement("span",{className:t.label},e.text||e.name):null},KX=function(n){var e=n.item,t=n.classNames;return e.secondaryText?L.exports.createElement("span",{className:t.secondaryText},e.secondaryText):null},YX=function(n){var e=n.item,t=n.classNames,r=n.theme;return Ba(e)?L.exports.createElement(rc,J({iconName:_i(r)?"ChevronLeft":"ChevronRight"},e.submenuIconProps,{className:t.subMenuIcon})):null},ZX=function(n){qr(e,n);function e(t){var r=n.call(this,t)||this;return r.openSubMenu=function(){var i=r.props,s=i.item,o=i.openSubMenu,a=i.getSubmenuTarget;if(a){var u=a();Ba(s)&&o&&u&&o(s,u)}},r.dismissSubMenu=function(){var i=r.props,s=i.item,o=i.dismissSubMenu;Ba(s)&&o&&o()},r.dismissMenu=function(i){var s=r.props.dismissMenu;s&&s(void 0,i)},nc(r),r}return e.prototype.render=function(){var t=this.props,r=t.item,i=t.classNames,s=r.onRenderContent||this._renderLayout;return L.exports.createElement("div",{className:r.split?i.linkContentMenu:i.linkContent},s(this.props,{renderCheckMarkIcon:XX,renderItemIcon:jX,renderItemName:qX,renderSecondaryText:KX,renderSubMenuIcon:YX}))},e.prototype._renderLayout=function(t,r){return L.exports.createElement(L.exports.Fragment,null,r.renderCheckMarkIcon(t),r.renderItemIcon(t),r.renderItemName(t),r.renderSecondaryText(t),r.renderSubMenuIcon(t))},e}(L.exports.Component),JX=Tr(function(n){return rm({wrapper:{display:"inline-flex",height:"100%",alignItems:"center"},divider:{width:1,height:"100%",backgroundColor:n.palette.neutralTertiaryAlt}})}),vl=36,N2=$1(0,Hk),QX=Tr(function(n){var e,t,r,i,s,o=n.semanticColors,a=n.fonts,u=n.palette,c=o.menuItemBackgroundHovered,f=o.menuItemTextHovered,h=o.menuItemBackgroundPressed,p=o.bodyDivider,m={item:[a.medium,{color:o.bodyText,position:"relative",boxSizing:"border-box"}],divider:{display:"block",height:"1px",backgroundColor:p,position:"relative"},root:[Xd(n),a.medium,{color:o.bodyText,backgroundColor:"transparent",border:"none",width:"100%",height:vl,lineHeight:vl,display:"block",cursor:"pointer",padding:"0px 8px 0 4px",textAlign:"left"}],rootDisabled:{color:o.disabledBodyText,cursor:"default",pointerEvents:"none",selectors:(e={},e[ct]={color:"GrayText",opacity:1},e)},rootHovered:{backgroundColor:c,color:f,selectors:{".ms-ContextualMenu-icon":{color:u.themeDarkAlt},".ms-ContextualMenu-submenuIcon":{color:u.neutralPrimary}}},rootFocused:{backgroundColor:u.white},rootChecked:{selectors:{".ms-ContextualMenu-checkmarkIcon":{color:u.neutralPrimary}}},rootPressed:{backgroundColor:h,selectors:{".ms-ContextualMenu-icon":{color:u.themeDark},".ms-ContextualMenu-submenuIcon":{color:u.neutralPrimary}}},rootExpanded:{backgroundColor:h,color:o.bodyTextChecked,selectors:(t={".ms-ContextualMenu-submenuIcon":(r={},r[ct]={color:"inherit"},r)},t[ct]=J({},os()),t)},linkContent:{whiteSpace:"nowrap",height:"inherit",display:"flex",alignItems:"center",maxWidth:"100%"},anchorLink:{padding:"0px 8px 0 4px",textRendering:"auto",color:"inherit",letterSpacing:"normal",wordSpacing:"normal",textTransform:"none",textIndent:"0px",textShadow:"none",textDecoration:"none",boxSizing:"border-box"},label:{margin:"0 4px",verticalAlign:"middle",display:"inline-block",flexGrow:"1",textOverflow:"ellipsis",whiteSpace:"nowrap"},secondaryText:{color:n.palette.neutralSecondary,paddingLeft:"20px",textAlign:"right"},icon:{display:"inline-block",minHeight:"1px",maxHeight:vl,fontSize:_a.medium,width:_a.medium,margin:"0 4px",verticalAlign:"middle",flexShrink:"0",selectors:(i={},i[N2]={fontSize:_a.large,width:_a.large},i)},iconColor:{color:o.menuIcon},iconDisabled:{color:o.disabledBodyText},checkmarkIcon:{color:o.bodySubtext},subMenuIcon:{height:vl,lineHeight:vl,color:u.neutralSecondary,textAlign:"center",display:"inline-block",verticalAlign:"middle",flexShrink:"0",fontSize:_a.small,selectors:(s={":hover":{color:u.neutralPrimary},":active":{color:u.neutralPrimary}},s[N2]={fontSize:_a.medium},s)},splitButtonFlexContainer:[Xd(n),{display:"flex",height:vl,flexWrap:"nowrap",justifyContent:"center",alignItems:"flex-start"}]};return Kl(m)}),O2="28px",$X=$1(0,Hk),eq=Tr(function(n){var e;return rm(JX(n),{wrapper:{position:"absolute",right:28,selectors:(e={},e[$X]={right:32},e)},divider:{height:16,width:1}})}),tq={item:"ms-ContextualMenu-item",divider:"ms-ContextualMenu-divider",root:"ms-ContextualMenu-link",isChecked:"is-checked",isExpanded:"is-expanded",isDisabled:"is-disabled",linkContent:"ms-ContextualMenu-linkContent",linkContentMenu:"ms-ContextualMenu-linkContent",icon:"ms-ContextualMenu-icon",iconColor:"ms-ContextualMenu-iconColor",checkmarkIcon:"ms-ContextualMenu-checkmarkIcon",subMenuIcon:"ms-ContextualMenu-submenuIcon",label:"ms-ContextualMenu-itemText",secondaryText:"ms-ContextualMenu-secondaryText",splitMenu:"ms-ContextualMenu-splitMenu",screenReaderText:"ms-ContextualMenu-screenReaderText"},nq=Tr(function(n,e,t,r,i,s,o,a,u,c,f,h){var p,m,v,y,x=QX(n),w=yo(tq,n);return rm({item:[w.item,x.item,o],divider:[w.divider,x.divider,a],root:[w.root,x.root,r&&[w.isChecked,x.rootChecked],i&&x.anchorLink,t&&[w.isExpanded,x.rootExpanded],e&&[w.isDisabled,x.rootDisabled],!e&&!t&&[{selectors:(p={":hover":x.rootHovered,":active":x.rootPressed},p["."+Hr+" &:focus, ."+Hr+" &:focus:hover"]=x.rootFocused,p["."+Hr+" &:hover"]={background:"inherit;"},p)}],h],splitPrimary:[x.root,{width:"calc(100% - "+O2+")"},r&&["is-checked",x.rootChecked],(e||f)&&["is-disabled",x.rootDisabled],!(e||f)&&!r&&[{selectors:(m={":hover":x.rootHovered},m[":hover ~ ."+w.splitMenu]=x.rootHovered,m[":active"]=x.rootPressed,m["."+Hr+" &:focus, ."+Hr+" &:focus:hover"]=x.rootFocused,m["."+Hr+" &:hover"]={background:"inherit;"},m)}]],splitMenu:[w.splitMenu,x.root,{flexBasis:"0",padding:"0 8px",minWidth:O2},t&&["is-expanded",x.rootExpanded],e&&["is-disabled",x.rootDisabled],!e&&!t&&[{selectors:(v={":hover":x.rootHovered,":active":x.rootPressed},v["."+Hr+" &:focus, ."+Hr+" &:focus:hover"]=x.rootFocused,v["."+Hr+" &:hover"]={background:"inherit;"},v)}]],anchorLink:x.anchorLink,linkContent:[w.linkContent,x.linkContent],linkContentMenu:[w.linkContentMenu,x.linkContent,{justifyContent:"center"}],icon:[w.icon,s&&x.iconColor,x.icon,u,e&&[w.isDisabled,x.iconDisabled]],iconColor:x.iconColor,checkmarkIcon:[w.checkmarkIcon,s&&x.checkmarkIcon,x.icon,u],subMenuIcon:[w.subMenuIcon,x.subMenuIcon,c,t&&{color:n.palette.neutralPrimary},e&&[x.iconDisabled]],label:[w.label,x.label],secondaryText:[w.secondaryText,x.secondaryText],splitContainer:[x.splitButtonFlexContainer,!e&&!r&&[{selectors:(y={},y["."+Hr+" &:focus, ."+Hr+" &:focus:hover"]=x.rootFocused,y)}]],screenReaderText:[w.screenReaderText,x.screenReaderText,Wk,{visibility:"hidden"}]})}),uN=function(n){var e=n.theme,t=n.disabled,r=n.expanded,i=n.checked,s=n.isAnchorLink,o=n.knownIcon,a=n.itemClassName,u=n.dividerClassName,c=n.iconClassName,f=n.subMenuClassName,h=n.primaryDisabled,p=n.className;return nq(e,t,r,i,s,o,a,u,c,f,h,p)},Cp=gs(ZX,uN,void 0,{scope:"ContextualMenuItem"}),aE=function(n){qr(e,n);function e(t){var r=n.call(this,t)||this;return r._onItemMouseEnter=function(i){var s=r.props,o=s.item,a=s.onItemMouseEnter;a&&a(o,i,i.currentTarget)},r._onItemClick=function(i){var s=r.props,o=s.item,a=s.onItemClickBase;a&&a(o,i,i.currentTarget)},r._onItemMouseLeave=function(i){var s=r.props,o=s.item,a=s.onItemMouseLeave;a&&a(o,i)},r._onItemKeyDown=function(i){var s=r.props,o=s.item,a=s.onItemKeyDown;a&&a(o,i)},r._onItemMouseMove=function(i){var s=r.props,o=s.item,a=s.onItemMouseMove;a&&a(o,i,i.currentTarget)},r._getSubmenuTarget=function(){},nc(r),r}return e.prototype.shouldComponentUpdate=function(t){return!X1(t,this.props)},e}(L.exports.Component),rq="ktp",B2="-",iq="data-ktp-target",sq="data-ktp-execute-target",oq="ktp-layer-id",Eo;(function(n){n.KEYTIP_ADDED="keytipAdded",n.KEYTIP_REMOVED="keytipRemoved",n.KEYTIP_UPDATED="keytipUpdated",n.PERSISTED_KEYTIP_ADDED="persistedKeytipAdded",n.PERSISTED_KEYTIP_REMOVED="persistedKeytipRemoved",n.PERSISTED_KEYTIP_EXECUTE="persistedKeytipExecute",n.ENTER_KEYTIP_MODE="enterKeytipMode",n.EXIT_KEYTIP_MODE="exitKeytipMode"})(Eo||(Eo={}));var aq=function(){function n(){this.keytips={},this.persistedKeytips={},this.sequenceMapping={},this.inKeytipMode=!1,this.shouldEnterKeytipMode=!0,this.delayUpdatingKeytipChange=!1}return n.getInstance=function(){return this._instance},n.prototype.init=function(e){this.delayUpdatingKeytipChange=e},n.prototype.register=function(e,t){t===void 0&&(t=!1);var r=e;t||(r=this.addParentOverflow(e),this.sequenceMapping[r.keySequences.toString()]=r);var i=this._getUniqueKtp(r);if(t?this.persistedKeytips[i.uniqueID]=i:this.keytips[i.uniqueID]=i,this.inKeytipMode||!this.delayUpdatingKeytipChange){var s=t?Eo.PERSISTED_KEYTIP_ADDED:Eo.KEYTIP_ADDED;Co.raise(this,s,{keytip:r,uniqueID:i.uniqueID})}return i.uniqueID},n.prototype.update=function(e,t){var r=this.addParentOverflow(e),i=this._getUniqueKtp(r,t),s=this.keytips[t];s&&(i.keytip.visible=s.keytip.visible,this.keytips[t]=i,delete this.sequenceMapping[s.keytip.keySequences.toString()],this.sequenceMapping[i.keytip.keySequences.toString()]=i.keytip,(this.inKeytipMode||!this.delayUpdatingKeytipChange)&&Co.raise(this,Eo.KEYTIP_UPDATED,{keytip:i.keytip,uniqueID:i.uniqueID}))},n.prototype.unregister=function(e,t,r){r===void 0&&(r=!1),r?delete this.persistedKeytips[t]:delete this.keytips[t],!r&&delete this.sequenceMapping[e.keySequences.toString()];var i=r?Eo.PERSISTED_KEYTIP_REMOVED:Eo.KEYTIP_REMOVED;(this.inKeytipMode||!this.delayUpdatingKeytipChange)&&Co.raise(this,i,{keytip:e,uniqueID:t})},n.prototype.enterKeytipMode=function(){Co.raise(this,Eo.ENTER_KEYTIP_MODE)},n.prototype.exitKeytipMode=function(){Co.raise(this,Eo.EXIT_KEYTIP_MODE)},n.prototype.getKeytips=function(){var e=this;return Object.keys(this.keytips).map(function(t){return e.keytips[t].keytip})},n.prototype.addParentOverflow=function(e){var t=qn([],e.keySequences);if(t.pop(),t.length!==0){var r=this.sequenceMapping[t.toString()];if(r&&r.overflowSetSequence)return J(J({},e),{overflowSetSequence:r.overflowSetSequence})}return e},n.prototype.menuExecute=function(e,t){Co.raise(this,Eo.PERSISTED_KEYTIP_EXECUTE,{overflowButtonSequences:e,keytipSequences:t})},n.prototype._getUniqueKtp=function(e,t){return t===void 0&&(t=mo()),{keytip:J({},e),uniqueID:t}},n._instance=new n,n}();function cN(n){return n.reduce(function(e,t){return e+B2+t.split("").join(B2)},rq)}function lq(n,e){var t=e.length,r=qn([],e).pop(),i=qn([],n);return $8(i,t-1,r)}function uq(n){var e=" "+oq;return n.length?e+" "+cN(n):e}function cq(n){var e=L.exports.useRef(),t=n.keytipProps?J({disabled:n.disabled},n.keytipProps):void 0,r=Xu(aq.getInstance()),i=Mp(n);jd(function(){e.current&&t&&((i==null?void 0:i.keytipProps)!==n.keytipProps||(i==null?void 0:i.disabled)!==n.disabled)&&r.update(t,e.current)}),jd(function(){return t&&(e.current=r.register(t)),function(){t&&r.unregister(t,e.current)}},[]);var s={ariaDescribedBy:void 0,keytipId:void 0};return t&&(s=dq(r,t,n.ariaDescribedBy)),s}function dq(n,e,t){var r=n.addParentOverflow(e),i=pf(t,uq(r.keySequences)),s=qn([],r.keySequences);r.overflowSetSequence&&(s=lq(s,r.overflowSetSequence));var o=cN(s);return{ariaDescribedBy:i,keytipId:o}}var Ap=function(n){var e,t=n.children,r=hf(n,["children"]),i=cq(r),s=i.keytipId,o=i.ariaDescribedBy;return t((e={},e[iq]=s,e[sq]=s,e["aria-describedby"]=o,e))},fq=function(n){qr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._anchor=L.exports.createRef(),t._getMemoizedMenuButtonKeytipProps=Tr(function(r){return J(J({},r),{hasMenu:!0})}),t._getSubmenuTarget=function(){return t._anchor.current?t._anchor.current:void 0},t._onItemClick=function(r){var i=t.props,s=i.item,o=i.onItemClick;o&&o(s,r)},t._renderAriaDescription=function(r,i){return r?L.exports.createElement("span",{id:t._ariaDescriptionId,className:i},r):null},t}return e.prototype.render=function(){var t=this,r=this.props,i=r.item,s=r.classNames,o=r.index,a=r.focusableElementIndex,u=r.totalItemCount,c=r.hasCheckmarks,f=r.hasIcons,h=r.contextualMenuItemAs,p=h===void 0?Cp:h,m=r.expandedMenuItemKey,v=r.onItemClick,y=r.openSubMenu,x=r.dismissSubMenu,w=r.dismissMenu,b=i.rel;i.target&&i.target.toLowerCase()==="_blank"&&(b=b||"nofollow noopener noreferrer");var _=Ba(i),S=mr(i,Nk),M=ko(i),C=i.itemProps,A=i.ariaDescription,T=i.keytipProps;T&&_&&(T=this._getMemoizedMenuButtonKeytipProps(T)),A&&(this._ariaDescriptionId=mo());var R=pf(i.ariaDescribedBy,A?this._ariaDescriptionId:void 0,S["aria-describedby"]),D={"aria-describedby":R};return L.exports.createElement("div",null,L.exports.createElement(Ap,{keytipProps:i.keytipProps,ariaDescribedBy:R,disabled:M},function(O){return L.exports.createElement("a",J({},D,S,O,{ref:t._anchor,href:i.href,target:i.target,rel:b,className:s.root,role:"menuitem","aria-haspopup":_||void 0,"aria-expanded":_?i.key===m:void 0,"aria-posinset":a+1,"aria-setsize":u,"aria-disabled":ko(i),style:i.style,onClick:t._onItemClick,onMouseEnter:t._onItemMouseEnter,onMouseLeave:t._onItemMouseLeave,onMouseMove:t._onItemMouseMove,onKeyDown:_?t._onItemKeyDown:void 0}),L.exports.createElement(p,J({componentRef:i.componentRef,item:i,classNames:s,index:o,onCheckmarkClick:c&&v?v:void 0,hasIcons:f,openSubMenu:y,dismissSubMenu:x,dismissMenu:w,getSubmenuTarget:t._getSubmenuTarget},C)),t._renderAriaDescription(A,s.screenReaderText))}))},e}(aE),hq=function(n){qr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._btn=L.exports.createRef(),t._getMemoizedMenuButtonKeytipProps=Tr(function(r){return J(J({},r),{hasMenu:!0})}),t._renderAriaDescription=function(r,i){return r?L.exports.createElement("span",{id:t._ariaDescriptionId,className:i},r):null},t._getSubmenuTarget=function(){return t._btn.current?t._btn.current:void 0},t}return e.prototype.render=function(){var t=this,r=this.props,i=r.item,s=r.classNames,o=r.index,a=r.focusableElementIndex,u=r.totalItemCount,c=r.hasCheckmarks,f=r.hasIcons,h=r.contextualMenuItemAs,p=h===void 0?Cp:h,m=r.expandedMenuItemKey,v=r.onItemMouseDown,y=r.onItemClick,x=r.openSubMenu,w=r.dismissSubMenu,b=r.dismissMenu,_=Tp(i),S=_!==null,M=lN(i),C=Ba(i),A=i.itemProps,T=i.ariaLabel,R=i.ariaDescription,D=mr(i,ju);delete D.disabled;var O=i.role||M;R&&(this._ariaDescriptionId=mo());var Y=pf(i.ariaDescribedBy,R?this._ariaDescriptionId:void 0,D["aria-describedby"]),ie={className:s.root,onClick:this._onItemClick,onKeyDown:C?this._onItemKeyDown:void 0,onMouseEnter:this._onItemMouseEnter,onMouseLeave:this._onItemMouseLeave,onMouseDown:function(G){return v?v(i,G):void 0},onMouseMove:this._onItemMouseMove,href:i.href,title:i.title,"aria-label":T,"aria-describedby":Y,"aria-haspopup":C||void 0,"aria-expanded":C?i.key===m:void 0,"aria-posinset":a+1,"aria-setsize":u,"aria-disabled":ko(i),"aria-checked":(O==="menuitemcheckbox"||O==="menuitemradio")&&S?!!_:void 0,"aria-selected":O==="menuitem"&&S?!!_:void 0,role:O,style:i.style},U=i.keytipProps;return U&&C&&(U=this._getMemoizedMenuButtonKeytipProps(U)),L.exports.createElement(Ap,{keytipProps:U,ariaDescribedBy:Y,disabled:ko(i)},function(G){return L.exports.createElement("button",J({ref:t._btn},D,ie,G),L.exports.createElement(p,J({componentRef:i.componentRef,item:i,classNames:s,index:o,onCheckmarkClick:c&&y?y:void 0,hasIcons:f,openSubMenu:x,dismissSubMenu:w,dismissMenu:b,getSubmenuTarget:t._getSubmenuTarget},A)),t._renderAriaDescription(R,s.screenReaderText))})},e}(aE),pq=function(n){var e=n.theme,t=n.getClassNames,r=n.className;if(!e)throw new Error("Theme is undefined or null.");if(t){var i=t(e);return{wrapper:[i.wrapper],divider:[i.divider]}}return{wrapper:[{display:"inline-flex",height:"100%",alignItems:"center"},r],divider:[{width:1,height:"100%",backgroundColor:e.palette.neutralTertiaryAlt}]}},mq=ms(),dN=L.exports.forwardRef(function(n,e){var t=n.styles,r=n.theme,i=n.getClassNames,s=n.className,o=mq(t,{theme:r,getClassNames:i,className:s});return L.exports.createElement("span",{className:o.wrapper,ref:e},L.exports.createElement("span",{className:o.divider}))});dN.displayName="VerticalDividerBase";var gq=gs(dN,pq,void 0,{scope:"VerticalDivider"}),vq=500,yq=function(n){qr(e,n);function e(t){var r=n.call(this,t)||this;return r._getMemoizedMenuButtonKeytipProps=Tr(function(i){return J(J({},i),{hasMenu:!0})}),r._onItemKeyDown=function(i){var s=r.props,o=s.item,a=s.onItemKeyDown;i.which===$e.enter?(r._executeItemClick(i),i.preventDefault(),i.stopPropagation()):a&&a(o,i)},r._getSubmenuTarget=function(){return r._splitButton},r._renderAriaDescription=function(i,s){return i?L.exports.createElement("span",{id:r._ariaDescriptionId,className:s},i):null},r._onItemMouseEnterPrimary=function(i){var s=r.props,o=s.item,a=s.onItemMouseEnter;a&&a(J(J({},o),{subMenuProps:void 0,items:void 0}),i,r._splitButton)},r._onItemMouseEnterIcon=function(i){var s=r.props,o=s.item,a=s.onItemMouseEnter;a&&a(o,i,r._splitButton)},r._onItemMouseMovePrimary=function(i){var s=r.props,o=s.item,a=s.onItemMouseMove;a&&a(J(J({},o),{subMenuProps:void 0,items:void 0}),i,r._splitButton)},r._onItemMouseMoveIcon=function(i){var s=r.props,o=s.item,a=s.onItemMouseMove;a&&a(o,i,r._splitButton)},r._onIconItemClick=function(i){var s=r.props,o=s.item,a=s.onItemClickBase;a&&a(o,i,r._splitButton?r._splitButton:i.currentTarget)},r._executeItemClick=function(i){var s=r.props,o=s.item,a=s.executeItemClick,u=s.onItemClick;if(!(o.disabled||o.isDisabled)){if(r._processingTouch&&u)return u(o,i);a&&a(o,i)}},r._onTouchStart=function(i){r._splitButton&&!("onpointerdown"in r._splitButton)&&r._handleTouchAndPointerEvent(i)},r._onPointerDown=function(i){i.pointerType==="touch"&&(r._handleTouchAndPointerEvent(i),i.preventDefault(),i.stopImmediatePropagation())},r._async=new im(r),r._events=new Co(r),r}return e.prototype.componentDidMount=function(){this._splitButton&&"onpointerdown"in this._splitButton&&this._events.on(this._splitButton,"pointerdown",this._onPointerDown,!0)},e.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},e.prototype.render=function(){var t=this,r=this.props,i=r.item,s=r.classNames,o=r.index,a=r.focusableElementIndex,u=r.totalItemCount,c=r.hasCheckmarks,f=r.hasIcons,h=r.onItemMouseLeave,p=r.expandedMenuItemKey,m=Ba(i),v=i.keytipProps;v&&(v=this._getMemoizedMenuButtonKeytipProps(v));var y=i.ariaDescription;return y&&(this._ariaDescriptionId=mo()),L.exports.createElement(Ap,{keytipProps:v,disabled:ko(i)},function(x){return L.exports.createElement("div",{"data-ktp-target":x["data-ktp-target"],ref:function(w){return t._splitButton=w},role:lN(i),"aria-label":i.ariaLabel,className:s.splitContainer,"aria-disabled":ko(i),"aria-expanded":m?i.key===p:void 0,"aria-haspopup":!0,"aria-describedby":pf(i.ariaDescribedBy,y?t._ariaDescriptionId:void 0,x["aria-describedby"]),"aria-checked":i.isChecked||i.checked,"aria-posinset":a+1,"aria-setsize":u,onMouseEnter:t._onItemMouseEnterPrimary,onMouseLeave:h?h.bind(t,J(J({},i),{subMenuProps:null,items:null})):void 0,onMouseMove:t._onItemMouseMovePrimary,onKeyDown:t._onItemKeyDown,onClick:t._executeItemClick,onTouchStart:t._onTouchStart,tabIndex:0,"data-is-focusable":!0,"aria-roledescription":i["aria-roledescription"]},t._renderSplitPrimaryButton(i,s,o,c,f),t._renderSplitDivider(i),t._renderSplitIconButton(i,s,o,x),t._renderAriaDescription(y,s.screenReaderText))})},e.prototype._renderSplitPrimaryButton=function(t,r,i,s,o){var a=this.props,u=a.contextualMenuItemAs,c=u===void 0?Cp:u,f=a.onItemClick,h={key:t.key,disabled:ko(t)||t.primaryDisabled,name:t.name,text:t.text||t.name,secondaryText:t.secondaryText,className:r.splitPrimary,canCheck:t.canCheck,isChecked:t.isChecked,checked:t.checked,iconProps:t.iconProps,onRenderIcon:t.onRenderIcon,data:t.data,"data-is-focusable":!1},p=t.itemProps;return L.exports.createElement("button",J({},mr(h,ju)),L.exports.createElement(c,J({"data-is-focusable":!1,item:h,classNames:r,index:i,onCheckmarkClick:s&&f?f:void 0,hasIcons:o},p)))},e.prototype._renderSplitDivider=function(t){var r=t.getSplitButtonVerticalDividerClassNames||eq;return L.exports.createElement(gq,{getClassNames:r})},e.prototype._renderSplitIconButton=function(t,r,i,s){var o=this.props,a=o.contextualMenuItemAs,u=a===void 0?Cp:a,c=o.onItemMouseLeave,f=o.onItemMouseDown,h=o.openSubMenu,p=o.dismissSubMenu,m=o.dismissMenu,v={onClick:this._onIconItemClick,disabled:ko(t),className:r.splitMenu,subMenuProps:t.subMenuProps,submenuIconProps:t.submenuIconProps,split:!0,key:t.key},y=J(J({},mr(v,ju)),{onMouseEnter:this._onItemMouseEnterIcon,onMouseLeave:c?c.bind(this,t):void 0,onMouseDown:function(w){return f?f(t,w):void 0},onMouseMove:this._onItemMouseMoveIcon,"data-is-focusable":!1,"data-ktp-execute-target":s["data-ktp-execute-target"],"aria-hidden":!0}),x=t.itemProps;return L.exports.createElement("button",J({},y),L.exports.createElement(u,J({componentRef:t.componentRef,item:v,classNames:r,index:i,hasIcons:!1,openSubMenu:h,dismissSubMenu:p,dismissMenu:m,getSubmenuTarget:this._getSubmenuTarget},x)))},e.prototype._handleTouchAndPointerEvent=function(t){var r=this,i=this.props.onTap;i&&i(t),this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){r._processingTouch=!1,r._lastTouchTimeoutId=void 0},vq)},e}(aE),Kd;(function(n){n[n.small=0]="small",n[n.medium=1]="medium",n[n.large=2]="large",n[n.xLarge=3]="xLarge",n[n.xxLarge=4]="xxLarge",n[n.xxxLarge=5]="xxxLarge",n[n.unknown=999]="unknown"})(Kd||(Kd={}));var xq=[479,639,1023,1365,1919,99999999],Db,fN;function hN(){var n;return(n=Db!=null?Db:fN)!==null&&n!==void 0?n:Kd.large}function _q(n){try{return n.document.documentElement.clientWidth}catch{return n.innerWidth}}function bq(n){var e=Kd.small;if(n){try{for(;_q(n)>xq[e];)e++}catch{e=hN()}fN=e}else throw new Error("Content was rendered in a server environment without providing a default responsive mode. Call setResponsiveMode to define what the responsive mode is.");return e}var pN=function(n,e){var t=L.exports.useState(hN()),r=t[0],i=t[1],s=L.exports.useCallback(function(){var a=bq(Zn(n.current));r!==a&&i(a)},[n,r]),o=nE();return Sp(o,"resize",s),L.exports.useEffect(function(){e===void 0&&s()},[e]),e!=null?e:r},wq=L.exports.createContext({}),Sq=ms(),Mq=ms(),Eq={items:[],shouldFocusOnMount:!0,gapSpace:0,directionalHint:sr.bottomAutoEdge,beakWidth:16};function mN(n,e){var t=e==null?void 0:e.target,r=n.subMenuProps?n.subMenuProps.items:n.items;if(r){for(var i=[],s=0,o=r;s<o.length;s++){var a=o[s];if(a.preferMenuTargetAsEventTarget){var u=a.onClick,c=hf(a,["onClick"]);i.push(J(J({},c),{onClick:_N(u,t)}))}else i.push(a)}return i}}function Tq(n){return n.some(function(e){return!!(e.canCheck||e.sectionProps&&e.sectionProps.items.some(function(t){return t.canCheck===!0}))})}var gN=250,vN="ContextualMenu",Cq=Tr(function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){return vk.apply(void 0,qn([t,uN],n))}});function Aq(n,e){var t=n.hidden,r=t===void 0?!1:t,i=n.onMenuDismissed,s=n.onMenuOpened,o=Mp(r),a=L.exports.useRef(s),u=L.exports.useRef(i),c=L.exports.useRef(n);a.current=s,u.current=i,c.current=n,L.exports.useEffect(function(){var f,h;r&&o===!1?(f=u.current)===null||f===void 0||f.call(u,c.current):!r&&o!==!1&&((h=a.current)===null||h===void 0||h.call(a,c.current))},[r,o]),L.exports.useEffect(function(){return function(){var f;return(f=u.current)===null||f===void 0?void 0:f.call(u,c.current)}},[])}function Rq(n,e){var t=n.hidden,r=n.items,i=n.theme,s=n.className,o=n.id,a=n.target,u=L.exports.useState(),c=u[0],f=u[1],h=L.exports.useState(),p=h[0],m=h[1],v=L.exports.useState(),y=v[0],x=v[1],w=Zy(vN,o),b=L.exports.useCallback(function(){x(void 0),f(void 0),m(void 0)},[]),_=L.exports.useCallback(function(C,A,T){var R=C.key;c!==R&&(A.focus(),x(T),f(R),m(A))},[c]);L.exports.useEffect(function(){t&&b()},[t,b]);var S=kq(e,b),M=function(){var C=xN(c,r),A=null;if(C&&(A={items:mN(C,{target:a}),target:p,onDismiss:S,isSubMenu:!0,id:w,shouldFocusOnMount:!0,shouldFocusOnContainer:y,directionalHint:_i(i)?sr.leftTopEdge:sr.rightTopEdge,className:s,gapSpace:0,isBeakVisible:!1},C.subMenuProps&&Eu(A,C.subMenuProps),C.preferMenuTargetAsEventTarget)){var T=C.onItemClick;A.onItemClick=_N(T,a)}return A};return[c,_,M,S]}function Pq(n){var e=n.delayUpdateFocusOnHover,t=n.hidden,r=L.exports.useRef(!e),i=L.exports.useRef(!1);L.exports.useEffect(function(){r.current=!e,i.current=t?!1:!e&&i.current},[e,t]);var s=L.exports.useCallback(function(){e&&(r.current=!1)},[e]);return[r,i,s]}function Dq(n,e){var t=n.hidden,r=n.onRestoreFocus,i=L.exports.useRef(),s=L.exports.useCallback(function(o){var a,u;r?r(o):o!=null&&o.documentContainsFocus&&((u=(a=i.current)===null||a===void 0?void 0:a.focus)===null||u===void 0||u.call(a))},[r]);return jd(function(){var o;t?i.current&&(s({originalElement:i.current,containsFocus:!0,documentContainsFocus:((o=Xr())===null||o===void 0?void 0:o.hasFocus())||!1}),i.current=void 0):i.current=e==null?void 0:e.document.activeElement},[t,e==null?void 0:e.document.activeElement,s]),[s]}function Iq(n,e,t,r){var i=n.theme,s=n.isSubMenu,o=n.focusZoneProps,a=o===void 0?{}:o,u=a.checkForNoWrap,c=a.direction,f=c===void 0?ti.vertical:c,h=L.exports.useRef(),p=function(S,M,C){var A=!1;return M(S)&&(e(S,C),S.preventDefault(),S.stopPropagation(),A=!0),A},m=function(S){var M=_i(i)?$e.right:$e.left;return S.which!==M||!s?!1:!!(f===ti.vertical||u&&!Pk(S.target,"data-no-horizontal-wrap"))},v=function(S){return S.which===$e.escape||m(S)||S.which===$e.up&&(S.altKey||S.metaKey)},y=function(S){h.current=F2(S);var M=S.which===$e.escape&&(OS()||NS());return p(S,v,M)},x=function(S){var M=h.current&&F2(S);return h.current=!1,!!M&&!(NS()||OS())},w=function(S){return p(S,x,!0)},b=function(S){var M=y(S);if(!(M||!t.current)){var C=!!(S.altKey||S.metaKey),A=S.which===$e.up,T=S.which===$e.down;if(!C&&(A||T)){var R=A?Rk(t.current,t.current.lastChild,!0):Ak(t.current,t.current.firstChild,!0);R&&(R.focus(),S.preventDefault(),S.stopPropagation())}}},_=function(S,M){var C=_i(i)?$e.left:$e.right;!S.disabled&&(M.which===C||M.which===$e.enter||M.which===$e.down&&(M.altKey||M.metaKey))&&(r(S,M.currentTarget),M.preventDefault())};return[y,w,b,_]}function Lq(n){var e=L.exports.useRef(!0),t=L.exports.useRef(),r=function(){!e.current&&t.current!==void 0?(n.clearTimeout(t.current),t.current=void 0):e.current=!1,t.current=n.setTimeout(function(){e.current=!0},gN)};return[r,e]}function kq(n,e){var t=L.exports.useRef(!1);L.exports.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]);var r=function(i,s){s?n(i,s):t.current&&e()};return r}function Nq(n,e){var t=n.subMenuHoverDelay,r=t===void 0?gN:t,i=L.exports.useRef(void 0),s=function(){i.current!==void 0&&(e.clearTimeout(i.current),i.current=void 0)},o=function(a){i.current=e.setTimeout(function(){a(),s()},r)};return[s,o,i]}function Oq(n,e,t,r,i,s,o,a,u,c,f,h,p){var m=n.target,v=function(A,T,R){i.current&&(s.current=!0),!x()&&b(A,T,R)},y=function(A,T,R){var D=T.currentTarget;if(i.current)s.current=!0;else return;!e.current||t.current!==void 0||D===(r==null?void 0:r.document.activeElement)||b(A,T,R)},x=function(){return!e.current||!s.current},w=function(A,T){var R;if(!x()&&(c(),o===void 0))if(a.current.setActive)try{a.current.setActive()}catch{}else(R=a.current)===null||R===void 0||R.focus()},b=function(A,T,R){var D=R||T.currentTarget;A.key!==o&&(c(),o===void 0&&D.focus(),Ba(A)?(T.stopPropagation(),u(function(){D.focus(),f(A,D,!0)})):u(function(){h(T),D.focus()}))},_=function(A,T){S(A,T,T.currentTarget)},S=function(A,T,R){var D=mN(A,{target:m});if(c(),!Ba(A)&&(!D||!D.length))C(A,T);else if(A.key!==o){var O=typeof n.shouldFocusOnContainer=="boolean"?n.shouldFocusOnContainer:T.nativeEvent.pointerType==="mouse";f(A,R,O)}T.stopPropagation(),T.preventDefault()},M=function(A,T){C(A,T),T.stopPropagation()},C=function(A,T){if(!(A.disabled||A.isDisabled)){A.preferMenuTargetAsEventTarget&&bN(T,m);var R=!1;A.onClick?R=!!A.onClick(T,A):n.onItemClick&&(R=!!n.onItemClick(T,A)),(R||!T.defaultPrevented)&&p(T,!0)}};return[v,y,w,_,M,C,S]}var yN=L.exports.memo(L.exports.forwardRef(function(n,e){var t,r=sm(Eq,n);r.ref;var i=hf(r,["ref"]),s=L.exports.useRef(null),o=gf(),a=Zy(vN,i.id),u=function(ye,He){var Ke;return(Ke=i.onDismiss)===null||Ke===void 0?void 0:Ke.call(i,ye,He)},c=Zk(i.target,s),f=c[0],h=c[1],p=Dq(i,h)[0],m=Rq(i,u),v=m[0],y=m[1],x=m[2],w=m[3],b=Pq(i),_=b[0],S=b[1],M=b[2],C=Lq(o),A=C[0],T=C[1],R=Nq(i,o),D=R[0],O=R[1],Y=R[2],ie=pN(s,i.responsiveMode);Aq(i);var U=Iq(i,u,s,y),G=U[0],Z=U[1],te=U[2],V=U[3],K=Oq(i,T,Y,h,_,S,v,s,O,D,y,w,u),$=K[0],re=K[1],le=K[2],be=K[3],Te=K[4],ke=K[5],ue=K[6],gt=function(ye,He,Ke){var ut=0,bn=ye.items,kn=ye.totalItemCount,It=ye.hasCheckmarks,rn=ye.hasIcons;return L.exports.createElement("ul",{className:He.list,onKeyDown:G,onKeyUp:Z,role:"presentation"},bn.map(function(it,wn){var jt=Ze(it,wn,ut,kn,It,rn,He);if(it.itemType!==ki.Divider&&it.itemType!==ki.Header){var ur=it.customOnRenderListLength?it.customOnRenderListLength:1;ut+=ur}return jt}))},Ve=function(ye,He){var Ke=i.focusZoneAs,ut=Ke===void 0?aN:Ke;return L.exports.createElement(ut,J({},He),ye)},Ze=function(ye,He,Ke,ut,bn,kn,It){var rn,it=[],wn=ye.iconProps||{iconName:"None"},jt=ye.getItemClassNames,ur=ye.itemProps,ui=ur?ur.styles:void 0,ji=ye.itemType===ki.Divider?ye.className:void 0,ys=ye.submenuIconProps?ye.submenuIconProps.className:"",fn;if(jt)fn=jt(i.theme,ko(ye),v===ye.key,!!Tp(ye),!!ye.href,wn.iconName!=="None",ye.className,ji,wn.className,ys,ye.primaryDisabled);else{var Zo={theme:i.theme,disabled:ko(ye),expanded:v===ye.key,checked:!!Tp(ye),isAnchorLink:!!ye.href,knownIcon:wn.iconName!=="None",itemClassName:ye.className,dividerClassName:ji,iconClassName:wn.className,subMenuClassName:ys,primaryDisabled:ye.primaryDisabled};fn=Mq(Cq((rn=It.subComponentStyles)===null||rn===void 0?void 0:rn.menuItem,ui),Zo)}switch((ye.text==="-"||ye.name==="-")&&(ye.itemType=ki.Divider),ye.itemType){case ki.Divider:it.push(he(He,fn));break;case ki.Header:it.push(he(He,fn));var tu=We(ye,fn,It,He,bn,kn);it.push(pe(tu,ye.key||He,fn,ye.title));break;case ki.Section:it.push(st(ye,fn,It,He,bn,kn));break;default:var ci=function(){return we(ye,fn,He,Ke,ut,bn,kn)},Ix=i.onRenderContextualMenuItem?i.onRenderContextualMenuItem(ye,ci):ci();it.push(pe(Ix,ye.key||He,fn,ye.title));break}return L.exports.createElement(L.exports.Fragment,{key:ye.key},it)},Se=function(ye,He){var Ke=ye.index,ut=ye.focusableElementIndex,bn=ye.totalItemCount,kn=ye.hasCheckmarks,It=ye.hasIcons;return Ze(ye,Ke,ut,bn,kn,It,He)},st=function(ye,He,Ke,ut,bn,kn){var It=ye.sectionProps;if(!!It){var rn,it;if(It.title){var wn=void 0,jt="";if(typeof It.title=="string"){var ur=a+It.title.replace(/\s/g,"");wn={key:"section-"+It.title+"-title",itemType:ki.Header,text:It.title,id:ur},jt=ur}else{var ui=It.title.id||a+It.title.key.replace(/\s/g,"");wn=J(J({},It.title),{id:ui}),jt=ui}wn&&(it={role:"group","aria-labelledby":jt},rn=We(wn,He,Ke,ut,bn,kn))}if(It.items&&It.items.length>0)return L.exports.createElement("li",{role:"presentation",key:It.key||ye.key||"section-"+ut},L.exports.createElement("div",J({},it),L.exports.createElement("ul",{className:Ke.list,role:"presentation"},It.topDivider&&he(ut,He,!0,!0),rn&&pe(rn,ye.key||ut,He,ye.title),It.items.map(function(ji,ys){return Ze(ji,ys,ys,It.items.length,bn,kn,Ke)}),It.bottomDivider&&he(ut,He,!1,!0))))}},pe=function(ye,He,Ke,ut){return L.exports.createElement("li",{role:"presentation",title:ut,key:He,className:Ke.item},ye)},he=function(ye,He,Ke,ut){return ut||ye>0?L.exports.createElement("li",{role:"separator",key:"separator-"+ye+(Ke===void 0?"":Ke?"-top":"-bottom"),className:He.divider,"aria-hidden":"true"}):null},we=function(ye,He,Ke,ut,bn,kn,It){if(ye.onRender)return ye.onRender(J({"aria-posinset":ut+1,"aria-setsize":bn},ye),u);var rn=i.contextualMenuItemAs,it={item:ye,classNames:He,index:Ke,focusableElementIndex:ut,totalItemCount:bn,hasCheckmarks:kn,hasIcons:It,contextualMenuItemAs:rn,onItemMouseEnter:$,onItemMouseLeave:le,onItemMouseMove:re,onItemMouseDown:Bq,executeItemClick:ke,onItemKeyDown:V,expandedMenuItemKey:v,openSubMenu:y,dismissSubMenu:w,dismissMenu:u};return ye.href?L.exports.createElement(fq,J({},it,{onItemClick:Te})):ye.split&&Ba(ye)?L.exports.createElement(yq,J({},it,{onItemClick:be,onItemClickBase:ue,onTap:D})):L.exports.createElement(hq,J({},it,{onItemClick:be,onItemClickBase:ue}))},We=function(ye,He,Ke,ut,bn,kn){var It=i.contextualMenuItemAs,rn=It===void 0?Cp:It,it=ye.itemProps,wn=ye.id,jt=it&&mr(it,Ua);return L.exports.createElement("div",J({id:wn,className:Ke.header},jt,{style:ye.style}),L.exports.createElement(rn,J({item:ye,classNames:He,index:ut,onCheckmarkClick:bn?be:void 0,hasIcons:kn},it)))},Le=i.isBeakVisible,qe=i.items,ot=i.labelElementId,rt=i.id,kt=i.className,_t=i.beakWidth,H=i.directionalHint,N=i.directionalHintForRTL,de=i.alignTargetEdge,_e=i.gapSpace,Ne=i.coverTarget,Be=i.ariaLabel,Je=i.doNotLayer,F=i.target,Me=i.bounds,Xe=i.useTargetWidth,Pe=i.useTargetAsMinWidth,X=i.directionalHintFixed,Ae=i.shouldFocusOnMount,Ce=i.shouldFocusOnContainer,at=i.title,Oe=i.styles,Qe=i.theme,Re=i.calloutProps,ft=i.onRenderSubMenu,Wt=ft===void 0?z2:ft,Ct=i.onRenderMenuList,Ci=Ct===void 0?function(ye,He){return gt(ye,li)}:Ct,Ai=i.focusZoneProps,cc=i.getMenuClassNames,li=cc?cc(Qe,kt):Sq(Oe,{theme:Qe,className:kt}),dc=ja(qe);function ja(ye){for(var He=0,Ke=ye;He<Ke.length;He++){var ut=Ke[He];if(ut.iconProps||ut.itemType===ki.Section&&ut.sectionProps&&ja(ut.sectionProps.items))return!0}return!1}var fc=J(J({direction:ti.vertical,handleTabKey:WS.all,isCircularNavigation:!0},Ai),{className:uo(li.root,(t=i.focusZoneProps)===null||t===void 0?void 0:t.className)}),kf=Tq(qe),Xa=v&&i.hidden!==!0?x():null;Le=Le===void 0?ie<=Kd.medium:Le;var eu,z=f.current;if((Xe||Pe)&&z&&z.offsetWidth){var ne=z.getBoundingClientRect(),ce=ne.width-2;Xe?eu={width:ce}:Pe&&(eu={minWidth:ce})}if(qe&&qe.length>0){for(var se=0,ge=0,ht=qe;ge<ht.length;ge++){var vt=ht[ge];if(vt.itemType!==ki.Divider&&vt.itemType!==ki.Header){var Et=vt.customOnRenderListLength?vt.customOnRenderListLength:1;se+=Et}}var wt=li.subComponentStyles?li.subComponentStyles.callout:void 0;return L.exports.createElement(wq.Consumer,null,function(ye){return L.exports.createElement(sE,J({styles:wt,onRestoreFocus:p},Re,{target:F||ye.target,isBeakVisible:Le,beakWidth:_t,directionalHint:H,directionalHintForRTL:N,gapSpace:_e,coverTarget:Ne,doNotLayer:Je,className:uo("ms-ContextualMenu-Callout",Re&&Re.className),setInitialFocus:Ae,onDismiss:i.onDismiss||ye.onDismiss,onScroll:A,bounds:Me,directionalHintFixed:X,alignTargetEdge:de,hidden:i.hidden||ye.hidden,ref:e}),L.exports.createElement("div",{style:eu,ref:s,id:rt,className:li.container,tabIndex:Ce?0:-1,onKeyDown:te,onKeyUp:Z,onFocusCapture:M,"aria-label":Be,"aria-labelledby":ot,role:"menu"},at&&L.exports.createElement("div",{className:li.title}," ",at," "),qe&&qe.length?Ve(Ci({ariaLabel:Be,items:qe,totalItemCount:se,hasCheckmarks:kf,hasIcons:dc,defaultMenuItemRenderer:function(He){return Se(He,li)},labelElementId:ot},function(He,Ke){return gt(He,li)}),fc):null,Xa&&Wt(Xa,z2)))})}else return null}),function(n,e){return!e.shouldUpdateWhenHidden&&n.hidden&&e.hidden?!0:X1(n,e)});yN.displayName="ContextualMenuBase";function F2(n){return n.which===$e.alt||n.key==="Meta"}function Bq(n,e){var t;(t=n.onMouseDown)===null||t===void 0||t.call(n,n,e)}function z2(n,e){throw Error("ContextualMenuBase: onRenderSubMenu callback is null or undefined. Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.")}function xN(n,e){for(var t=0,r=e;t<r.length;t++){var i=r[t];if(i.itemType===ki.Section&&i.sectionProps){var s=xN(n,i.sectionProps.items);if(s)return s}else if(i.key&&i.key===n)return i}}function _N(n,e){return n&&function(t,r){return bN(t,e),n(t,r)}}function bN(n,e){n&&e&&(n.persist(),e instanceof Event?n.target=e.target:e instanceof Element&&(n.target=e))}var Fq={root:"ms-ContextualMenu",container:"ms-ContextualMenu-container",list:"ms-ContextualMenu-list",header:"ms-ContextualMenu-header",title:"ms-ContextualMenu-title",isopen:"is-open"},zq=function(n){var e=n.className,t=n.theme,r=yo(Fq,t),i=t.fonts,s=t.semanticColors,o=t.effects;return{root:[t.fonts.medium,r.root,r.isopen,{backgroundColor:s.menuBackground,minWidth:"180px"},e],container:[r.container,{selectors:{":focus":{outline:0}}}],list:[r.list,r.isopen,{listStyleType:"none",margin:"0",padding:"0"}],header:[r.header,i.small,{fontWeight:Tn.semibold,color:s.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:vl,lineHeight:vl,cursor:"default",padding:"0px 6px",userSelect:"none",textAlign:"left"}],title:[r.title,{fontSize:i.mediumPlus.fontSize,paddingRight:"14px",paddingLeft:"14px",paddingBottom:"5px",paddingTop:"5px",backgroundColor:s.menuItemBackgroundPressed}],subComponentStyles:{callout:{root:{boxShadow:o.elevation8}},menuItem:{}}}};function U2(n){return L.exports.createElement(wN,J({},n))}var wN=gs(yN,zq,function(n){return{onRenderSubMenu:n.onRenderSubMenu?nj(n.onRenderSubMenu,U2):U2}},{scope:"ContextualMenu"}),VS=wN;VS.displayName="ContextualMenu";var H2={msButton:"ms-Button",msButtonHasMenu:"ms-Button--hasMenu",msButtonIcon:"ms-Button-icon",msButtonMenuIcon:"ms-Button-menuIcon",msButtonLabel:"ms-Button-label",msButtonDescription:"ms-Button-description",msButtonScreenReaderText:"ms-Button-screenReaderText",msButtonFlexContainer:"ms-Button-flexContainer",msButtonTextContainer:"ms-Button-textContainer"},Uq=Tr(function(n,e,t,r,i,s,o,a,u,c,f){var h,p,m=yo(H2,n||{}),v=c&&!f;return rm({root:[m.msButton,e.root,r,u&&["is-checked",e.rootChecked],v&&["is-expanded",e.rootExpanded,{selectors:(h={},h[":hover ."+m.msButtonIcon]=e.iconExpandedHovered,h[":hover ."+m.msButtonMenuIcon]=e.menuIconExpandedHovered||e.rootExpandedHovered,h[":hover"]=e.rootExpandedHovered,h)}],a&&[H2.msButtonHasMenu,e.rootHasMenu],o&&["is-disabled",e.rootDisabled],!o&&!v&&!u&&{selectors:(p={":hover":e.rootHovered},p[":hover ."+m.msButtonLabel]=e.labelHovered,p[":hover ."+m.msButtonIcon]=e.iconHovered,p[":hover ."+m.msButtonDescription]=e.descriptionHovered,p[":hover ."+m.msButtonMenuIcon]=e.menuIconHovered,p[":focus"]=e.rootFocused,p[":active"]=e.rootPressed,p[":active ."+m.msButtonIcon]=e.iconPressed,p[":active ."+m.msButtonDescription]=e.descriptionPressed,p[":active ."+m.msButtonMenuIcon]=e.menuIconPressed,p)},o&&u&&[e.rootCheckedDisabled],!o&&u&&{selectors:{":hover":e.rootCheckedHovered,":active":e.rootCheckedPressed}},t],flexContainer:[m.msButtonFlexContainer,e.flexContainer],textContainer:[m.msButtonTextContainer,e.textContainer],icon:[m.msButtonIcon,i,e.icon,v&&e.iconExpanded,u&&e.iconChecked,o&&e.iconDisabled],label:[m.msButtonLabel,e.label,u&&e.labelChecked,o&&e.labelDisabled],menuIcon:[m.msButtonMenuIcon,s,e.menuIcon,u&&e.menuIconChecked,o&&!f&&e.menuIconDisabled,!o&&!v&&!u&&{selectors:{":hover":e.menuIconHovered,":active":e.menuIconPressed}},v&&["is-expanded",e.menuIconExpanded]],description:[m.msButtonDescription,e.description,u&&e.descriptionChecked,o&&e.descriptionDisabled],screenReaderText:[m.msButtonScreenReaderText,e.screenReaderText]})}),Hq=Tr(function(n,e,t,r,i){return{root:Sa(n.splitButtonMenuButton,t&&[n.splitButtonMenuButtonExpanded],e&&[n.splitButtonMenuButtonDisabled],r&&!e&&[n.splitButtonMenuButtonChecked],i&&!e&&[{selectors:{":focus":n.splitButtonMenuFocused}}]),splitButtonContainer:Sa(n.splitButtonContainer,!e&&r&&[n.splitButtonContainerChecked,{selectors:{":hover":n.splitButtonContainerCheckedHovered}}],!e&&!r&&[{selectors:{":hover":n.splitButtonContainerHovered,":focus":n.splitButtonContainerFocused}}],e&&n.splitButtonContainerDisabled),icon:Sa(n.splitButtonMenuIcon,e&&n.splitButtonMenuIconDisabled,!e&&i&&n.splitButtonMenuIcon),flexContainer:Sa(n.splitButtonFlexContainer),divider:Sa(n.splitButtonDivider,(i||e)&&n.splitButtonDividerDisabled)}}),Wq=500,Vq="BaseButton",SN=function(n){qr(e,n);function e(t){var r=n.call(this,t)||this;return r._buttonElement=L.exports.createRef(),r._splitButtonContainer=L.exports.createRef(),r._mergedRef=Fk(),r._renderedVisibleMenu=!1,r._getMemoizedMenuButtonKeytipProps=Tr(function(i){return J(J({},i),{hasMenu:!0})}),r._onRenderIcon=function(i,s){var o=r.props.iconProps;if(o&&(o.iconName!==void 0||o.imageProps)){var a=o.className,u=o.imageProps,c=hf(o,["className","imageProps"]);if(o.styles)return L.exports.createElement(rc,J({className:uo(r._classNames.icon,a),imageProps:u},c));if(o.iconName)return L.exports.createElement(HS,J({className:uo(r._classNames.icon,a)},c));if(u)return L.exports.createElement(zX,J({className:uo(r._classNames.icon,a),imageProps:u},c))}return null},r._onRenderTextContents=function(){var i=r.props,s=i.text,o=i.children,a=i.secondaryText,u=a===void 0?r.props.description:a,c=i.onRenderText,f=c===void 0?r._onRenderText:c,h=i.onRenderDescription,p=h===void 0?r._onRenderDescription:h;return s||typeof o=="string"||u?L.exports.createElement("span",{className:r._classNames.textContainer},f(r.props,r._onRenderText),p(r.props,r._onRenderDescription)):[f(r.props,r._onRenderText),p(r.props,r._onRenderDescription)]},r._onRenderText=function(){var i=r.props.text,s=r.props.children;return i===void 0&&typeof s=="string"&&(i=s),r._hasText()?L.exports.createElement("span",{key:r._labelId,className:r._classNames.label,id:r._labelId},i):null},r._onRenderChildren=function(){var i=r.props.children;return typeof i=="string"?null:i},r._onRenderDescription=function(i){var s=i.secondaryText,o=s===void 0?r.props.description:s;return o?L.exports.createElement("span",{key:r._descriptionId,className:r._classNames.description,id:r._descriptionId},o):null},r._onRenderAriaDescription=function(){var i=r.props.ariaDescription;return i?L.exports.createElement("span",{className:r._classNames.screenReaderText,id:r._ariaDescriptionId},i):null},r._onRenderMenuIcon=function(i){var s=r.props.menuIconProps;return L.exports.createElement(HS,J({iconName:"ChevronDown"},s,{className:r._classNames.menuIcon}))},r._onRenderMenu=function(i){var s=r.props.menuAs?T9(r.props.menuAs,VS):VS;return L.exports.createElement(s,J({},i))},r._onDismissMenu=function(i){var s=r.props.menuProps;s&&s.onDismiss&&s.onDismiss(i),(!i||!i.defaultPrevented)&&r._dismissMenu()},r._dismissMenu=function(){r._menuShouldFocusOnMount=void 0,r._menuShouldFocusOnContainer=void 0,r.setState({menuHidden:!0})},r._openMenu=function(i,s){s===void 0&&(s=!0),r.props.menuProps&&(r._menuShouldFocusOnContainer=i,r._menuShouldFocusOnMount=s,r._renderedVisibleMenu=!0,r.setState({menuHidden:!1}))},r._onToggleMenu=function(i){var s=!0;r.props.menuProps&&r.props.menuProps.shouldFocusOnMount===!1&&(s=!1),r.state.menuHidden?r._openMenu(i,s):r._dismissMenu()},r._onSplitContainerFocusCapture=function(i){var s=r._splitButtonContainer.current;!s||i.target&&Ck(i.target,s)||s.focus()},r._onSplitButtonPrimaryClick=function(i){r.state.menuHidden||r._dismissMenu(),!r._processingTouch&&r.props.onClick?r.props.onClick(i):r._processingTouch&&r._onMenuClick(i)},r._onKeyDown=function(i){r.props.disabled&&(i.which===$e.enter||i.which===$e.space)?(i.preventDefault(),i.stopPropagation()):r.props.disabled||(r.props.menuProps?r._onMenuKeyDown(i):r.props.onKeyDown!==void 0&&r.props.onKeyDown(i))},r._onKeyUp=function(i){!r.props.disabled&&r.props.onKeyUp!==void 0&&r.props.onKeyUp(i)},r._onKeyPress=function(i){!r.props.disabled&&r.props.onKeyPress!==void 0&&r.props.onKeyPress(i)},r._onMouseUp=function(i){!r.props.disabled&&r.props.onMouseUp!==void 0&&r.props.onMouseUp(i)},r._onMouseDown=function(i){!r.props.disabled&&r.props.onMouseDown!==void 0&&r.props.onMouseDown(i)},r._onClick=function(i){r.props.disabled||(r.props.menuProps?r._onMenuClick(i):r.props.onClick!==void 0&&r.props.onClick(i))},r._onSplitButtonContainerKeyDown=function(i){i.which===$e.enter||i.which===$e.space?r._buttonElement.current&&(r._buttonElement.current.click(),i.preventDefault(),i.stopPropagation()):r._onMenuKeyDown(i)},r._onMenuKeyDown=function(i){if(!r.props.disabled){r.props.onKeyDown&&r.props.onKeyDown(i);var s=i.which===$e.up,o=i.which===$e.down;if(!i.defaultPrevented&&r._isValidMenuOpenKey(i)){var a=r.props.onMenuClick;a&&a(i,r.props),r._onToggleMenu(!1),i.preventDefault(),i.stopPropagation()}if((i.which===$e.enter||i.which===$e.space)&&Dd(!0,i.target),!(i.altKey||i.metaKey)&&(s||o)&&!r.state.menuHidden&&r.props.menuProps){var u=r._menuShouldFocusOnMount!==void 0?r._menuShouldFocusOnMount:r.props.menuProps.shouldFocusOnMount;u||(i.preventDefault(),i.stopPropagation(),r._menuShouldFocusOnMount=!0,r.forceUpdate())}}},r._onTouchStart=function(){r._isSplitButton&&r._splitButtonContainer.current&&!("onpointerdown"in r._splitButtonContainer.current)&&r._handleTouchAndPointerEvent()},r._onMenuClick=function(i){var s=r.props,o=s.onMenuClick,a=s.menuProps;o&&o(i,r.props);var u=typeof(a==null?void 0:a.shouldFocusOnContainer)=="boolean"?a.shouldFocusOnContainer:i.nativeEvent.pointerType==="mouse";i.defaultPrevented||(r._onToggleMenu(u),i.preventDefault(),i.stopPropagation())},nc(r),r._async=new im(r),r._events=new Co(r),Sk(Vq,t,["menuProps","onClick"],"split",r.props.split),r._labelId=mo(),r._descriptionId=mo(),r._ariaDescriptionId=mo(),r.state={menuHidden:!0},r}return Object.defineProperty(e.prototype,"_isSplitButton",{get:function(){return!!this.props.menuProps&&!!this.props.onClick&&this.props.split===!0},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t,r=this.props,i=r.ariaDescription,s=r.ariaLabel,o=r.ariaHidden,a=r.className,u=r.disabled,c=r.allowDisabledFocus,f=r.primaryDisabled,h=r.secondaryText,p=h===void 0?this.props.description:h,m=r.href,v=r.iconProps,y=r.menuIconProps,x=r.styles,w=r.checked,b=r.variantClassName,_=r.theme,S=r.toggle,M=r.getClassNames,C=r.role,A=this.state.menuHidden,T=u||f;this._classNames=M?M(_,a,b,v&&v.className,y&&y.className,T,w,!A,!!this.props.menuProps,this.props.split,!!c):Uq(_,x,a,b,v&&v.className,y&&y.className,T,!!this.props.menuProps,w,!A,this.props.split);var R=this,D=R._ariaDescriptionId,O=R._labelId,Y=R._descriptionId,ie=!T&&!!m,U=ie?"a":"button",G=mr(Eu(ie?{}:{type:"button"},this.props.rootProps,this.props),ie?Nk:ju,["disabled"]),Z=s||G["aria-label"],te=void 0;i?te=D:p&&this.props.onRenderDescription!==V0?te=Y:G["aria-describedby"]&&(te=G["aria-describedby"]);var V=void 0;G["aria-labelledby"]?V=G["aria-labelledby"]:te&&!Z&&(V=this._hasText()?O:void 0);var K=!(this.props["data-is-focusable"]===!1||u&&!c||this._isSplitButton),$=C==="menuitemcheckbox"||C==="checkbox",re=$||S===!0?!!w:void 0,le=Eu(G,(t={className:this._classNames.root,ref:this._mergedRef(this.props.elementRef,this._buttonElement),disabled:T&&!c,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onClick:this._onClick,"aria-label":Z,"aria-labelledby":V,"aria-describedby":te,"aria-disabled":T,"data-is-focusable":K},t[$?"aria-checked":"aria-pressed"]=re,t));if(o&&(le["aria-hidden"]=!0),this._isSplitButton)return this._onRenderSplitButtonContent(U,le);if(this.props.menuProps){var be=this.props.menuProps.id,Te=be===void 0?this._labelId+"-menu":be;Eu(le,{"aria-expanded":!A,"aria-controls":A?null:Te,"aria-haspopup":!0})}return this._onRenderContent(U,le)},e.prototype.componentDidMount=function(){this._isSplitButton&&this._splitButtonContainer.current&&("onpointerdown"in this._splitButtonContainer.current&&this._events.on(this._splitButtonContainer.current,"pointerdown",this._onPointerDown,!0),"onpointerup"in this._splitButtonContainer.current&&this.props.onPointerUp&&this._events.on(this._splitButtonContainer.current,"pointerup",this.props.onPointerUp,!0))},e.prototype.componentDidUpdate=function(t,r){this.props.onAfterMenuDismiss&&!r.menuHidden&&this.state.menuHidden&&this.props.onAfterMenuDismiss()},e.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},e.prototype.focus=function(){this._isSplitButton&&this._splitButtonContainer.current?(Dd(!0),this._splitButtonContainer.current.focus()):this._buttonElement.current&&(Dd(!0),this._buttonElement.current.focus())},e.prototype.dismissMenu=function(){this._dismissMenu()},e.prototype.openMenu=function(t,r){this._openMenu(t,r)},e.prototype._onRenderContent=function(t,r){var i=this,s=this.props,o=t,a=s.menuIconProps,u=s.menuProps,c=s.onRenderIcon,f=c===void 0?this._onRenderIcon:c,h=s.onRenderAriaDescription,p=h===void 0?this._onRenderAriaDescription:h,m=s.onRenderChildren,v=m===void 0?this._onRenderChildren:m,y=s.onRenderMenu,x=y===void 0?this._onRenderMenu:y,w=s.onRenderMenuIcon,b=w===void 0?this._onRenderMenuIcon:w,_=s.disabled,S=s.keytipProps;S&&u&&(S=this._getMemoizedMenuButtonKeytipProps(S));var M=function(A){return L.exports.createElement(o,J({},r,A),L.exports.createElement("span",{className:i._classNames.flexContainer,"data-automationid":"splitbuttonprimary"},f(s,i._onRenderIcon),i._onRenderTextContents(),p(s,i._onRenderAriaDescription),v(s,i._onRenderChildren),!i._isSplitButton&&(u||a||i.props.onRenderMenuIcon)&&b(i.props,i._onRenderMenuIcon),u&&!u.doNotLayer&&i._shouldRenderMenu()&&x(i._getMenuProps(u),i._onRenderMenu)))},C=S?L.exports.createElement(Ap,{keytipProps:this._isSplitButton?void 0:S,ariaDescribedBy:r["aria-describedby"],disabled:_},function(A){return M(A)}):M();return u&&u.doNotLayer?L.exports.createElement(L.exports.Fragment,null,C,this._shouldRenderMenu()&&x(this._getMenuProps(u),this._onRenderMenu)):L.exports.createElement(L.exports.Fragment,null,C,L.exports.createElement(Y9,null))},e.prototype._shouldRenderMenu=function(){var t=this.state.menuHidden,r=this.props,i=r.persistMenu,s=r.renderPersistedMenuHiddenOnMount;if(t){if(i&&(this._renderedVisibleMenu||s))return!0}else return!0;return!1},e.prototype._hasText=function(){return this.props.text!==null&&(this.props.text!==void 0||typeof this.props.children=="string")},e.prototype._getMenuProps=function(t){var r=this.props.persistMenu,i=this.state.menuHidden;return!t.ariaLabel&&!t.labelElementId&&this._hasText()&&(t=J(J({},t),{labelElementId:this._labelId})),J(J({id:this._labelId+"-menu",directionalHint:sr.bottomLeftEdge},t),{shouldFocusOnContainer:this._menuShouldFocusOnContainer,shouldFocusOnMount:this._menuShouldFocusOnMount,hidden:r?i:void 0,className:uo("ms-BaseButton-menuhost",t.className),target:this._isSplitButton?this._splitButtonContainer.current:this._buttonElement.current,onDismiss:this._onDismissMenu})},e.prototype._onRenderSplitButtonContent=function(t,r){var i=this,s=this.props,o=s.styles,a=o===void 0?{}:o,u=s.disabled,c=s.allowDisabledFocus,f=s.checked,h=s.getSplitButtonClassNames,p=s.primaryDisabled,m=s.menuProps,v=s.toggle,y=s.role,x=s.primaryActionButtonProps,w=this.props.keytipProps,b=this.state.menuHidden,_=h?h(!!u,!b,!!f,!!c):a&&Hq(a,!!u,!b,!!f,!!p);Eu(r,{onClick:void 0,onPointerDown:void 0,onPointerUp:void 0,tabIndex:-1,"data-is-focusable":!1}),w&&m&&(w=this._getMemoizedMenuButtonKeytipProps(w));var S=mr(r,[],["disabled"]);x&&Eu(r,x);var M=function(C){return L.exports.createElement("div",J({},S,{"data-ktp-target":C?C["data-ktp-target"]:void 0,role:y||"button","aria-disabled":u,"aria-haspopup":!0,"aria-expanded":!b,"aria-pressed":v?!!f:void 0,"aria-describedby":pf(r["aria-describedby"],C?C["aria-describedby"]:void 0),className:_&&_.splitButtonContainer,onKeyDown:i._onSplitButtonContainerKeyDown,onTouchStart:i._onTouchStart,ref:i._splitButtonContainer,"data-is-focusable":!0,onClick:!u&&!p?i._onSplitButtonPrimaryClick:void 0,tabIndex:!u&&!p||c?0:void 0,"aria-roledescription":r["aria-roledescription"],onFocusCapture:i._onSplitContainerFocusCapture}),L.exports.createElement("span",{style:{display:"flex",width:"100%"}},i._onRenderContent(t,r),i._onRenderSplitButtonMenuButton(_,C),i._onRenderSplitButtonDivider(_)))};return w?L.exports.createElement(Ap,{keytipProps:w,disabled:u},function(C){return M(C)}):M()},e.prototype._onRenderSplitButtonDivider=function(t){if(t&&t.divider){var r=function(i){i.stopPropagation()};return L.exports.createElement("span",{className:t.divider,"aria-hidden":!0,onClick:r})}return null},e.prototype._onRenderSplitButtonMenuButton=function(t,r){var i=this.props,s=i.allowDisabledFocus,o=i.checked,a=i.disabled,u=i.splitButtonMenuProps,c=i.splitButtonAriaLabel,f=i.primaryDisabled,h=this.state.menuHidden,p=this.props.menuIconProps;p===void 0&&(p={iconName:"ChevronDown"});var m=J(J({},u),{styles:t,checked:o,disabled:a,allowDisabledFocus:s,onClick:this._onMenuClick,menuProps:void 0,iconProps:J(J({},p),{className:this._classNames.menuIcon}),ariaLabel:c,"aria-haspopup":!0,"aria-expanded":!h,"data-is-focusable":!1});return L.exports.createElement(e,J({},m,{"data-ktp-execute-target":r&&r["data-ktp-execute-target"],onMouseDown:this._onMouseDown,tabIndex:f&&!s?0:-1}))},e.prototype._onPointerDown=function(t){var r=this.props.onPointerDown;r&&r(t),t.pointerType==="touch"&&(this._handleTouchAndPointerEvent(),t.preventDefault(),t.stopImmediatePropagation())},e.prototype._handleTouchAndPointerEvent=function(){var t=this;this._lastTouchTimeoutId!==void 0&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){t._processingTouch=!1,t._lastTouchTimeoutId=void 0,t.focus()},Wq)},e.prototype._isValidMenuOpenKey=function(t){return this.props.menuTriggerKeyCode?t.which===this.props.menuTriggerKeyCode:this.props.menuProps?t.which===$e.down&&(t.altKey||t.metaKey):!1},e.defaultProps={baseClassName:"ms-Button",styles:{},split:!1},e}(L.exports.Component),W2={outline:0},V2=function(n){return{fontSize:n,margin:"0 4px",height:"16px",lineHeight:"16px",textAlign:"center",flexShrink:0}},MN=Tr(function(n){var e,t,r=n.semanticColors,i=n.effects,s=n.fonts,o=r.buttonBorder,a=r.disabledBackground,u=r.disabledText,c={left:-2,top:-2,bottom:-2,right:-2,outlineColor:"ButtonText"};return{root:[Xd(n,{inset:1,highContrastStyle:c,borderColor:"transparent"}),n.fonts.medium,{boxSizing:"border-box",border:"1px solid "+o,userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",padding:"0 16px",borderRadius:i.roundedCorner2,selectors:{":active > span":{position:"relative",left:0,top:0}}}],rootDisabled:[Xd(n,{inset:1,highContrastStyle:c,borderColor:"transparent"}),{backgroundColor:a,borderColor:a,color:u,cursor:"default",selectors:{":hover":W2,":focus":W2}}],iconDisabled:{color:u,selectors:(e={},e[ct]={color:"GrayText"},e)},menuIconDisabled:{color:u,selectors:(t={},t[ct]={color:"GrayText"},t)},flexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},description:{display:"block"},textContainer:{flexGrow:1,display:"block"},icon:V2(s.mediumPlus.fontSize),menuIcon:V2(s.small.fontSize),label:{margin:"0 4px",lineHeight:"100%",display:"block"},screenReaderText:Wk}}),Gq=Tr(function(n,e){var t,r,i,s,o,a,u,c,f,h,p,m,v,y=n.effects,x=n.palette,w=n.semanticColors,b={left:-2,top:-2,bottom:-2,right:-2,border:"none"},_={position:"absolute",width:1,right:31,top:8,bottom:8},S={splitButtonContainer:[Xd(n,{highContrastStyle:b,inset:2}),{display:"inline-flex",selectors:{".ms-Button--default":{borderTopRightRadius:"0",borderBottomRightRadius:"0",borderRight:"none",flexGrow:"1"},".ms-Button--primary":{borderTopRightRadius:"0",borderBottomRightRadius:"0",border:"none",flexGrow:"1",selectors:(t={},t[ct]=J({color:"WindowText",backgroundColor:"Window",border:"1px solid WindowText",borderRightWidth:"0"},os()),t)},".ms-Button--primary + .ms-Button":{border:"none",selectors:(r={},r[ct]={border:"1px solid WindowText",borderLeftWidth:"0"},r)}}}],splitButtonContainerHovered:{selectors:{".ms-Button--primary":{selectors:(i={},i[ct]={color:"Window",backgroundColor:"Highlight"},i)},".ms-Button.is-disabled":{color:w.buttonTextDisabled,selectors:(s={},s[ct]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},s)}}},splitButtonContainerChecked:{selectors:{".ms-Button--primary":{selectors:(o={},o[ct]=J({color:"Window",backgroundColor:"WindowText"},os()),o)}}},splitButtonContainerCheckedHovered:{selectors:{".ms-Button--primary":{selectors:(a={},a[ct]=J({color:"Window",backgroundColor:"WindowText"},os()),a)}}},splitButtonContainerFocused:{outline:"none!important"},splitButtonMenuButton:(u={padding:6,height:"auto",boxSizing:"border-box",borderRadius:0,borderTopRightRadius:y.roundedCorner2,borderBottomRightRadius:y.roundedCorner2,border:"1px solid "+x.neutralSecondaryAlt,borderLeft:"none",outline:"transparent",userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",verticalAlign:"top",width:32,marginLeft:-1,marginTop:0,marginRight:0,marginBottom:0},u[ct]={".ms-Button-menuIcon":{color:"WindowText"}},u),splitButtonDivider:J(J({},_),{selectors:(c={},c[ct]={backgroundColor:"WindowText"},c)}),splitButtonDividerDisabled:J(J({},_),{selectors:(f={},f[ct]={backgroundColor:"GrayText"},f)}),splitButtonMenuButtonDisabled:{pointerEvents:"none",border:"none",selectors:(h={":hover":{cursor:"default"},".ms-Button--primary":{selectors:(p={},p[ct]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},p)},".ms-Button-menuIcon":{selectors:(m={},m[ct]={color:"GrayText"},m)}},h[ct]={color:"GrayText",border:"1px solid GrayText",backgroundColor:"Window"},h)},splitButtonFlexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},splitButtonContainerDisabled:{outline:"none",border:"none",selectors:(v={},v[ct]=J({color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},os()),v)},splitButtonMenuFocused:J({},Xd(n,{highContrastStyle:b,inset:2}))};return Kl(S,e)}),jq="40px",Xq="0 4px",qq=Tr(function(n,e){var t,r,i,s=MN(n),o={root:{padding:Xq,height:jq,color:n.palette.neutralPrimary,backgroundColor:"transparent",border:"1px solid transparent",selectors:(t={},t[ct]={borderColor:"Window"},t)},rootHovered:{color:n.palette.themePrimary,selectors:(r={},r[ct]={color:"Highlight"},r)},iconHovered:{color:n.palette.themePrimary},rootPressed:{color:n.palette.black},rootExpanded:{color:n.palette.themePrimary},iconPressed:{color:n.palette.themeDarker},rootDisabled:{color:n.palette.neutralTertiary,backgroundColor:"transparent",borderColor:"transparent",selectors:(i={},i[ct]={color:"GrayText"},i)},rootChecked:{color:n.palette.black},iconChecked:{color:n.palette.themeDarker},flexContainer:{justifyContent:"flex-start"},icon:{color:n.palette.themeDarkAlt},iconDisabled:{color:"inherit"},menuIcon:{color:n.palette.neutralSecondary},textContainer:{flexGrow:0}};return Kl(s,o,e)}),Kq=function(n){qr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,r=t.styles,i=t.theme;return L.exports.createElement(SN,J({},this.props,{variantClassName:"ms-Button--action ms-Button--command",styles:qq(i,r),onRenderDescription:V0}))},e=ak([Lk("ActionButton",["theme","styles"],!0)],e),e}(L.exports.Component),Yq=Tr(function(n,e){var t,r=MN(n),i=Gq(n),s=n.palette,o=n.semanticColors,a={root:{padding:"0 4px",width:"32px",height:"32px",backgroundColor:"transparent",border:"none",color:o.link},rootHovered:{color:s.themeDarkAlt,backgroundColor:s.neutralLighter,selectors:(t={},t[ct]={borderColor:"Highlight",color:"Highlight"},t)},rootHasMenu:{width:"auto"},rootPressed:{color:s.themeDark,backgroundColor:s.neutralLight},rootExpanded:{color:s.themeDark,backgroundColor:s.neutralLight},rootChecked:{color:s.themeDark,backgroundColor:s.neutralLight},rootCheckedHovered:{color:s.themeDark,backgroundColor:s.neutralQuaternaryAlt},rootDisabled:{color:s.neutralTertiaryAlt}};return Kl(r,a,i,e)}),Zq=function(n){qr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,r=t.styles,i=t.theme;return L.exports.createElement(SN,J({},this.props,{variantClassName:"ms-Button--icon",styles:Yq(i,r),onRenderText:V0,onRenderDescription:V0}))},e=ak([Lk("IconButton",["theme","styles"],!0)],e),e}(L.exports.Component),Jq=Kq,Qq=ms(),EN=L.exports.forwardRef(function(n,e){var t=n.disabled,r=n.required,i=n.inputProps,s=n.name,o=n.ariaLabel,a=n.ariaLabelledBy,u=n.ariaDescribedBy,c=n.ariaPositionInSet,f=n.ariaSetSize,h=n.title,p=n.checkmarkIconProps,m=n.styles,v=n.theme,y=n.className,x=n.boxSide,w=x===void 0?"start":x,b=Zy("checkbox-",n.id),_=L.exports.useRef(null),S=Jl(_,e),M=L.exports.useRef(null),C=D2(n.checked,n.defaultChecked,n.onChange),A=C[0],T=C[1],R=D2(n.indeterminate,n.defaultIndeterminate),D=R[0],O=R[1];J1(_),$q(n,A,D,M);var Y=Qq(m,{theme:v,className:y,disabled:t,indeterminate:D,checked:A,reversed:w!=="start",isUsingCustomLabelRender:!!n.onRenderLabel}),ie=function(V){D?(T(!!A,V),O(!1)):T(!A,V)},U=L.exports.useCallback(function(V){return V&&V.label?L.exports.createElement("span",{className:Y.text,title:V.title},V.label):null},[Y.text]),G=n.onRenderLabel||U,Z=D?"mixed":void 0,te=J(J({className:Y.input,type:"checkbox"},i),{checked:!!A,disabled:t,required:r,name:s,id:b,title:h,onChange:ie,"aria-disabled":t,"aria-label":o,"aria-labelledby":a,"aria-describedby":u,"aria-posinset":c,"aria-setsize":f,"aria-checked":Z});return L.exports.createElement("div",{className:Y.root,title:h,ref:S},L.exports.createElement("input",J({},te,{ref:M,title:h,"data-ktp-execute-target":!0})),L.exports.createElement("label",{className:Y.label,htmlFor:b},L.exports.createElement("div",{className:Y.checkbox,"data-ktp-target":!0},L.exports.createElement(rc,J({iconName:"CheckMark"},p,{className:Y.checkmark}))),G(n,U)))});EN.displayName="CheckboxBase";function $q(n,e,t,r){L.exports.useImperativeHandle(n.componentRef,function(){return{get checked(){return!!e},get indeterminate(){return!!t},focus:function(){r.current&&r.current.focus()}}},[r,e,t])}var eK={root:"ms-Checkbox",label:"ms-Checkbox-label",checkbox:"ms-Checkbox-checkbox",checkmark:"ms-Checkbox-checkmark",text:"ms-Checkbox-text"},G2="20px",j2="200ms",X2="cubic-bezier(.4, 0, .23, 1)",tK=function(n){var e,t,r,i,s,o,a,u,c,f,h,p,m,v,y,x,w,b,_=n.className,S=n.theme,M=n.reversed,C=n.checked,A=n.disabled,T=n.isUsingCustomLabelRender,R=n.indeterminate,D=S.semanticColors,O=S.effects,Y=S.palette,ie=S.fonts,U=yo(eK,S),G=D.inputForegroundChecked,Z=Y.neutralSecondary,te=Y.neutralPrimary,V=D.inputBackgroundChecked,K=D.inputBackgroundChecked,$=D.disabledBodySubtext,re=D.inputBorderHovered,le=D.inputBackgroundCheckedHovered,be=D.inputBackgroundChecked,Te=D.inputBackgroundCheckedHovered,ke=D.inputBackgroundCheckedHovered,ue=D.inputTextHovered,gt=D.disabledBodySubtext,Ve=D.bodyText,Ze=D.disabledText,Se=[(e={content:'""',borderRadius:O.roundedCorner2,position:"absolute",width:10,height:10,top:4,left:4,boxSizing:"border-box",borderWidth:5,borderStyle:"solid",borderColor:A?$:V,transitionProperty:"border-width, border, border-color",transitionDuration:j2,transitionTimingFunction:X2},e[ct]={borderColor:"WindowText"},e)];return{root:[U.root,{position:"relative",display:"flex"},M&&"reversed",C&&"is-checked",!A&&"is-enabled",A&&"is-disabled",!A&&[!C&&(t={},t[":hover ."+U.checkbox]=(r={borderColor:re},r[ct]={borderColor:"Highlight"},r),t[":focus ."+U.checkbox]={borderColor:re},t[":hover ."+U.checkmark]=(i={color:Z,opacity:"1"},i[ct]={color:"Highlight"},i),t),C&&!R&&(s={},s[":hover ."+U.checkbox]={background:Te,borderColor:ke},s[":focus ."+U.checkbox]={background:Te,borderColor:ke},s[ct]=(o={},o[":hover ."+U.checkbox]={background:"Highlight",borderColor:"Highlight"},o[":focus ."+U.checkbox]={background:"Highlight"},o[":focus:hover ."+U.checkbox]={background:"Highlight"},o[":focus:hover ."+U.checkmark]={color:"Window"},o[":hover ."+U.checkmark]={color:"Window"},o),s),R&&(a={},a[":hover ."+U.checkbox+", :hover ."+U.checkbox+":after"]=(u={borderColor:le},u[ct]={borderColor:"WindowText"},u),a[":focus ."+U.checkbox]={borderColor:le},a[":hover ."+U.checkmark]={opacity:"0"},a),(c={},c[":hover ."+U.text+", :focus ."+U.text]=(f={color:ue},f[ct]={color:A?"GrayText":"WindowText"},f),c)],_],input:(h={position:"absolute",background:"none",opacity:0},h["."+Hr+" &:focus + label::before"]=(p={outline:"1px solid "+S.palette.neutralSecondary,outlineOffset:"2px"},p[ct]={outline:"1px solid WindowText"},p),h),label:[U.label,S.fonts.medium,{display:"flex",alignItems:T?"center":"flex-start",cursor:A?"default":"pointer",position:"relative",userSelect:"none"},M&&{flexDirection:"row-reverse",justifyContent:"flex-end"},{"&::before":{position:"absolute",left:0,right:0,top:0,bottom:0,content:'""',pointerEvents:"none"}}],checkbox:[U.checkbox,(m={position:"relative",display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",height:G2,width:G2,border:"1px solid "+te,borderRadius:O.roundedCorner2,boxSizing:"border-box",transitionProperty:"background, border, border-color",transitionDuration:j2,transitionTimingFunction:X2,overflow:"hidden",":after":R?Se:null},m[ct]=J({borderColor:"WindowText"},os()),m),R&&{borderColor:V},M?{marginLeft:4}:{marginRight:4},!A&&!R&&C&&(v={background:be,borderColor:K},v[ct]={background:"Highlight",borderColor:"Highlight"},v),A&&(y={borderColor:$},y[ct]={borderColor:"GrayText"},y),C&&A&&(x={background:gt,borderColor:$},x[ct]={background:"Window"},x)],checkmark:[U.checkmark,(w={opacity:C&&!R?"1":"0",color:G},w[ct]=J({color:A?"GrayText":"Window"},os()),w)],text:[U.text,(b={color:A?Ze:Ve,fontSize:ie.medium.fontSize,lineHeight:"20px"},b[ct]=J({color:A?"GrayText":"WindowText"},os()),b),M?{marginRight:4}:{marginLeft:4}]}},nK=gs(EN,tK,void 0,{scope:"Checkbox"}),rK=ms({cacheSize:100}),iK=function(n){qr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props,r=t.as,i=r===void 0?"label":r,s=t.children,o=t.className,a=t.disabled,u=t.styles,c=t.required,f=t.theme,h=rK(u,{className:o,disabled:a,required:c,theme:f});return L.exports.createElement(i,J({},mr(this.props,Ua),{className:h.root}),s)},e}(L.exports.Component),sK=function(n){var e,t=n.theme,r=n.className,i=n.disabled,s=n.required,o=t.semanticColors,a=Tn.semibold,u=o.bodyText,c=o.disabledBodyText,f=o.errorText;return{root:["ms-Label",t.fonts.medium,{fontWeight:a,color:u,boxSizing:"border-box",boxShadow:"none",margin:0,display:"block",padding:"5px 0",wordWrap:"break-word",overflowWrap:"break-word"},i&&{color:c,selectors:(e={},e[ct]=J({color:"GrayText"},os()),e)},s&&{selectors:{"::after":{content:"' *'",color:f,paddingRight:12}}},r]}},oK=gs(iK,sK,void 0,{scope:"Label"});function q2(n,e){for(var t=[],r=0,i=e;r<i.length;r++){var s=i[r],o=n[s];o&&t.push(o)}return t}var Ro;(function(n){n[n.Normal=0]="Normal",n[n.Divider=1]="Divider",n[n.Header=2]="Header",n[n.SelectAll=3]="SelectAll"})(Ro||(Ro={}));var aK=ms(),lK=function(n){qr(e,n);function e(t){var r=n.call(this,t)||this;nc(r);var i=r.props.allowTouchBodyScroll,s=i===void 0?!1:i;return r._allowTouchBodyScroll=s,r}return e.prototype.componentDidMount=function(){!this._allowTouchBodyScroll&&V8()},e.prototype.componentWillUnmount=function(){!this._allowTouchBodyScroll&&G8()},e.prototype.render=function(){var t=this.props,r=t.isDarkThemed,i=t.className,s=t.theme,o=t.styles,a=mr(this.props,Ua),u=aK(o,{theme:s,className:i,isDark:r});return L.exports.createElement("div",J({},a,{className:u.root}))},e}(L.exports.Component),uK={root:"ms-Overlay",rootDark:"ms-Overlay--dark"},cK=function(n){var e,t=n.className,r=n.theme,i=n.isNone,s=n.isDark,o=r.palette,a=yo(uK,r);return{root:[a.root,r.fonts.medium,{backgroundColor:o.whiteTranslucent40,top:0,right:0,bottom:0,left:0,position:"absolute",selectors:(e={},e[ct]={border:"1px solid WindowText",opacity:0},e)},i&&{visibility:"hidden"},s&&[a.rootDark,{backgroundColor:o.blackTranslucent40}],t]}},dK=gs(lK,cK,void 0,{scope:"Overlay"}),fK=function(){function n(){this._size=0}return n.prototype.updateOptions=function(e){for(var t=[],r=0,i=0;i<e.length;i++)e[i].itemType===Ro.Divider||e[i].itemType===Ro.Header?t.push(i):e[i].hidden||r++;this._size=r,this._displayOnlyOptionsCache=t,this._cachedOptions=qn([],e)},Object.defineProperty(n.prototype,"optionSetSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"cachedOptions",{get:function(){return this._cachedOptions},enumerable:!1,configurable:!0}),n.prototype.positionInSet=function(e){if(e!==void 0){for(var t=0;e>this._displayOnlyOptionsCache[t];)t++;if(this._displayOnlyOptionsCache[t]===e)throw new Error("Unexpected: Option at index "+e+" is not a selectable element.");return e-t+1}},n}(),kr;(function(n){n[n.smallFluid=0]="smallFluid",n[n.smallFixedFar=1]="smallFixedFar",n[n.smallFixedNear=2]="smallFixedNear",n[n.medium=3]="medium",n[n.large=4]="large",n[n.largeFixed=5]="largeFixed",n[n.extraLarge=6]="extraLarge",n[n.custom=7]="custom",n[n.customNear=8]="customNear"})(kr||(kr={}));var hK=ms(),Bn;(function(n){n[n.closed=0]="closed",n[n.animatingOpen=1]="animatingOpen",n[n.open=2]="open",n[n.animatingClosed=3]="animatingClosed"})(Bn||(Bn={}));var pK=function(n){qr(e,n);function e(t){var r=n.call(this,t)||this;r._panel=L.exports.createRef(),r._animationCallback=null,r._hasCustomNavigation=!!(r.props.onRenderNavigation||r.props.onRenderNavigationContent),r.dismiss=function(o){r.props.onDismiss&&r.isActive&&r.props.onDismiss(o),(!o||o&&!o.defaultPrevented)&&r.close()},r._allowScrollOnPanel=function(o){o?r._allowTouchBodyScroll?W8(o,r._events):H8(o,r._events):r._events.off(r._scrollableContent),r._scrollableContent=o},r._onRenderNavigation=function(o){if(!r.props.onRenderNavigationContent&&!r.props.onRenderNavigation&&!r.props.hasCloseButton)return null;var a=r.props.onRenderNavigationContent,u=a===void 0?r._onRenderNavigationContent:a;return L.exports.createElement("div",{className:r._classNames.navigation},u(o,r._onRenderNavigationContent))},r._onRenderNavigationContent=function(o){var a,u=o.closeButtonAriaLabel,c=o.hasCloseButton,f=o.onRenderHeader,h=f===void 0?r._onRenderHeader:f;if(c){var p=(a=r._classNames.subComponentStyles)===null||a===void 0?void 0:a.closeButton();return L.exports.createElement(L.exports.Fragment,null,!r._hasCustomNavigation&&h(r.props,r._onRenderHeader,r._headerTextId),L.exports.createElement(Zq,{styles:p,className:r._classNames.closeButton,onClick:r._onPanelClick,ariaLabel:u,title:u,"data-is-visible":!0,iconProps:{iconName:"Cancel"}}))}return null},r._onRenderHeader=function(o,a,u){var c=o.headerText,f=o.headerTextProps,h=f===void 0?{}:f;return c?L.exports.createElement("div",{className:r._classNames.header},L.exports.createElement("div",J({id:u,role:"heading","aria-level":1},h,{className:uo(r._classNames.headerText,h.className)}),c)):null},r._onRenderBody=function(o){return L.exports.createElement("div",{className:r._classNames.content},o.children)},r._onRenderFooter=function(o){var a=r.props.onRenderFooterContent,u=a===void 0?null:a;return u?L.exports.createElement("div",{className:r._classNames.footer},L.exports.createElement("div",{className:r._classNames.footerInner},u())):null},r._animateTo=function(o){o===Bn.open&&r.props.onOpen&&r.props.onOpen(),r._animationCallback=r._async.setTimeout(function(){r.setState({visibility:o}),r._onTransitionComplete()},200)},r._clearExistingAnimationTimer=function(){r._animationCallback!==null&&r._async.clearTimeout(r._animationCallback)},r._onPanelClick=function(o){r.dismiss(o)},r._onTransitionComplete=function(){r._updateFooterPosition(),r.state.visibility===Bn.open&&r.props.onOpened&&r.props.onOpened(),r.state.visibility===Bn.closed&&r.props.onDismissed&&r.props.onDismissed()};var i=r.props.allowTouchBodyScroll,s=i===void 0?!1:i;return r._allowTouchBodyScroll=s,r._async=new im(r),r._events=new Co(r),nc(r),r.state={isFooterSticky:!1,visibility:Bn.closed,id:mo("Panel")},r}return e.getDerivedStateFromProps=function(t,r){return t.isOpen===void 0?null:t.isOpen&&(r.visibility===Bn.closed||r.visibility===Bn.animatingClosed)?{visibility:Bn.animatingOpen}:!t.isOpen&&(r.visibility===Bn.open||r.visibility===Bn.animatingOpen)?{visibility:Bn.animatingClosed}:null},e.prototype.componentDidMount=function(){this._events.on(window,"resize",this._updateFooterPosition),this._shouldListenForOuterClick(this.props)&&this._events.on(document.body,"mousedown",this._dismissOnOuterClick,!0),this.props.isOpen&&this.setState({visibility:Bn.animatingOpen})},e.prototype.componentDidUpdate=function(t,r){var i=this._shouldListenForOuterClick(this.props),s=this._shouldListenForOuterClick(t);this.state.visibility!==r.visibility&&(this._clearExistingAnimationTimer(),this.state.visibility===Bn.animatingOpen?this._animateTo(Bn.open):this.state.visibility===Bn.animatingClosed&&this._animateTo(Bn.closed)),i&&!s?this._events.on(document.body,"mousedown",this._dismissOnOuterClick,!0):!i&&s&&this._events.off(document.body,"mousedown",this._dismissOnOuterClick,!0)},e.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},e.prototype.render=function(){var t=this.props,r=t.className,i=r===void 0?"":r,s=t.elementToFocusOnDismiss,o=t.firstFocusableSelector,a=t.focusTrapZoneProps,u=t.forceFocusInsideTrap,c=t.hasCloseButton,f=t.headerText,h=t.headerClassName,p=h===void 0?"":h,m=t.ignoreExternalFocusing,v=t.isBlocking,y=t.isFooterAtBottom,x=t.isLightDismiss,w=t.isHiddenOnDismiss,b=t.layerProps,_=t.overlayProps,S=t.popupProps,M=t.type,C=t.styles,A=t.theme,T=t.customWidth,R=t.onLightDismissClick,D=R===void 0?this._onPanelClick:R,O=t.onRenderNavigation,Y=O===void 0?this._onRenderNavigation:O,ie=t.onRenderHeader,U=ie===void 0?this._onRenderHeader:ie,G=t.onRenderBody,Z=G===void 0?this._onRenderBody:G,te=t.onRenderFooter,V=te===void 0?this._onRenderFooter:te,K=this.state,$=K.isFooterSticky,re=K.visibility,le=K.id,be=M===kr.smallFixedNear||M===kr.customNear,Te=_i(A),ke=Te?be:!be,ue=M===kr.custom||M===kr.customNear?{width:T}:{},gt=mr(this.props,Ua),Ve=this.isActive,Ze=re===Bn.animatingClosed||re===Bn.animatingOpen;if(this._headerTextId=f&&le+"-headerText",!Ve&&!Ze&&!w)return null;this._classNames=hK(C,{theme:A,className:i,focusTrapZoneClassName:a?a.className:void 0,hasCloseButton:c,headerClassName:p,isAnimating:Ze,isFooterSticky:$,isFooterAtBottom:y,isOnRightSide:ke,isOpen:Ve,isHiddenOnDismiss:w,type:M,hasCustomNavigation:this._hasCustomNavigation});var Se=this,st=Se._classNames,pe=Se._allowTouchBodyScroll,he;return v&&Ve&&(he=L.exports.createElement(dK,J({className:st.overlay,isDarkThemed:!1,onClick:x?D:void 0,allowTouchBodyScroll:pe},_))),L.exports.createElement(rN,J({},b),L.exports.createElement(rE,J({role:"dialog","aria-modal":v?"true":void 0,ariaLabelledBy:this._headerTextId?this._headerTextId:void 0,onDismiss:this.dismiss,className:st.hiddenPanel,enableAriaHiddenSiblings:Ve?!0:void 0},S),L.exports.createElement("div",J({"aria-hidden":!Ve&&Ze},gt,{ref:this._panel,className:st.root}),he,L.exports.createElement(Iu,J({ignoreExternalFocusing:m,forceFocusInsideTrap:!v||w&&!Ve?!1:u,firstFocusableSelector:o,isClickableOutsideFocusTrap:!0},a,{className:st.main,style:ue,elementToFocusOnDismiss:s}),L.exports.createElement("div",{className:st.contentInner},L.exports.createElement("div",{ref:this._allowScrollOnPanel,className:st.scrollableContent,"data-is-scrollable":!0},L.exports.createElement("div",{className:st.commands,"data-is-visible":!0},Y(this.props,this._onRenderNavigation)),(this._hasCustomNavigation||!c)&&U(this.props,this._onRenderHeader,this._headerTextId),Z(this.props,this._onRenderBody),V(this.props,this._onRenderFooter)))))))},e.prototype.open=function(){this.props.isOpen===void 0&&(this.isActive||this.setState({visibility:Bn.animatingOpen}))},e.prototype.close=function(){this.props.isOpen===void 0&&(!this.isActive||this.setState({visibility:Bn.animatingClosed}))},Object.defineProperty(e.prototype,"isActive",{get:function(){return this.state.visibility===Bn.open||this.state.visibility===Bn.animatingOpen},enumerable:!1,configurable:!0}),e.prototype._shouldListenForOuterClick=function(t){return!!t.isBlocking&&!!t.isOpen},e.prototype._updateFooterPosition=function(){var t=this._scrollableContent;if(t){var r=t.clientHeight,i=t.scrollHeight;this.setState({isFooterSticky:r<i})}},e.prototype._dismissOnOuterClick=function(t){var r=this._panel.current;this.isActive&&r&&!t.defaultPrevented&&(Fi(r,t.target)||(this.props.onOuterClick?this.props.onOuterClick(t):this.dismiss(t)))},e.defaultProps={isHiddenOnDismiss:!1,isOpen:void 0,isBlocking:!0,hasCloseButton:!0,type:kr.smallFixedFar},e}(L.exports.Component),Ib,Pg,Dg,Lb,kb,mK={root:"ms-Panel",main:"ms-Panel-main",commands:"ms-Panel-commands",contentInner:"ms-Panel-contentInner",scrollableContent:"ms-Panel-scrollableContent",navigation:"ms-Panel-navigation",closeButton:"ms-Panel-closeButton ms-PanelAction-close",header:"ms-Panel-header",headerText:"ms-Panel-headerText",content:"ms-Panel-content",footer:"ms-Panel-footer",footerInner:"ms-Panel-footerInner",isOpen:"is-open",hasCloseButton:"ms-Panel--hasCloseButton",smallFluid:"ms-Panel--smFluid",smallFixedNear:"ms-Panel--smLeft",smallFixedFar:"ms-Panel--sm",medium:"ms-Panel--md",large:"ms-Panel--lg",largeFixed:"ms-Panel--fixed",extraLarge:"ms-Panel--xl",custom:"ms-Panel--custom",customNear:"ms-Panel--customLeft"},qu={full:"100%",auto:"auto",xs:272,sm:340,md1:592,md2:644,lg:940},Ma={auto:"auto",none:0,md:48,lg:428,xl:176},lh=(Ib={},Ib["@media (min-width: "+Vh+"px)"]={width:qu.sm},Ib),Ig=(Pg={},Pg["@media (min-width: "+Uk+"px)"]={width:qu.md1},Pg["@media (min-width: "+e7+"px)"]={width:qu.md2},Pg),Nb=(Dg={},Dg["@media (min-width: "+t7+"px)"]={left:Ma.md,width:qu.auto},Dg["@media (min-width: "+Q1+"px)"]={left:Ma.lg},Dg),gK=(Lb={},Lb["@media (min-width: "+Q1+"px)"]={left:Ma.auto,width:qu.lg},Lb),vK=(kb={},kb["@media (min-width: "+Q1+"px)"]={left:Ma.xl},kb),yK=function(n){var e;switch(n){case kr.smallFixedFar:e=J({},lh);break;case kr.medium:e=J(J({},lh),Ig);break;case kr.large:e=J(J(J({},lh),Ig),Nb);break;case kr.largeFixed:e=J(J(J(J({},lh),Ig),Nb),gK);break;case kr.extraLarge:e=J(J(J(J({},lh),Ig),Nb),vK);break}return e},xK="44px",Ob={paddingLeft:"24px",paddingRight:"24px"},_K=function(n){var e,t,r,i,s=n.className,o=n.focusTrapZoneClassName,a=n.hasCloseButton,u=n.headerClassName,c=n.isAnimating,f=n.isFooterSticky,h=n.isFooterAtBottom,p=n.isOnRightSide,m=n.isOpen,v=n.isHiddenOnDismiss,y=n.hasCustomNavigation,x=n.theme,w=n.type,b=w===void 0?kr.smallFixedFar:w,_=x.effects,S=x.fonts,M=x.semanticColors,C=yo(mK,x),A=b===kr.custom||b===kr.customNear;return{root:[C.root,x.fonts.medium,m&&C.isOpen,a&&C.hasCloseButton,{pointerEvents:"none",position:"absolute",top:0,left:0,right:0,bottom:0},A&&p&&C.custom,A&&!p&&C.customNear,s],overlay:[{pointerEvents:"auto",cursor:"pointer"},m&&c&&lo.fadeIn100,!m&&c&&lo.fadeOut100],hiddenPanel:[!m&&!c&&v&&{visibility:"hidden"}],main:[C.main,{backgroundColor:M.bodyBackground,boxShadow:_.elevation64,pointerEvents:"auto",position:"absolute",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",bottom:0,top:0,left:Ma.auto,right:Ma.none,width:qu.full,selectors:J((e={},e[ct]={borderLeft:"3px solid "+M.variantBorder,borderRight:"3px solid "+M.variantBorder},e),yK(b))},b===kr.smallFluid&&{left:Ma.none},b===kr.smallFixedNear&&{left:Ma.none,right:Ma.auto,width:qu.xs},b===kr.customNear&&{right:"auto",left:0},A&&{maxWidth:"100vw"},m&&c&&!p&&lo.slideRightIn40,m&&c&&p&&lo.slideLeftIn40,!m&&c&&!p&&lo.slideLeftOut40,!m&&c&&p&&lo.slideRightOut40,o],commands:[C.commands,{paddingTop:18,selectors:(t={},t["@media (min-height: "+Vh+"px)"]={position:"sticky",top:0,zIndex:1},t)},y&&{paddingTop:"inherit"},f&&{backgroundColor:M.bodyBackground}],navigation:[C.navigation,{display:"flex",justifyContent:"flex-end"},y&&{height:xK}],contentInner:[C.contentInner,{display:"flex",flexDirection:"column",flexGrow:1,overflowY:"hidden"}],header:[C.header,Ob,{alignSelf:"flex-start"},a&&!y&&{flexGrow:1},y&&{flexShrink:0}],headerText:[C.headerText,S.xLarge,{color:M.bodyText,lineHeight:"27px",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word",hyphens:"auto"},u],scrollableContent:[C.scrollableContent,{overflowY:"auto"},h&&{flexGrow:1,display:"inherit",flexDirection:"inherit"}],content:[C.content,Ob,{paddingBottom:20},h&&{selectors:(r={},r["@media (min-height: "+Vh+"px)"]={flexGrow:1},r)}],footer:[C.footer,{flexShrink:0,borderTop:"1px solid transparent",transition:"opacity "+S2.durationValue3+" "+S2.easeFunction2,selectors:(i={},i["@media (min-height: "+Vh+"px)"]={position:"sticky",bottom:0},i)},f&&{backgroundColor:M.bodyBackground,borderTopColor:M.variantBorder}],footerInner:[C.footerInner,Ob,{paddingBottom:16,paddingTop:16}],subComponentStyles:{closeButton:{root:[C.closeButton,{marginRight:14,color:x.palette.neutralSecondary,fontSize:_a.large},y&&{marginRight:0,height:"auto",width:"44px"}],rootHovered:{color:x.palette.neutralPrimary}}}}},bK=gs(pK,_K,void 0,{scope:"Panel"}),wK=ms(),SK={options:[]};function MK(n){var e=n.defaultSelectedKeys,t=n.selectedKeys,r=n.defaultSelectedKey,i=n.selectedKey,s=n.options,o=n.multiSelect,a=Mp(s),u=L.exports.useState([]),c=u[0],f=u[1],h,p=s!==a;o?p&&e!==void 0?h=e:h=t:p&&r!==void 0?h=r:h=i;var m=Mp(h);return L.exports.useEffect(function(){var v=function(){if(h===void 0){if(o)return y();var w=x(null);return w!==-1?[w]:[]}else if(!Array.isArray(h)){var w=x(h);return w!==-1?[w]:[]}for(var b=[],_=0,S=h;_<S.length;_++){var M=S[_],w=x(M);w!==-1&&b.push(w)}return b},y=function(){return s.map(function(w,b){return w.selected?b:-1}).filter(function(w){return w!==-1})},x=function(w){return Q8(s,function(b){return w!=null?b.key===w:!!b.selected||!!b.isSelected})};(h!==void 0||!a)&&(h!==m||p)&&f(v())},[p,o,a,m,s,h]),[c,f]}var TN=L.exports.forwardRef(function(n,e){var t=sm(SK,n),r=L.exports.useRef(null),i=Jl(e,r),s=pN(r,t.responsiveMode),o=MK(t),a=o[0],u=o[1];return L.exports.createElement(EK,J({},t,{responsiveMode:s,hoisted:{rootRef:i,selectedIndices:a,setSelectedIndices:u}}))});TN.displayName="DropdownBase";var EK=function(n){qr(e,n);function e(t){var r=n.call(this,t)||this;r._host=L.exports.createRef(),r._focusZone=L.exports.createRef(),r._dropDown=L.exports.createRef(),r._scrollIdleDelay=250,r._sizePosCache=new fK,r._requestAnimationFrame=rj(r),r.dismissMenu=function(){var s=r.state.isOpen;s&&r.setState({isOpen:!1})},r._onChange=function(s,o,a,u,c){var f=r.props,h=f.onChange,p=f.onChanged;if(h||p){var m=c?J(J({},o[a]),{selected:!u}):o[a];h&&h(J(J({},s),{target:r._dropDown.current}),m,a),p&&p(m,a)}},r._getPlaceholder=function(){return r.props.placeholder||r.props.placeHolder},r._getTitle=function(s,o){var a=r.props.multiSelectDelimiter,u=a===void 0?", ":a;return s.map(function(c){return c.text}).join(u)},r._onRenderTitle=function(s){return L.exports.createElement(L.exports.Fragment,null,r._getTitle(s))},r._onRenderPlaceholder=function(s){return r._getPlaceholder()?L.exports.createElement(L.exports.Fragment,null,r._getPlaceholder()):null},r._onRenderContainer=function(s){var o=s.calloutProps,a=s.panelProps,u=r.props,c=u.responsiveMode,f=u.dropdownWidth,h=c<=Kd.medium,p={firstFocusableTarget:"#"+r._listId+"1"},m=r._classNames.subComponentStyles?r._classNames.subComponentStyles.panel:void 0,v=void 0,y=void 0;return f==="auto"?y=r._dropDown.current?r._dropDown.current.clientWidth:0:v=f||(r._dropDown.current?r._dropDown.current.clientWidth:0),h?L.exports.createElement(bK,J({closeButtonAriaLabel:"Close",focusTrapZoneProps:p,hasCloseButton:!0,isOpen:!0,isLightDismiss:!0,onDismiss:r._onDismiss,styles:m},a),r._renderFocusableList(s)):L.exports.createElement(sE,J({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHintFixed:!1,directionalHint:sr.bottomLeftEdge,calloutWidth:v,calloutMinWidth:y},o,{className:r._classNames.callout,target:r._dropDown.current,onDismiss:r._onDismiss,onScroll:r._onScroll,onPositioned:r._onPositioned}),r._renderFocusableList(s))},r._onRenderCaretDown=function(s){return L.exports.createElement(rc,{className:r._classNames.caretDown,iconName:"ChevronDown","aria-hidden":!0})},r._onRenderList=function(s){var o=s.onRenderItem,a=o===void 0?r._onRenderItem:o,u={items:[]},c=[],f=function(){var p=u.id?[L.exports.createElement("div",{role:"group",key:u.id,"aria-labelledby":u.id},u.items)]:u.items;c=qn(qn([],c),p),u={items:[]}},h=function(p,m){switch(p.itemType){case Ro.Header:u.items.length>0&&f();var v=r._id+p.key;u.items.push(a(J(J({id:v},p),{index:m}),r._onRenderItem)),u.id=v;break;case Ro.Divider:m>0&&u.items.push(a(J(J({},p),{index:m}),r._onRenderItem)),u.items.length>0&&f();break;default:u.items.push(a(J(J({},p),{index:m}),r._onRenderItem))}};return s.options.forEach(function(p,m){h(p,m)}),u.items.length>0&&f(),L.exports.createElement(L.exports.Fragment,null,c)},r._onRenderItem=function(s){switch(s.itemType){case Ro.Divider:return r._renderSeparator(s);case Ro.Header:return r._renderHeader(s);default:return r._renderOption(s)}},r._renderOption=function(s){var o=r.props,a=o.onRenderOption,u=a===void 0?r._onRenderOption:a,c=o.hoisted.selectedIndices,f=c===void 0?[]:c,h=s.index!==void 0&&f?f.indexOf(s.index)>-1:!1,p=s.hidden?r._classNames.dropdownItemHidden:h&&s.disabled===!0?r._classNames.dropdownItemSelectedAndDisabled:h?r._classNames.dropdownItemSelected:s.disabled===!0?r._classNames.dropdownItemDisabled:r._classNames.dropdownItem,m=s.title,v=r._classNames.subComponentStyles?r._classNames.subComponentStyles.multiSelectItem:void 0;return r.props.multiSelect?L.exports.createElement(nK,{id:r._listId+s.index,key:s.key,disabled:s.disabled,onChange:r._onItemClick(s),inputProps:J({"aria-selected":h,onMouseEnter:r._onItemMouseEnter.bind(r,s),onMouseLeave:r._onMouseItemLeave.bind(r,s),onMouseMove:r._onItemMouseMove.bind(r,s),role:"option"},{"data-index":s.index,"data-is-focusable":!s.disabled}),label:s.text,title:m,onRenderLabel:r._onRenderItemLabel.bind(r,s),className:p,checked:h,styles:v,ariaPositionInSet:r._sizePosCache.positionInSet(s.index),ariaSetSize:r._sizePosCache.optionSetSize,ariaLabel:s.ariaLabel}):L.exports.createElement(Jq,{id:r._listId+s.index,key:s.key,"data-index":s.index,"data-is-focusable":!s.disabled,disabled:s.disabled,className:p,onClick:r._onItemClick(s),onMouseEnter:r._onItemMouseEnter.bind(r,s),onMouseLeave:r._onMouseItemLeave.bind(r,s),onMouseMove:r._onItemMouseMove.bind(r,s),role:"option","aria-selected":h?"true":"false",ariaLabel:s.ariaLabel,title:m,"aria-posinset":r._sizePosCache.positionInSet(s.index),"aria-setsize":r._sizePosCache.optionSetSize},u(s,r._onRenderOption))},r._onRenderOption=function(s){return L.exports.createElement("span",{className:r._classNames.dropdownOptionText},s.text)},r._onRenderItemLabel=function(s){var o=r.props.onRenderOption,a=o===void 0?r._onRenderOption:o;return a(s,r._onRenderOption)},r._onPositioned=function(s){r._focusZone.current&&r._requestAnimationFrame(function(){var o=r.props.hoisted.selectedIndices;if(r._focusZone.current)if(!r._hasBeenPositioned&&o&&o[0]&&!r.props.options[o[0]].disabled){var a=Xr().getElementById(r._id+"-list"+o[0]);a&&r._focusZone.current.focusElement(a),r._hasBeenPositioned=!0}else r._focusZone.current.focus()}),(!r.state.calloutRenderEdge||r.state.calloutRenderEdge!==s.targetEdge)&&r.setState({calloutRenderEdge:s.targetEdge})},r._onItemClick=function(s){return function(o){s.disabled||(r.setSelectedIndex(o,s.index),r.props.multiSelect||r.setState({isOpen:!1}))}},r._onScroll=function(){!r._isScrollIdle&&r._scrollIdleTimeoutId!==void 0?(clearTimeout(r._scrollIdleTimeoutId),r._scrollIdleTimeoutId=void 0):r._isScrollIdle=!1,r._scrollIdleTimeoutId=window.setTimeout(function(){r._isScrollIdle=!0},r._scrollIdleDelay)},r._onMouseItemLeave=function(s,o){if(!r._shouldIgnoreMouseEvent()&&r._host.current)if(r._host.current.setActive)try{r._host.current.setActive()}catch{}else r._host.current.focus()},r._onDismiss=function(){r.setState({isOpen:!1})},r._onDropdownBlur=function(s){var o=r._isDisabled();o||r.state.isOpen||(r.setState({hasFocus:!1}),r.props.onBlur&&r.props.onBlur(s))},r._onDropdownKeyDown=function(s){var o=r._isDisabled();if(!o&&(r._lastKeyDownWasAltOrMeta=r._isAltOrMeta(s),!(r.props.onKeyDown&&(r.props.onKeyDown(s),s.defaultPrevented)))){var a,u=r.props.hoisted.selectedIndices.length?r.props.hoisted.selectedIndices[0]:-1,c=s.altKey||s.metaKey,f=r.state.isOpen;switch(s.which){case $e.enter:r.setState({isOpen:!f});break;case $e.escape:if(!f)return;r.setState({isOpen:!1});break;case $e.up:if(c){if(f){r.setState({isOpen:!1});break}return}r.props.multiSelect?r.setState({isOpen:!0}):r._isDisabled()||(a=r._moveIndex(s,-1,u-1,u));break;case $e.down:c&&(s.stopPropagation(),s.preventDefault()),c&&!f||r.props.multiSelect?r.setState({isOpen:!0}):r._isDisabled()||(a=r._moveIndex(s,1,u+1,u));break;case $e.home:r.props.multiSelect||(a=r._moveIndex(s,1,0,u));break;case $e.end:r.props.multiSelect||(a=r._moveIndex(s,-1,r.props.options.length-1,u));break;case $e.space:break;default:return}a!==u&&(s.stopPropagation(),s.preventDefault())}},r._onDropdownKeyUp=function(s){var o=r._isDisabled();if(!o){var a=r._shouldHandleKeyUp(s),u=r.state.isOpen;if(!(r.props.onKeyUp&&(r.props.onKeyUp(s),s.defaultPrevented))){switch(s.which){case $e.space:r.setState({isOpen:!u});break;default:a&&u&&r.setState({isOpen:!1});return}s.stopPropagation(),s.preventDefault()}}},r._onZoneKeyDown=function(s){var o,a,u;r._lastKeyDownWasAltOrMeta=r._isAltOrMeta(s);var c=s.altKey||s.metaKey;switch(s.which){case $e.up:c?r.setState({isOpen:!1}):r._host.current&&(u=Rk(r._host.current,r._host.current.lastChild,!0));break;case $e.home:case $e.end:case $e.pageUp:case $e.pageDown:break;case $e.down:!c&&r._host.current&&(u=Ak(r._host.current,r._host.current.firstChild,!0));break;case $e.escape:r.setState({isOpen:!1});break;case $e.tab:r.setState({isOpen:!1});var f=Xr();f&&(s.shiftKey?(o=yi(f.body,r._dropDown.current,!1,!1,!0,!0))===null||o===void 0||o.focus():(a=ri(f.body,r._dropDown.current,!1,!1,!0,!0))===null||a===void 0||a.focus());break;default:return}u&&u.focus(),s.stopPropagation(),s.preventDefault()},r._onZoneKeyUp=function(s){var o=r._shouldHandleKeyUp(s);o&&r.state.isOpen&&(r.setState({isOpen:!1}),s.preventDefault())},r._onDropdownClick=function(s){if(!(r.props.onClick&&(r.props.onClick(s),s.defaultPrevented))){var o=r.state.isOpen,a=r._isDisabled();!a&&!r._shouldOpenOnFocus()&&r.setState({isOpen:!o}),r._isFocusedByClick=!1}},r._onDropdownMouseDown=function(){r._isFocusedByClick=!0},r._onFocus=function(s){var o=r._isDisabled();if(!o){r.props.onFocus&&r.props.onFocus(s);var a={hasFocus:!0};r._shouldOpenOnFocus()&&(a.isOpen=!0),r.setState(a)}},r._isDisabled=function(){var s=r.props.disabled,o=r.props.isDisabled;return s===void 0&&(s=o),s},r._onRenderLabel=function(s){var o=s.label,a=s.required,u=s.disabled,c=r._classNames.subComponentStyles?r._classNames.subComponentStyles.label:void 0;return o?L.exports.createElement(oK,{className:r._classNames.label,id:r._labelId,required:a,styles:c,disabled:u},o):null},nc(r),t.multiSelect,t.selectedKey,t.selectedKeys,t.defaultSelectedKey,t.defaultSelectedKeys;var i=t.options;return r._id=t.id||mo("Dropdown"),r._labelId=r._id+"-label",r._listId=r._id+"-list",r._optionId=r._id+"-option",r._isScrollIdle=!0,r._hasBeenPositioned=!1,r._sizePosCache.updateOptions(i),r.state={isOpen:!1,hasFocus:!1,calloutRenderEdge:void 0},r}return Object.defineProperty(e.prototype,"selectedOptions",{get:function(){var t=this.props,r=t.options,i=t.hoisted.selectedIndices;return q2(r,i)},enumerable:!1,configurable:!0}),e.prototype.componentWillUnmount=function(){clearTimeout(this._scrollIdleTimeoutId)},e.prototype.componentDidUpdate=function(t,r){r.isOpen===!0&&this.state.isOpen===!1&&(this._gotMouseMove=!1,this._hasBeenPositioned=!1,this.props.onDismiss&&this.props.onDismiss())},e.prototype.render=function(){var t=this._id,r=this.props,i=r.className,s=r.label,o=r.options,a=r.ariaLabel,u=r.required,c=r.errorMessage,f=r.styles,h=r.theme,p=r.panelProps,m=r.calloutProps,v=r.onRenderTitle,y=v===void 0?this._getTitle:v,x=r.onRenderContainer,w=x===void 0?this._onRenderContainer:x,b=r.onRenderCaretDown,_=b===void 0?this._onRenderCaretDown:b,S=r.onRenderLabel,M=S===void 0?this._onRenderLabel:S,C=r.hoisted.selectedIndices,A=this.state,T=A.isOpen,R=A.calloutRenderEdge,D=A.hasFocus,O=r.onRenderPlaceholder||r.onRenderPlaceHolder||this._getPlaceholder;o!==this._sizePosCache.cachedOptions&&this._sizePosCache.updateOptions(o);var Y=q2(o,C),ie=mr(r,Ua),U=this._isDisabled(),G=t+"-errorMessage",Z=U?void 0:T&&C.length===1&&C[0]>=0?this._listId+C[0]:void 0;this._classNames=wK(f,{theme:h,className:i,hasError:!!(c&&c.length>0),hasLabel:!!s,isOpen:T,required:u,disabled:U,isRenderingPlaceholder:!Y.length,panelClassName:p?p.className:void 0,calloutClassName:m?m.className:void 0,calloutRenderEdge:R});var te=!!c&&c.length>0;return L.exports.createElement("div",{className:this._classNames.root,ref:this.props.hoisted.rootRef,"aria-owns":T?this._listId:void 0},M(this.props,this._onRenderLabel),L.exports.createElement("div",J({"data-is-focusable":!U,"data-ktp-target":!0,ref:this._dropDown,id:t,tabIndex:U?-1:0,role:"combobox","aria-haspopup":"listbox","aria-expanded":T?"true":"false","aria-label":a,"aria-labelledby":s&&!a?pf(this._labelId,this._optionId):void 0,"aria-describedby":te?this._id+"-errorMessage":void 0,"aria-activedescendant":Z,"aria-required":u,"aria-disabled":U,"aria-controls":T?this._listId:void 0},ie,{className:this._classNames.dropdown,onBlur:this._onDropdownBlur,onKeyDown:this._onDropdownKeyDown,onKeyUp:this._onDropdownKeyUp,onClick:this._onDropdownClick,onMouseDown:this._onDropdownMouseDown,onFocus:this._onFocus}),L.exports.createElement("span",{id:this._optionId,className:this._classNames.title,"aria-live":D?"polite":void 0,"aria-atomic":D?!0:void 0,"aria-invalid":te},Y.length?y(Y,this._onRenderTitle):O(r,this._onRenderPlaceholder)),L.exports.createElement("span",{className:this._classNames.caretDownWrapper},_(r,this._onRenderCaretDown))),T&&w(J(J({},r),{onDismiss:this._onDismiss}),this._onRenderContainer),te&&L.exports.createElement("div",{role:"alert",id:G,className:this._classNames.errorMessage},c))},e.prototype.focus=function(t){this._dropDown.current&&(this._dropDown.current.focus(),t&&this.setState({isOpen:!0}))},e.prototype.setSelectedIndex=function(t,r){var i=this.props,s=i.options,o=i.selectedKey,a=i.selectedKeys,u=i.multiSelect,c=i.notifyOnReselect,f=i.hoisted.selectedIndices,h=f===void 0?[]:f,p=h?h.indexOf(r)>-1:!1,m=[];if(r=Math.max(0,Math.min(s.length-1,r)),o!==void 0||a!==void 0){this._onChange(t,s,r,p,u);return}if(!(!u&&!c&&r===h[0])){if(u)if(m=h?this._copyArray(h):[],p){var v=m.indexOf(r);v>-1&&m.splice(v,1)}else m.push(r);else m=[r];t.persist(),this.props.hoisted.setSelectedIndices(m),this._onChange(t,s,r,p,u)}},e.prototype._copyArray=function(t){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];r.push(o)}return r},e.prototype._moveIndex=function(t,r,i,s){var o=this.props.options;if(s===i||o.length===0)return s;i>=o.length?i=0:i<0&&(i=o.length-1);for(var a=0;o[i].itemType===Ro.Header||o[i].itemType===Ro.Divider||o[i].disabled;){if(a>=o.length)return s;i+r<0?i=o.length:i+r>=o.length&&(i=-1),i=i+r,a++}return this.setSelectedIndex(t,i),i},e.prototype._renderFocusableList=function(t){var r=t.onRenderList,i=r===void 0?this._onRenderList:r,s=t.label,o=t.ariaLabel,a=t.multiSelect;return L.exports.createElement("div",{className:this._classNames.dropdownItemsWrapper,onKeyDown:this._onZoneKeyDown,onKeyUp:this._onZoneKeyUp,ref:this._host,tabIndex:0},L.exports.createElement(aN,{ref:this._focusZone,direction:ti.vertical,id:this._listId,className:this._classNames.dropdownItems,role:"listbox","aria-label":o,"aria-labelledby":s&&!o?this._labelId:void 0,"aria-multiselectable":a},i(t,this._onRenderList)))},e.prototype._renderSeparator=function(t){var r=t.index,i=t.key,s=t.hidden?this._classNames.dropdownDividerHidden:this._classNames.dropdownDivider;return r>0?L.exports.createElement("div",{role:"separator",key:i,className:s}):null},e.prototype._renderHeader=function(t){var r=this.props.onRenderOption,i=r===void 0?this._onRenderOption:r,s=t.key,o=t.id,a=t.hidden?this._classNames.dropdownItemHeaderHidden:this._classNames.dropdownItemHeader;return L.exports.createElement("div",{id:o,key:s,className:a},i(t,this._onRenderOption))},e.prototype._onItemMouseEnter=function(t,r){if(!this._shouldIgnoreMouseEvent()){var i=r.currentTarget;i.focus()}},e.prototype._onItemMouseMove=function(t,r){var i=r.currentTarget;this._gotMouseMove=!0,!(!this._isScrollIdle||document.activeElement===i)&&i.focus()},e.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},e.prototype._isAltOrMeta=function(t){return t.which===$e.alt||t.key==="Meta"},e.prototype._shouldHandleKeyUp=function(t){var r=this._lastKeyDownWasAltOrMeta&&this._isAltOrMeta(t);return this._lastKeyDownWasAltOrMeta=!1,!!r&&!(OS()||NS())},e.prototype._shouldOpenOnFocus=function(){var t=this.state.hasFocus,r=this.props.openOnKeyboardFocus;return!this._isFocusedByClick&&r===!0&&!t},e.defaultProps={options:[]},e}(L.exports.Component),Bb,Fb,zb,TK={root:"ms-Dropdown-container",label:"ms-Dropdown-label",dropdown:"ms-Dropdown",title:"ms-Dropdown-title",caretDownWrapper:"ms-Dropdown-caretDownWrapper",caretDown:"ms-Dropdown-caretDown",callout:"ms-Dropdown-callout",panel:"ms-Dropdown-panel",dropdownItems:"ms-Dropdown-items",dropdownItem:"ms-Dropdown-item",dropdownDivider:"ms-Dropdown-divider",dropdownOptionText:"ms-Dropdown-optionText",dropdownItemHeader:"ms-Dropdown-header",titleIsPlaceHolder:"ms-Dropdown-titleIsPlaceHolder",titleHasError:"ms-Dropdown-title--hasError"},Lg=32,Ub=36,CK=(Bb={},Bb[ct+", "+$j.replace("@media ","")]=J({},os()),Bb),kg={selectors:J((Fb={},Fb[ct]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},Fb),CK)},K2={selectors:(zb={},zb[ct]={borderColor:"Highlight"},zb)},AK=$1(0,Vh),RK=function(n){var e,t,r,i,s,o,a,u,c,f,h,p,m=n.theme,v=n.hasError,y=n.hasLabel,x=n.className,w=n.isOpen,b=n.disabled,_=n.required,S=n.isRenderingPlaceholder,M=n.panelClassName,C=n.calloutClassName,A=n.calloutRenderEdge;if(!m)throw new Error("theme is undefined or null in base Dropdown getStyles function.");var T=yo(TK,m),R=m.palette,D=m.semanticColors,O=m.effects,Y=m.fonts,ie={color:D.menuItemTextHovered},U={color:D.menuItemText},G={borderColor:D.errorText},Z=[T.dropdownItem,{backgroundColor:"transparent",boxSizing:"border-box",cursor:"pointer",display:"flex",alignItems:"center",padding:"0 8px",width:"100%",minHeight:Ub,lineHeight:20,height:0,position:"relative",border:"1px solid transparent",borderRadius:0,wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left",".ms-Button-flexContainer":{width:"100%"}}],te=[T.dropdownItemHeader,J(J({},Y.medium),{fontWeight:Tn.semibold,color:D.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:Ub,lineHeight:Ub,cursor:"default",padding:"0 8px",userSelect:"none",textAlign:"left",selectors:(e={},e[ct]=J({color:"GrayText"},os()),e)})],V=D.menuItemBackgroundPressed,K=function(Te){var ke;return Te===void 0&&(Te=!1),{selectors:(ke={"&:hover:focus":[{color:D.menuItemTextHovered,backgroundColor:Te?V:D.menuItemBackgroundHovered},kg],"&:focus":[{backgroundColor:Te?V:"transparent"},kg],"&:active":[{color:D.menuItemTextHovered,backgroundColor:Te?D.menuItemBackgroundHovered:D.menuBackground},kg]},ke["."+Hr+" &:focus:after"]={left:0,top:0,bottom:0,right:0},ke[ct]={border:"none"},ke)}},$=qn(qn([],Z),[{backgroundColor:V,color:D.menuItemTextHovered},K(!0),kg]),re=qn(qn([],Z),[{color:D.disabledText,cursor:"default",selectors:(t={},t[ct]={color:"GrayText",border:"none"},t)}]),le=A===lt.bottom?O.roundedCorner2+" "+O.roundedCorner2+" 0 0":"0 0 "+O.roundedCorner2+" "+O.roundedCorner2,be=A===lt.bottom?"0 0 "+O.roundedCorner2+" "+O.roundedCorner2:O.roundedCorner2+" "+O.roundedCorner2+" 0 0";return{root:[T.root,x],label:T.label,dropdown:[T.dropdown,C2,Y.medium,{color:D.menuItemText,borderColor:D.focusBorder,position:"relative",outline:0,userSelect:"none",selectors:(r={},r["&:hover ."+T.title]=[!b&&ie,{borderColor:w?R.neutralSecondary:R.neutralPrimary},K2],r["&:focus ."+T.title]=[!b&&ie,{selectors:(i={},i[ct]={color:"Highlight"},i)}],r["&:focus:after"]=[{pointerEvents:"none",content:"''",position:"absolute",boxSizing:"border-box",top:"0px",left:"0px",width:"100%",height:"100%",border:b?"none":"2px solid "+R.themePrimary,borderRadius:"2px",selectors:(s={},s[ct]={color:"Highlight"},s)}],r["&:active ."+T.title]=[!b&&ie,{borderColor:R.themePrimary},K2],r["&:hover ."+T.caretDown]=!b&&U,r["&:focus ."+T.caretDown]=[!b&&U,{selectors:(o={},o[ct]={color:"Highlight"},o)}],r["&:active ."+T.caretDown]=!b&&U,r["&:hover ."+T.titleIsPlaceHolder]=!b&&U,r["&:focus ."+T.titleIsPlaceHolder]=!b&&U,r["&:active ."+T.titleIsPlaceHolder]=!b&&U,r["&:hover ."+T.titleHasError]=G,r["&:active ."+T.titleHasError]=G,r)},w&&"is-open",b&&"is-disabled",_&&"is-required",_&&!y&&{selectors:(a={":before":{content:"'*'",color:D.errorText,position:"absolute",top:-5,right:-10}},a[ct]={selectors:{":after":{right:-14}}},a)}],title:[T.title,C2,{backgroundColor:D.inputBackground,borderWidth:1,borderStyle:"solid",borderColor:D.inputBorder,borderRadius:w?le:O.roundedCorner2,cursor:"pointer",display:"block",height:Lg,lineHeight:Lg-2,padding:"0 28px 0 8px",position:"relative",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},S&&[T.titleIsPlaceHolder,{color:D.inputPlaceholderText}],v&&[T.titleHasError,G],b&&{backgroundColor:D.disabledBackground,border:"none",color:D.disabledText,cursor:"default",selectors:(u={},u[ct]=J({border:"1px solid GrayText",color:"GrayText",backgroundColor:"Window"},os()),u)}],caretDownWrapper:[T.caretDownWrapper,{height:Lg,lineHeight:Lg-2,paddingTop:1,position:"absolute",right:8,top:0},!b&&{cursor:"pointer"}],caretDown:[T.caretDown,{color:R.neutralSecondary,fontSize:Y.small.fontSize,pointerEvents:"none"},b&&{color:D.disabledText,selectors:(c={},c[ct]=J({color:"GrayText"},os()),c)}],errorMessage:J(J({color:D.errorText},m.fonts.small),{paddingTop:5}),callout:[T.callout,{boxShadow:O.elevation8,borderRadius:be,selectors:(f={},f[".ms-Callout-main"]={borderRadius:be},f)},C],dropdownItemsWrapper:{selectors:{"&:focus":{outline:0}}},dropdownItems:[T.dropdownItems,{display:"block"}],dropdownItem:qn(qn([],Z),[K()]),dropdownItemSelected:$,dropdownItemDisabled:re,dropdownItemSelectedAndDisabled:[$,re,{backgroundColor:"transparent"}],dropdownItemHidden:qn(qn([],Z),[{display:"none"}]),dropdownDivider:[T.dropdownDivider,{height:1,backgroundColor:D.bodyDivider}],dropdownDividerHidden:[T.dropdownDivider,{display:"none"}],dropdownOptionText:[T.dropdownOptionText,{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:0,maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",margin:"1px"}],dropdownItemHeader:te,dropdownItemHeaderHidden:qn(qn([],te),[{display:"none"}]),subComponentStyles:{label:{root:{display:"inline-block"}},multiSelectItem:{root:{padding:0},label:{alignSelf:"stretch",padding:"0 8px",width:"100%"},input:{selectors:(h={},h["."+Hr+" &:focus + label::before"]={outlineOffset:"0px"},h)}},panel:{root:[M],main:{selectors:(p={},p[AK]={width:272},p)},contentInner:{padding:"0 0 20px"}}}}},GS=gs(TN,RK,void 0,{scope:"Dropdown"});GS.displayName="Dropdown";var Y2={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",h=1,p=2,m=4,v=1,y=2,x=1,w=2,b=4,_=8,S=16,M=32,C=64,A=128,T=256,R=512,D=30,O="...",Y=800,ie=16,U=1,G=2,Z=3,te=1/0,V=9007199254740991,K=17976931348623157e292,$=0/0,re=4294967295,le=re-1,be=re>>>1,Te=[["ary",A],["bind",x],["bindKey",w],["curry",_],["curryRight",S],["flip",R],["partial",M],["partialRight",C],["rearg",T]],ke="[object Arguments]",ue="[object Array]",gt="[object AsyncFunction]",Ve="[object Boolean]",Ze="[object Date]",Se="[object DOMException]",st="[object Error]",pe="[object Function]",he="[object GeneratorFunction]",we="[object Map]",We="[object Number]",Le="[object Null]",qe="[object Object]",ot="[object Promise]",rt="[object Proxy]",kt="[object RegExp]",_t="[object Set]",H="[object String]",N="[object Symbol]",de="[object Undefined]",_e="[object WeakMap]",Ne="[object WeakSet]",Be="[object ArrayBuffer]",Je="[object DataView]",F="[object Float32Array]",Me="[object Float64Array]",Xe="[object Int8Array]",Pe="[object Int16Array]",X="[object Int32Array]",Ae="[object Uint8Array]",Ce="[object Uint8ClampedArray]",at="[object Uint16Array]",Oe="[object Uint32Array]",Qe=/\b__p \+= '';/g,Re=/\b(__p \+=) '' \+/g,ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wt=/&(?:amp|lt|gt|quot|#39);/g,Ct=/[&<>"']/g,Ci=RegExp(Wt.source),Ai=RegExp(Ct.source),cc=/<%-([\s\S]+?)%>/g,li=/<%([\s\S]+?)%>/g,dc=/<%=([\s\S]+?)%>/g,ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fc=/^\w*$/,kf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xa=/[\\^$.*+?()[\]{}|]/g,eu=RegExp(Xa.source),z=/^\s+/,ne=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ge=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vt=/[()=,{}\[\]\/\s]/,Et=/\\(\\)?/g,wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ye=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,ut=/^\[object .+?Constructor\]$/,bn=/^0o[0-7]+$/i,kn=/^(?:0|[1-9]\d*)$/,It=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rn=/($^)/,it=/['\n\r\u2028\u2029\\]/g,wn="\\ud800-\\udfff",jt="\\u0300-\\u036f",ur="\\ufe20-\\ufe2f",ui="\\u20d0-\\u20ff",ji=jt+ur+ui,ys="\\u2700-\\u27bf",fn="a-z\\xdf-\\xf6\\xf8-\\xff",Zo="\\xac\\xb1\\xd7\\xf7",tu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ci="\\u2000-\\u206f",Ix=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wT="A-Z\\xc0-\\xd6\\xd8-\\xde",ST="\\ufe0e\\ufe0f",MT=Zo+tu+ci+Ix,Lx="['\u2019]",tz="["+wn+"]",ET="["+MT+"]",bm="["+ji+"]",TT="\\d+",nz="["+ys+"]",CT="["+fn+"]",AT="[^"+wn+MT+TT+ys+fn+wT+"]",kx="\\ud83c[\\udffb-\\udfff]",rz="(?:"+bm+"|"+kx+")",RT="[^"+wn+"]",Nx="(?:\\ud83c[\\udde6-\\uddff]){2}",Ox="[\\ud800-\\udbff][\\udc00-\\udfff]",hc="["+wT+"]",PT="\\u200d",DT="(?:"+CT+"|"+AT+")",iz="(?:"+hc+"|"+AT+")",IT="(?:"+Lx+"(?:d|ll|m|re|s|t|ve))?",LT="(?:"+Lx+"(?:D|LL|M|RE|S|T|VE))?",kT=rz+"?",NT="["+ST+"]?",sz="(?:"+PT+"(?:"+[RT,Nx,Ox].join("|")+")"+NT+kT+")*",oz="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",az="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",OT=NT+kT+sz,lz="(?:"+[nz,Nx,Ox].join("|")+")"+OT,uz="(?:"+[RT+bm+"?",bm,Nx,Ox,tz].join("|")+")",cz=RegExp(Lx,"g"),dz=RegExp(bm,"g"),Bx=RegExp(kx+"(?="+kx+")|"+uz+OT,"g"),fz=RegExp([hc+"?"+CT+"+"+IT+"(?="+[ET,hc,"$"].join("|")+")",iz+"+"+LT+"(?="+[ET,hc+DT,"$"].join("|")+")",hc+"?"+DT+"+"+IT,hc+"+"+LT,az,oz,TT,lz].join("|"),"g"),hz=RegExp("["+PT+wn+ji+ST+"]"),pz=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mz=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gz=-1,Sn={};Sn[F]=Sn[Me]=Sn[Xe]=Sn[Pe]=Sn[X]=Sn[Ae]=Sn[Ce]=Sn[at]=Sn[Oe]=!0,Sn[ke]=Sn[ue]=Sn[Be]=Sn[Ve]=Sn[Je]=Sn[Ze]=Sn[st]=Sn[pe]=Sn[we]=Sn[We]=Sn[qe]=Sn[kt]=Sn[_t]=Sn[H]=Sn[_e]=!1;var yn={};yn[ke]=yn[ue]=yn[Be]=yn[Je]=yn[Ve]=yn[Ze]=yn[F]=yn[Me]=yn[Xe]=yn[Pe]=yn[X]=yn[we]=yn[We]=yn[qe]=yn[kt]=yn[_t]=yn[H]=yn[N]=yn[Ae]=yn[Ce]=yn[at]=yn[Oe]=!0,yn[st]=yn[pe]=yn[_e]=!1;var vz={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},yz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xz={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_z={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bz=parseFloat,wz=parseInt,BT=typeof Zf=="object"&&Zf&&Zf.Object===Object&&Zf,Sz=typeof self=="object"&&self&&self.Object===Object&&self,Br=BT||Sz||Function("return this")(),Fx=e&&!e.nodeType&&e,nu=Fx&&!0&&n&&!n.nodeType&&n,FT=nu&&nu.exports===Fx,zx=FT&&BT.process,xs=function(){try{var Q=nu&&nu.require&&nu.require("util").types;return Q||zx&&zx.binding&&zx.binding("util")}catch{}}(),zT=xs&&xs.isArrayBuffer,UT=xs&&xs.isDate,HT=xs&&xs.isMap,WT=xs&&xs.isRegExp,VT=xs&&xs.isSet,GT=xs&&xs.isTypedArray;function Xi(Q,fe,oe){switch(oe.length){case 0:return Q.call(fe);case 1:return Q.call(fe,oe[0]);case 2:return Q.call(fe,oe[0],oe[1]);case 3:return Q.call(fe,oe[0],oe[1],oe[2])}return Q.apply(fe,oe)}function Mz(Q,fe,oe,Ge){for(var bt=-1,Yt=Q==null?0:Q.length;++bt<Yt;){var yr=Q[bt];fe(Ge,yr,oe(yr),Q)}return Ge}function _s(Q,fe){for(var oe=-1,Ge=Q==null?0:Q.length;++oe<Ge&&fe(Q[oe],oe,Q)!==!1;);return Q}function Ez(Q,fe){for(var oe=Q==null?0:Q.length;oe--&&fe(Q[oe],oe,Q)!==!1;);return Q}function jT(Q,fe){for(var oe=-1,Ge=Q==null?0:Q.length;++oe<Ge;)if(!fe(Q[oe],oe,Q))return!1;return!0}function qa(Q,fe){for(var oe=-1,Ge=Q==null?0:Q.length,bt=0,Yt=[];++oe<Ge;){var yr=Q[oe];fe(yr,oe,Q)&&(Yt[bt++]=yr)}return Yt}function wm(Q,fe){var oe=Q==null?0:Q.length;return!!oe&&pc(Q,fe,0)>-1}function Ux(Q,fe,oe){for(var Ge=-1,bt=Q==null?0:Q.length;++Ge<bt;)if(oe(fe,Q[Ge]))return!0;return!1}function Rn(Q,fe){for(var oe=-1,Ge=Q==null?0:Q.length,bt=Array(Ge);++oe<Ge;)bt[oe]=fe(Q[oe],oe,Q);return bt}function Ka(Q,fe){for(var oe=-1,Ge=fe.length,bt=Q.length;++oe<Ge;)Q[bt+oe]=fe[oe];return Q}function Hx(Q,fe,oe,Ge){var bt=-1,Yt=Q==null?0:Q.length;for(Ge&&Yt&&(oe=Q[++bt]);++bt<Yt;)oe=fe(oe,Q[bt],bt,Q);return oe}function Tz(Q,fe,oe,Ge){var bt=Q==null?0:Q.length;for(Ge&&bt&&(oe=Q[--bt]);bt--;)oe=fe(oe,Q[bt],bt,Q);return oe}function Wx(Q,fe){for(var oe=-1,Ge=Q==null?0:Q.length;++oe<Ge;)if(fe(Q[oe],oe,Q))return!0;return!1}var Cz=Vx("length");function Az(Q){return Q.split("")}function Rz(Q){return Q.match(ht)||[]}function XT(Q,fe,oe){var Ge;return oe(Q,function(bt,Yt,yr){if(fe(bt,Yt,yr))return Ge=Yt,!1}),Ge}function Sm(Q,fe,oe,Ge){for(var bt=Q.length,Yt=oe+(Ge?1:-1);Ge?Yt--:++Yt<bt;)if(fe(Q[Yt],Yt,Q))return Yt;return-1}function pc(Q,fe,oe){return fe===fe?Hz(Q,fe,oe):Sm(Q,qT,oe)}function Pz(Q,fe,oe,Ge){for(var bt=oe-1,Yt=Q.length;++bt<Yt;)if(Ge(Q[bt],fe))return bt;return-1}function qT(Q){return Q!==Q}function KT(Q,fe){var oe=Q==null?0:Q.length;return oe?jx(Q,fe)/oe:$}function Vx(Q){return function(fe){return fe==null?t:fe[Q]}}function Gx(Q){return function(fe){return Q==null?t:Q[fe]}}function YT(Q,fe,oe,Ge,bt){return bt(Q,function(Yt,yr,gn){oe=Ge?(Ge=!1,Yt):fe(oe,Yt,yr,gn)}),oe}function Dz(Q,fe){var oe=Q.length;for(Q.sort(fe);oe--;)Q[oe]=Q[oe].value;return Q}function jx(Q,fe){for(var oe,Ge=-1,bt=Q.length;++Ge<bt;){var Yt=fe(Q[Ge]);Yt!==t&&(oe=oe===t?Yt:oe+Yt)}return oe}function Xx(Q,fe){for(var oe=-1,Ge=Array(Q);++oe<Q;)Ge[oe]=fe(oe);return Ge}function Iz(Q,fe){return Rn(fe,function(oe){return[oe,Q[oe]]})}function ZT(Q){return Q&&Q.slice(0,eC(Q)+1).replace(z,"")}function qi(Q){return function(fe){return Q(fe)}}function qx(Q,fe){return Rn(fe,function(oe){return Q[oe]})}function Nf(Q,fe){return Q.has(fe)}function JT(Q,fe){for(var oe=-1,Ge=Q.length;++oe<Ge&&pc(fe,Q[oe],0)>-1;);return oe}function QT(Q,fe){for(var oe=Q.length;oe--&&pc(fe,Q[oe],0)>-1;);return oe}function Lz(Q,fe){for(var oe=Q.length,Ge=0;oe--;)Q[oe]===fe&&++Ge;return Ge}var kz=Gx(vz),Nz=Gx(yz);function Oz(Q){return"\\"+_z[Q]}function Bz(Q,fe){return Q==null?t:Q[fe]}function mc(Q){return hz.test(Q)}function Fz(Q){return pz.test(Q)}function zz(Q){for(var fe,oe=[];!(fe=Q.next()).done;)oe.push(fe.value);return oe}function Kx(Q){var fe=-1,oe=Array(Q.size);return Q.forEach(function(Ge,bt){oe[++fe]=[bt,Ge]}),oe}function $T(Q,fe){return function(oe){return Q(fe(oe))}}function Ya(Q,fe){for(var oe=-1,Ge=Q.length,bt=0,Yt=[];++oe<Ge;){var yr=Q[oe];(yr===fe||yr===f)&&(Q[oe]=f,Yt[bt++]=oe)}return Yt}function Mm(Q){var fe=-1,oe=Array(Q.size);return Q.forEach(function(Ge){oe[++fe]=Ge}),oe}function Uz(Q){var fe=-1,oe=Array(Q.size);return Q.forEach(function(Ge){oe[++fe]=[Ge,Ge]}),oe}function Hz(Q,fe,oe){for(var Ge=oe-1,bt=Q.length;++Ge<bt;)if(Q[Ge]===fe)return Ge;return-1}function Wz(Q,fe,oe){for(var Ge=oe+1;Ge--;)if(Q[Ge]===fe)return Ge;return Ge}function gc(Q){return mc(Q)?Gz(Q):Cz(Q)}function Ws(Q){return mc(Q)?jz(Q):Az(Q)}function eC(Q){for(var fe=Q.length;fe--&&ne.test(Q.charAt(fe)););return fe}var Vz=Gx(xz);function Gz(Q){for(var fe=Bx.lastIndex=0;Bx.test(Q);)++fe;return fe}function jz(Q){return Q.match(Bx)||[]}function Xz(Q){return Q.match(fz)||[]}var qz=function Q(fe){fe=fe==null?Br:vc.defaults(Br.Object(),fe,vc.pick(Br,mz));var oe=fe.Array,Ge=fe.Date,bt=fe.Error,Yt=fe.Function,yr=fe.Math,gn=fe.Object,Yx=fe.RegExp,Kz=fe.String,bs=fe.TypeError,Em=oe.prototype,Yz=Yt.prototype,yc=gn.prototype,Tm=fe["__core-js_shared__"],Cm=Yz.toString,sn=yc.hasOwnProperty,Zz=0,tC=function(){var l=/[^.]+$/.exec(Tm&&Tm.keys&&Tm.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Am=yc.toString,Jz=Cm.call(gn),Qz=Br._,$z=Yx("^"+Cm.call(sn).replace(Xa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rm=FT?fe.Buffer:t,Za=fe.Symbol,Pm=fe.Uint8Array,nC=Rm?Rm.allocUnsafe:t,Dm=$T(gn.getPrototypeOf,gn),rC=gn.create,iC=yc.propertyIsEnumerable,Im=Em.splice,sC=Za?Za.isConcatSpreadable:t,Of=Za?Za.iterator:t,ru=Za?Za.toStringTag:t,Lm=function(){try{var l=lu(gn,"defineProperty");return l({},"",{}),l}catch{}}(),eU=fe.clearTimeout!==Br.clearTimeout&&fe.clearTimeout,tU=Ge&&Ge.now!==Br.Date.now&&Ge.now,nU=fe.setTimeout!==Br.setTimeout&&fe.setTimeout,km=yr.ceil,Nm=yr.floor,Zx=gn.getOwnPropertySymbols,rU=Rm?Rm.isBuffer:t,oC=fe.isFinite,iU=Em.join,sU=$T(gn.keys,gn),xr=yr.max,Kr=yr.min,oU=Ge.now,aU=fe.parseInt,aC=yr.random,lU=Em.reverse,Jx=lu(fe,"DataView"),Bf=lu(fe,"Map"),Qx=lu(fe,"Promise"),xc=lu(fe,"Set"),Ff=lu(fe,"WeakMap"),zf=lu(gn,"create"),Om=Ff&&new Ff,_c={},uU=uu(Jx),cU=uu(Bf),dU=uu(Qx),fU=uu(xc),hU=uu(Ff),Bm=Za?Za.prototype:t,Uf=Bm?Bm.valueOf:t,lC=Bm?Bm.toString:t;function I(l){if(Gn(l)&&!St(l)&&!(l instanceof Bt)){if(l instanceof ws)return l;if(sn.call(l,"__wrapped__"))return uA(l)}return new ws(l)}var bc=function(){function l(){}return function(d){if(!Nn(d))return{};if(rC)return rC(d);l.prototype=d;var g=new l;return l.prototype=t,g}}();function Fm(){}function ws(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}I.templateSettings={escape:cc,evaluate:li,interpolate:dc,variable:"",imports:{_:I}},I.prototype=Fm.prototype,I.prototype.constructor=I,ws.prototype=bc(Fm.prototype),ws.prototype.constructor=ws;function Bt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function pU(){var l=new Bt(this.__wrapped__);return l.__actions__=Ri(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Ri(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Ri(this.__views__),l}function mU(){if(this.__filtered__){var l=new Bt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function gU(){var l=this.__wrapped__.value(),d=this.__dir__,g=St(l),E=d<0,P=g?l.length:0,k=A4(0,P,this.__views__),W=k.start,q=k.end,ee=q-W,me=E?q:W-1,ve=this.__iteratees__,xe=ve.length,ze=0,et=Kr(ee,this.__takeCount__);if(!g||!E&&P==ee&&et==ee)return IC(l,this.__actions__);var pt=[];e:for(;ee--&&ze<et;){me+=d;for(var At=-1,mt=l[me];++At<xe;){var Nt=ve[At],Ut=Nt.iteratee,Zi=Nt.type,hi=Ut(mt);if(Zi==G)mt=hi;else if(!hi){if(Zi==U)continue e;break e}}pt[ze++]=mt}return pt}Bt.prototype=bc(Fm.prototype),Bt.prototype.constructor=Bt;function iu(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function vU(){this.__data__=zf?zf(null):{},this.size=0}function yU(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function xU(l){var d=this.__data__;if(zf){var g=d[l];return g===u?t:g}return sn.call(d,l)?d[l]:t}function _U(l){var d=this.__data__;return zf?d[l]!==t:sn.call(d,l)}function bU(l,d){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=zf&&d===t?u:d,this}iu.prototype.clear=vU,iu.prototype.delete=yU,iu.prototype.get=xU,iu.prototype.has=_U,iu.prototype.set=bU;function Jo(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function wU(){this.__data__=[],this.size=0}function SU(l){var d=this.__data__,g=zm(d,l);if(g<0)return!1;var E=d.length-1;return g==E?d.pop():Im.call(d,g,1),--this.size,!0}function MU(l){var d=this.__data__,g=zm(d,l);return g<0?t:d[g][1]}function EU(l){return zm(this.__data__,l)>-1}function TU(l,d){var g=this.__data__,E=zm(g,l);return E<0?(++this.size,g.push([l,d])):g[E][1]=d,this}Jo.prototype.clear=wU,Jo.prototype.delete=SU,Jo.prototype.get=MU,Jo.prototype.has=EU,Jo.prototype.set=TU;function Qo(l){var d=-1,g=l==null?0:l.length;for(this.clear();++d<g;){var E=l[d];this.set(E[0],E[1])}}function CU(){this.size=0,this.__data__={hash:new iu,map:new(Bf||Jo),string:new iu}}function AU(l){var d=Jm(this,l).delete(l);return this.size-=d?1:0,d}function RU(l){return Jm(this,l).get(l)}function PU(l){return Jm(this,l).has(l)}function DU(l,d){var g=Jm(this,l),E=g.size;return g.set(l,d),this.size+=g.size==E?0:1,this}Qo.prototype.clear=CU,Qo.prototype.delete=AU,Qo.prototype.get=RU,Qo.prototype.has=PU,Qo.prototype.set=DU;function su(l){var d=-1,g=l==null?0:l.length;for(this.__data__=new Qo;++d<g;)this.add(l[d])}function IU(l){return this.__data__.set(l,u),this}function LU(l){return this.__data__.has(l)}su.prototype.add=su.prototype.push=IU,su.prototype.has=LU;function Vs(l){var d=this.__data__=new Jo(l);this.size=d.size}function kU(){this.__data__=new Jo,this.size=0}function NU(l){var d=this.__data__,g=d.delete(l);return this.size=d.size,g}function OU(l){return this.__data__.get(l)}function BU(l){return this.__data__.has(l)}function FU(l,d){var g=this.__data__;if(g instanceof Jo){var E=g.__data__;if(!Bf||E.length<i-1)return E.push([l,d]),this.size=++g.size,this;g=this.__data__=new Qo(E)}return g.set(l,d),this.size=g.size,this}Vs.prototype.clear=kU,Vs.prototype.delete=NU,Vs.prototype.get=OU,Vs.prototype.has=BU,Vs.prototype.set=FU;function uC(l,d){var g=St(l),E=!g&&cu(l),P=!g&&!E&&tl(l),k=!g&&!E&&!P&&Ec(l),W=g||E||P||k,q=W?Xx(l.length,Kz):[],ee=q.length;for(var me in l)(d||sn.call(l,me))&&!(W&&(me=="length"||P&&(me=="offset"||me=="parent")||k&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||na(me,ee)))&&q.push(me);return q}function cC(l){var d=l.length;return d?l[u_(0,d-1)]:t}function zU(l,d){return Qm(Ri(l),ou(d,0,l.length))}function UU(l){return Qm(Ri(l))}function $x(l,d,g){(g!==t&&!Gs(l[d],g)||g===t&&!(d in l))&&$o(l,d,g)}function Hf(l,d,g){var E=l[d];(!(sn.call(l,d)&&Gs(E,g))||g===t&&!(d in l))&&$o(l,d,g)}function zm(l,d){for(var g=l.length;g--;)if(Gs(l[g][0],d))return g;return-1}function HU(l,d,g,E){return Ja(l,function(P,k,W){d(E,P,g(P),W)}),E}function dC(l,d){return l&&_o(d,Ar(d),l)}function WU(l,d){return l&&_o(d,Di(d),l)}function $o(l,d,g){d=="__proto__"&&Lm?Lm(l,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[d]=g}function e_(l,d){for(var g=-1,E=d.length,P=oe(E),k=l==null;++g<E;)P[g]=k?t:k_(l,d[g]);return P}function ou(l,d,g){return l===l&&(g!==t&&(l=l<=g?l:g),d!==t&&(l=l>=d?l:d)),l}function Ss(l,d,g,E,P,k){var W,q=d&h,ee=d&p,me=d&m;if(g&&(W=P?g(l,E,P,k):g(l)),W!==t)return W;if(!Nn(l))return l;var ve=St(l);if(ve){if(W=P4(l),!q)return Ri(l,W)}else{var xe=Yr(l),ze=xe==pe||xe==he;if(tl(l))return NC(l,q);if(xe==qe||xe==ke||ze&&!P){if(W=ee||ze?{}:eA(l),!q)return ee?x4(l,WU(W,l)):y4(l,dC(W,l))}else{if(!yn[xe])return P?l:{};W=D4(l,xe,q)}}k||(k=new Vs);var et=k.get(l);if(et)return et;k.set(l,W),RA(l)?l.forEach(function(mt){W.add(Ss(mt,d,g,mt,l,k))}):CA(l)&&l.forEach(function(mt,Nt){W.set(Nt,Ss(mt,d,g,Nt,l,k))});var pt=me?ee?__:x_:ee?Di:Ar,At=ve?t:pt(l);return _s(At||l,function(mt,Nt){At&&(Nt=mt,mt=l[Nt]),Hf(W,Nt,Ss(mt,d,g,Nt,l,k))}),W}function VU(l){var d=Ar(l);return function(g){return fC(g,l,d)}}function fC(l,d,g){var E=g.length;if(l==null)return!E;for(l=gn(l);E--;){var P=g[E],k=d[P],W=l[P];if(W===t&&!(P in l)||!k(W))return!1}return!0}function hC(l,d,g){if(typeof l!="function")throw new bs(o);return Kf(function(){l.apply(t,g)},d)}function Wf(l,d,g,E){var P=-1,k=wm,W=!0,q=l.length,ee=[],me=d.length;if(!q)return ee;g&&(d=Rn(d,qi(g))),E?(k=Ux,W=!1):d.length>=i&&(k=Nf,W=!1,d=new su(d));e:for(;++P<q;){var ve=l[P],xe=g==null?ve:g(ve);if(ve=E||ve!==0?ve:0,W&&xe===xe){for(var ze=me;ze--;)if(d[ze]===xe)continue e;ee.push(ve)}else k(d,xe,E)||ee.push(ve)}return ee}var Ja=UC(xo),pC=UC(n_,!0);function GU(l,d){var g=!0;return Ja(l,function(E,P,k){return g=!!d(E,P,k),g}),g}function Um(l,d,g){for(var E=-1,P=l.length;++E<P;){var k=l[E],W=d(k);if(W!=null&&(q===t?W===W&&!Yi(W):g(W,q)))var q=W,ee=k}return ee}function jU(l,d,g,E){var P=l.length;for(g=Tt(g),g<0&&(g=-g>P?0:P+g),E=E===t||E>P?P:Tt(E),E<0&&(E+=P),E=g>E?0:DA(E);g<E;)l[g++]=d;return l}function mC(l,d){var g=[];return Ja(l,function(E,P,k){d(E,P,k)&&g.push(E)}),g}function Fr(l,d,g,E,P){var k=-1,W=l.length;for(g||(g=L4),P||(P=[]);++k<W;){var q=l[k];d>0&&g(q)?d>1?Fr(q,d-1,g,E,P):Ka(P,q):E||(P[P.length]=q)}return P}var t_=HC(),gC=HC(!0);function xo(l,d){return l&&t_(l,d,Ar)}function n_(l,d){return l&&gC(l,d,Ar)}function Hm(l,d){return qa(d,function(g){return ra(l[g])})}function au(l,d){d=$a(d,l);for(var g=0,E=d.length;l!=null&&g<E;)l=l[bo(d[g++])];return g&&g==E?l:t}function vC(l,d,g){var E=d(l);return St(l)?E:Ka(E,g(l))}function di(l){return l==null?l===t?de:Le:ru&&ru in gn(l)?C4(l):U4(l)}function r_(l,d){return l>d}function XU(l,d){return l!=null&&sn.call(l,d)}function qU(l,d){return l!=null&&d in gn(l)}function KU(l,d,g){return l>=Kr(d,g)&&l<xr(d,g)}function i_(l,d,g){for(var E=g?Ux:wm,P=l[0].length,k=l.length,W=k,q=oe(k),ee=1/0,me=[];W--;){var ve=l[W];W&&d&&(ve=Rn(ve,qi(d))),ee=Kr(ve.length,ee),q[W]=!g&&(d||P>=120&&ve.length>=120)?new su(W&&ve):t}ve=l[0];var xe=-1,ze=q[0];e:for(;++xe<P&&me.length<ee;){var et=ve[xe],pt=d?d(et):et;if(et=g||et!==0?et:0,!(ze?Nf(ze,pt):E(me,pt,g))){for(W=k;--W;){var At=q[W];if(!(At?Nf(At,pt):E(l[W],pt,g)))continue e}ze&&ze.push(pt),me.push(et)}}return me}function YU(l,d,g,E){return xo(l,function(P,k,W){d(E,g(P),k,W)}),E}function Vf(l,d,g){d=$a(d,l),l=iA(l,d);var E=l==null?l:l[bo(Es(d))];return E==null?t:Xi(E,l,g)}function yC(l){return Gn(l)&&di(l)==ke}function ZU(l){return Gn(l)&&di(l)==Be}function JU(l){return Gn(l)&&di(l)==Ze}function Gf(l,d,g,E,P){return l===d?!0:l==null||d==null||!Gn(l)&&!Gn(d)?l!==l&&d!==d:QU(l,d,g,E,Gf,P)}function QU(l,d,g,E,P,k){var W=St(l),q=St(d),ee=W?ue:Yr(l),me=q?ue:Yr(d);ee=ee==ke?qe:ee,me=me==ke?qe:me;var ve=ee==qe,xe=me==qe,ze=ee==me;if(ze&&tl(l)){if(!tl(d))return!1;W=!0,ve=!1}if(ze&&!ve)return k||(k=new Vs),W||Ec(l)?JC(l,d,g,E,P,k):E4(l,d,ee,g,E,P,k);if(!(g&v)){var et=ve&&sn.call(l,"__wrapped__"),pt=xe&&sn.call(d,"__wrapped__");if(et||pt){var At=et?l.value():l,mt=pt?d.value():d;return k||(k=new Vs),P(At,mt,g,E,k)}}return ze?(k||(k=new Vs),T4(l,d,g,E,P,k)):!1}function $U(l){return Gn(l)&&Yr(l)==we}function s_(l,d,g,E){var P=g.length,k=P,W=!E;if(l==null)return!k;for(l=gn(l);P--;){var q=g[P];if(W&&q[2]?q[1]!==l[q[0]]:!(q[0]in l))return!1}for(;++P<k;){q=g[P];var ee=q[0],me=l[ee],ve=q[1];if(W&&q[2]){if(me===t&&!(ee in l))return!1}else{var xe=new Vs;if(E)var ze=E(me,ve,ee,l,d,xe);if(!(ze===t?Gf(ve,me,v|y,E,xe):ze))return!1}}return!0}function xC(l){if(!Nn(l)||N4(l))return!1;var d=ra(l)?$z:ut;return d.test(uu(l))}function e4(l){return Gn(l)&&di(l)==kt}function t4(l){return Gn(l)&&Yr(l)==_t}function n4(l){return Gn(l)&&ig(l.length)&&!!Sn[di(l)]}function _C(l){return typeof l=="function"?l:l==null?Ii:typeof l=="object"?St(l)?SC(l[0],l[1]):wC(l):WA(l)}function o_(l){if(!qf(l))return sU(l);var d=[];for(var g in gn(l))sn.call(l,g)&&g!="constructor"&&d.push(g);return d}function r4(l){if(!Nn(l))return z4(l);var d=qf(l),g=[];for(var E in l)E=="constructor"&&(d||!sn.call(l,E))||g.push(E);return g}function a_(l,d){return l<d}function bC(l,d){var g=-1,E=Pi(l)?oe(l.length):[];return Ja(l,function(P,k,W){E[++g]=d(P,k,W)}),E}function wC(l){var d=w_(l);return d.length==1&&d[0][2]?nA(d[0][0],d[0][1]):function(g){return g===l||s_(g,l,d)}}function SC(l,d){return M_(l)&&tA(d)?nA(bo(l),d):function(g){var E=k_(g,l);return E===t&&E===d?N_(g,l):Gf(d,E,v|y)}}function Wm(l,d,g,E,P){l!==d&&t_(d,function(k,W){if(P||(P=new Vs),Nn(k))i4(l,d,W,g,Wm,E,P);else{var q=E?E(T_(l,W),k,W+"",l,d,P):t;q===t&&(q=k),$x(l,W,q)}},Di)}function i4(l,d,g,E,P,k,W){var q=T_(l,g),ee=T_(d,g),me=W.get(ee);if(me){$x(l,g,me);return}var ve=k?k(q,ee,g+"",l,d,W):t,xe=ve===t;if(xe){var ze=St(ee),et=!ze&&tl(ee),pt=!ze&&!et&&Ec(ee);ve=ee,ze||et||pt?St(q)?ve=q:nr(q)?ve=Ri(q):et?(xe=!1,ve=NC(ee,!0)):pt?(xe=!1,ve=OC(ee,!0)):ve=[]:Yf(ee)||cu(ee)?(ve=q,cu(q)?ve=IA(q):(!Nn(q)||ra(q))&&(ve=eA(ee))):xe=!1}xe&&(W.set(ee,ve),P(ve,ee,E,k,W),W.delete(ee)),$x(l,g,ve)}function MC(l,d){var g=l.length;if(!!g)return d+=d<0?g:0,na(d,g)?l[d]:t}function EC(l,d,g){d.length?d=Rn(d,function(k){return St(k)?function(W){return au(W,k.length===1?k[0]:k)}:k}):d=[Ii];var E=-1;d=Rn(d,qi(dt()));var P=bC(l,function(k,W,q){var ee=Rn(d,function(me){return me(k)});return{criteria:ee,index:++E,value:k}});return Dz(P,function(k,W){return v4(k,W,g)})}function s4(l,d){return TC(l,d,function(g,E){return N_(l,E)})}function TC(l,d,g){for(var E=-1,P=d.length,k={};++E<P;){var W=d[E],q=au(l,W);g(q,W)&&jf(k,$a(W,l),q)}return k}function o4(l){return function(d){return au(d,l)}}function l_(l,d,g,E){var P=E?Pz:pc,k=-1,W=d.length,q=l;for(l===d&&(d=Ri(d)),g&&(q=Rn(l,qi(g)));++k<W;)for(var ee=0,me=d[k],ve=g?g(me):me;(ee=P(q,ve,ee,E))>-1;)q!==l&&Im.call(q,ee,1),Im.call(l,ee,1);return l}function CC(l,d){for(var g=l?d.length:0,E=g-1;g--;){var P=d[g];if(g==E||P!==k){var k=P;na(P)?Im.call(l,P,1):f_(l,P)}}return l}function u_(l,d){return l+Nm(aC()*(d-l+1))}function a4(l,d,g,E){for(var P=-1,k=xr(km((d-l)/(g||1)),0),W=oe(k);k--;)W[E?k:++P]=l,l+=g;return W}function c_(l,d){var g="";if(!l||d<1||d>V)return g;do d%2&&(g+=l),d=Nm(d/2),d&&(l+=l);while(d);return g}function Pt(l,d){return C_(rA(l,d,Ii),l+"")}function l4(l){return cC(Tc(l))}function u4(l,d){var g=Tc(l);return Qm(g,ou(d,0,g.length))}function jf(l,d,g,E){if(!Nn(l))return l;d=$a(d,l);for(var P=-1,k=d.length,W=k-1,q=l;q!=null&&++P<k;){var ee=bo(d[P]),me=g;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return l;if(P!=W){var ve=q[ee];me=E?E(ve,ee,q):t,me===t&&(me=Nn(ve)?ve:na(d[P+1])?[]:{})}Hf(q,ee,me),q=q[ee]}return l}var AC=Om?function(l,d){return Om.set(l,d),l}:Ii,c4=Lm?function(l,d){return Lm(l,"toString",{configurable:!0,enumerable:!1,value:B_(d),writable:!0})}:Ii;function d4(l){return Qm(Tc(l))}function Ms(l,d,g){var E=-1,P=l.length;d<0&&(d=-d>P?0:P+d),g=g>P?P:g,g<0&&(g+=P),P=d>g?0:g-d>>>0,d>>>=0;for(var k=oe(P);++E<P;)k[E]=l[E+d];return k}function f4(l,d){var g;return Ja(l,function(E,P,k){return g=d(E,P,k),!g}),!!g}function Vm(l,d,g){var E=0,P=l==null?E:l.length;if(typeof d=="number"&&d===d&&P<=be){for(;E<P;){var k=E+P>>>1,W=l[k];W!==null&&!Yi(W)&&(g?W<=d:W<d)?E=k+1:P=k}return P}return d_(l,d,Ii,g)}function d_(l,d,g,E){var P=0,k=l==null?0:l.length;if(k===0)return 0;d=g(d);for(var W=d!==d,q=d===null,ee=Yi(d),me=d===t;P<k;){var ve=Nm((P+k)/2),xe=g(l[ve]),ze=xe!==t,et=xe===null,pt=xe===xe,At=Yi(xe);if(W)var mt=E||pt;else me?mt=pt&&(E||ze):q?mt=pt&&ze&&(E||!et):ee?mt=pt&&ze&&!et&&(E||!At):et||At?mt=!1:mt=E?xe<=d:xe<d;mt?P=ve+1:k=ve}return Kr(k,le)}function RC(l,d){for(var g=-1,E=l.length,P=0,k=[];++g<E;){var W=l[g],q=d?d(W):W;if(!g||!Gs(q,ee)){var ee=q;k[P++]=W===0?0:W}}return k}function PC(l){return typeof l=="number"?l:Yi(l)?$:+l}function Ki(l){if(typeof l=="string")return l;if(St(l))return Rn(l,Ki)+"";if(Yi(l))return lC?lC.call(l):"";var d=l+"";return d=="0"&&1/l==-te?"-0":d}function Qa(l,d,g){var E=-1,P=wm,k=l.length,W=!0,q=[],ee=q;if(g)W=!1,P=Ux;else if(k>=i){var me=d?null:S4(l);if(me)return Mm(me);W=!1,P=Nf,ee=new su}else ee=d?[]:q;e:for(;++E<k;){var ve=l[E],xe=d?d(ve):ve;if(ve=g||ve!==0?ve:0,W&&xe===xe){for(var ze=ee.length;ze--;)if(ee[ze]===xe)continue e;d&&ee.push(xe),q.push(ve)}else P(ee,xe,g)||(ee!==q&&ee.push(xe),q.push(ve))}return q}function f_(l,d){return d=$a(d,l),l=iA(l,d),l==null||delete l[bo(Es(d))]}function DC(l,d,g,E){return jf(l,d,g(au(l,d)),E)}function Gm(l,d,g,E){for(var P=l.length,k=E?P:-1;(E?k--:++k<P)&&d(l[k],k,l););return g?Ms(l,E?0:k,E?k+1:P):Ms(l,E?k+1:0,E?P:k)}function IC(l,d){var g=l;return g instanceof Bt&&(g=g.value()),Hx(d,function(E,P){return P.func.apply(P.thisArg,Ka([E],P.args))},g)}function h_(l,d,g){var E=l.length;if(E<2)return E?Qa(l[0]):[];for(var P=-1,k=oe(E);++P<E;)for(var W=l[P],q=-1;++q<E;)q!=P&&(k[P]=Wf(k[P]||W,l[q],d,g));return Qa(Fr(k,1),d,g)}function LC(l,d,g){for(var E=-1,P=l.length,k=d.length,W={};++E<P;){var q=E<k?d[E]:t;g(W,l[E],q)}return W}function p_(l){return nr(l)?l:[]}function m_(l){return typeof l=="function"?l:Ii}function $a(l,d){return St(l)?l:M_(l,d)?[l]:lA(tn(l))}var h4=Pt;function el(l,d,g){var E=l.length;return g=g===t?E:g,!d&&g>=E?l:Ms(l,d,g)}var kC=eU||function(l){return Br.clearTimeout(l)};function NC(l,d){if(d)return l.slice();var g=l.length,E=nC?nC(g):new l.constructor(g);return l.copy(E),E}function g_(l){var d=new l.constructor(l.byteLength);return new Pm(d).set(new Pm(l)),d}function p4(l,d){var g=d?g_(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function m4(l){var d=new l.constructor(l.source,ye.exec(l));return d.lastIndex=l.lastIndex,d}function g4(l){return Uf?gn(Uf.call(l)):{}}function OC(l,d){var g=d?g_(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function BC(l,d){if(l!==d){var g=l!==t,E=l===null,P=l===l,k=Yi(l),W=d!==t,q=d===null,ee=d===d,me=Yi(d);if(!q&&!me&&!k&&l>d||k&&W&&ee&&!q&&!me||E&&W&&ee||!g&&ee||!P)return 1;if(!E&&!k&&!me&&l<d||me&&g&&P&&!E&&!k||q&&g&&P||!W&&P||!ee)return-1}return 0}function v4(l,d,g){for(var E=-1,P=l.criteria,k=d.criteria,W=P.length,q=g.length;++E<W;){var ee=BC(P[E],k[E]);if(ee){if(E>=q)return ee;var me=g[E];return ee*(me=="desc"?-1:1)}}return l.index-d.index}function FC(l,d,g,E){for(var P=-1,k=l.length,W=g.length,q=-1,ee=d.length,me=xr(k-W,0),ve=oe(ee+me),xe=!E;++q<ee;)ve[q]=d[q];for(;++P<W;)(xe||P<k)&&(ve[g[P]]=l[P]);for(;me--;)ve[q++]=l[P++];return ve}function zC(l,d,g,E){for(var P=-1,k=l.length,W=-1,q=g.length,ee=-1,me=d.length,ve=xr(k-q,0),xe=oe(ve+me),ze=!E;++P<ve;)xe[P]=l[P];for(var et=P;++ee<me;)xe[et+ee]=d[ee];for(;++W<q;)(ze||P<k)&&(xe[et+g[W]]=l[P++]);return xe}function Ri(l,d){var g=-1,E=l.length;for(d||(d=oe(E));++g<E;)d[g]=l[g];return d}function _o(l,d,g,E){var P=!g;g||(g={});for(var k=-1,W=d.length;++k<W;){var q=d[k],ee=E?E(g[q],l[q],q,g,l):t;ee===t&&(ee=l[q]),P?$o(g,q,ee):Hf(g,q,ee)}return g}function y4(l,d){return _o(l,S_(l),d)}function x4(l,d){return _o(l,QC(l),d)}function jm(l,d){return function(g,E){var P=St(g)?Mz:HU,k=d?d():{};return P(g,l,dt(E,2),k)}}function wc(l){return Pt(function(d,g){var E=-1,P=g.length,k=P>1?g[P-1]:t,W=P>2?g[2]:t;for(k=l.length>3&&typeof k=="function"?(P--,k):t,W&&fi(g[0],g[1],W)&&(k=P<3?t:k,P=1),d=gn(d);++E<P;){var q=g[E];q&&l(d,q,E,k)}return d})}function UC(l,d){return function(g,E){if(g==null)return g;if(!Pi(g))return l(g,E);for(var P=g.length,k=d?P:-1,W=gn(g);(d?k--:++k<P)&&E(W[k],k,W)!==!1;);return g}}function HC(l){return function(d,g,E){for(var P=-1,k=gn(d),W=E(d),q=W.length;q--;){var ee=W[l?q:++P];if(g(k[ee],ee,k)===!1)break}return d}}function _4(l,d,g){var E=d&x,P=Xf(l);function k(){var W=this&&this!==Br&&this instanceof k?P:l;return W.apply(E?g:this,arguments)}return k}function WC(l){return function(d){d=tn(d);var g=mc(d)?Ws(d):t,E=g?g[0]:d.charAt(0),P=g?el(g,1).join(""):d.slice(1);return E[l]()+P}}function Sc(l){return function(d){return Hx(UA(zA(d).replace(cz,"")),l,"")}}function Xf(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=bc(l.prototype),E=l.apply(g,d);return Nn(E)?E:g}}function b4(l,d,g){var E=Xf(l);function P(){for(var k=arguments.length,W=oe(k),q=k,ee=Mc(P);q--;)W[q]=arguments[q];var me=k<3&&W[0]!==ee&&W[k-1]!==ee?[]:Ya(W,ee);if(k-=me.length,k<g)return qC(l,d,Xm,P.placeholder,t,W,me,t,t,g-k);var ve=this&&this!==Br&&this instanceof P?E:l;return Xi(ve,this,W)}return P}function VC(l){return function(d,g,E){var P=gn(d);if(!Pi(d)){var k=dt(g,3);d=Ar(d),g=function(q){return k(P[q],q,P)}}var W=l(d,g,E);return W>-1?P[k?d[W]:W]:t}}function GC(l){return ta(function(d){var g=d.length,E=g,P=ws.prototype.thru;for(l&&d.reverse();E--;){var k=d[E];if(typeof k!="function")throw new bs(o);if(P&&!W&&Zm(k)=="wrapper")var W=new ws([],!0)}for(E=W?E:g;++E<g;){k=d[E];var q=Zm(k),ee=q=="wrapper"?b_(k):t;ee&&E_(ee[0])&&ee[1]==(A|_|M|T)&&!ee[4].length&&ee[9]==1?W=W[Zm(ee[0])].apply(W,ee[3]):W=k.length==1&&E_(k)?W[q]():W.thru(k)}return function(){var me=arguments,ve=me[0];if(W&&me.length==1&&St(ve))return W.plant(ve).value();for(var xe=0,ze=g?d[xe].apply(this,me):ve;++xe<g;)ze=d[xe].call(this,ze);return ze}})}function Xm(l,d,g,E,P,k,W,q,ee,me){var ve=d&A,xe=d&x,ze=d&w,et=d&(_|S),pt=d&R,At=ze?t:Xf(l);function mt(){for(var Nt=arguments.length,Ut=oe(Nt),Zi=Nt;Zi--;)Ut[Zi]=arguments[Zi];if(et)var hi=Mc(mt),Ji=Lz(Ut,hi);if(E&&(Ut=FC(Ut,E,P,et)),k&&(Ut=zC(Ut,k,W,et)),Nt-=Ji,et&&Nt<me){var rr=Ya(Ut,hi);return qC(l,d,Xm,mt.placeholder,g,Ut,rr,q,ee,me-Nt)}var js=xe?g:this,sa=ze?js[l]:l;return Nt=Ut.length,q?Ut=H4(Ut,q):pt&&Nt>1&&Ut.reverse(),ve&&ee<Nt&&(Ut.length=ee),this&&this!==Br&&this instanceof mt&&(sa=At||Xf(sa)),sa.apply(js,Ut)}return mt}function jC(l,d){return function(g,E){return YU(g,l,d(E),{})}}function qm(l,d){return function(g,E){var P;if(g===t&&E===t)return d;if(g!==t&&(P=g),E!==t){if(P===t)return E;typeof g=="string"||typeof E=="string"?(g=Ki(g),E=Ki(E)):(g=PC(g),E=PC(E)),P=l(g,E)}return P}}function v_(l){return ta(function(d){return d=Rn(d,qi(dt())),Pt(function(g){var E=this;return l(d,function(P){return Xi(P,E,g)})})})}function Km(l,d){d=d===t?" ":Ki(d);var g=d.length;if(g<2)return g?c_(d,l):d;var E=c_(d,km(l/gc(d)));return mc(d)?el(Ws(E),0,l).join(""):E.slice(0,l)}function w4(l,d,g,E){var P=d&x,k=Xf(l);function W(){for(var q=-1,ee=arguments.length,me=-1,ve=E.length,xe=oe(ve+ee),ze=this&&this!==Br&&this instanceof W?k:l;++me<ve;)xe[me]=E[me];for(;ee--;)xe[me++]=arguments[++q];return Xi(ze,P?g:this,xe)}return W}function XC(l){return function(d,g,E){return E&&typeof E!="number"&&fi(d,g,E)&&(g=E=t),d=ia(d),g===t?(g=d,d=0):g=ia(g),E=E===t?d<g?1:-1:ia(E),a4(d,g,E,l)}}function Ym(l){return function(d,g){return typeof d=="string"&&typeof g=="string"||(d=Ts(d),g=Ts(g)),l(d,g)}}function qC(l,d,g,E,P,k,W,q,ee,me){var ve=d&_,xe=ve?W:t,ze=ve?t:W,et=ve?k:t,pt=ve?t:k;d|=ve?M:C,d&=~(ve?C:M),d&b||(d&=~(x|w));var At=[l,d,P,et,xe,pt,ze,q,ee,me],mt=g.apply(t,At);return E_(l)&&sA(mt,At),mt.placeholder=E,oA(mt,l,d)}function y_(l){var d=yr[l];return function(g,E){if(g=Ts(g),E=E==null?0:Kr(Tt(E),292),E&&oC(g)){var P=(tn(g)+"e").split("e"),k=d(P[0]+"e"+(+P[1]+E));return P=(tn(k)+"e").split("e"),+(P[0]+"e"+(+P[1]-E))}return d(g)}}var S4=xc&&1/Mm(new xc([,-0]))[1]==te?function(l){return new xc(l)}:U_;function KC(l){return function(d){var g=Yr(d);return g==we?Kx(d):g==_t?Uz(d):Iz(d,l(d))}}function ea(l,d,g,E,P,k,W,q){var ee=d&w;if(!ee&&typeof l!="function")throw new bs(o);var me=E?E.length:0;if(me||(d&=~(M|C),E=P=t),W=W===t?W:xr(Tt(W),0),q=q===t?q:Tt(q),me-=P?P.length:0,d&C){var ve=E,xe=P;E=P=t}var ze=ee?t:b_(l),et=[l,d,g,E,P,ve,xe,k,W,q];if(ze&&F4(et,ze),l=et[0],d=et[1],g=et[2],E=et[3],P=et[4],q=et[9]=et[9]===t?ee?0:l.length:xr(et[9]-me,0),!q&&d&(_|S)&&(d&=~(_|S)),!d||d==x)var pt=_4(l,d,g);else d==_||d==S?pt=b4(l,d,q):(d==M||d==(x|M))&&!P.length?pt=w4(l,d,g,E):pt=Xm.apply(t,et);var At=ze?AC:sA;return oA(At(pt,et),l,d)}function YC(l,d,g,E){return l===t||Gs(l,yc[g])&&!sn.call(E,g)?d:l}function ZC(l,d,g,E,P,k){return Nn(l)&&Nn(d)&&(k.set(d,l),Wm(l,d,t,ZC,k),k.delete(d)),l}function M4(l){return Yf(l)?t:l}function JC(l,d,g,E,P,k){var W=g&v,q=l.length,ee=d.length;if(q!=ee&&!(W&&ee>q))return!1;var me=k.get(l),ve=k.get(d);if(me&&ve)return me==d&&ve==l;var xe=-1,ze=!0,et=g&y?new su:t;for(k.set(l,d),k.set(d,l);++xe<q;){var pt=l[xe],At=d[xe];if(E)var mt=W?E(At,pt,xe,d,l,k):E(pt,At,xe,l,d,k);if(mt!==t){if(mt)continue;ze=!1;break}if(et){if(!Wx(d,function(Nt,Ut){if(!Nf(et,Ut)&&(pt===Nt||P(pt,Nt,g,E,k)))return et.push(Ut)})){ze=!1;break}}else if(!(pt===At||P(pt,At,g,E,k))){ze=!1;break}}return k.delete(l),k.delete(d),ze}function E4(l,d,g,E,P,k,W){switch(g){case Je:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case Be:return!(l.byteLength!=d.byteLength||!k(new Pm(l),new Pm(d)));case Ve:case Ze:case We:return Gs(+l,+d);case st:return l.name==d.name&&l.message==d.message;case kt:case H:return l==d+"";case we:var q=Kx;case _t:var ee=E&v;if(q||(q=Mm),l.size!=d.size&&!ee)return!1;var me=W.get(l);if(me)return me==d;E|=y,W.set(l,d);var ve=JC(q(l),q(d),E,P,k,W);return W.delete(l),ve;case N:if(Uf)return Uf.call(l)==Uf.call(d)}return!1}function T4(l,d,g,E,P,k){var W=g&v,q=x_(l),ee=q.length,me=x_(d),ve=me.length;if(ee!=ve&&!W)return!1;for(var xe=ee;xe--;){var ze=q[xe];if(!(W?ze in d:sn.call(d,ze)))return!1}var et=k.get(l),pt=k.get(d);if(et&&pt)return et==d&&pt==l;var At=!0;k.set(l,d),k.set(d,l);for(var mt=W;++xe<ee;){ze=q[xe];var Nt=l[ze],Ut=d[ze];if(E)var Zi=W?E(Ut,Nt,ze,d,l,k):E(Nt,Ut,ze,l,d,k);if(!(Zi===t?Nt===Ut||P(Nt,Ut,g,E,k):Zi)){At=!1;break}mt||(mt=ze=="constructor")}if(At&&!mt){var hi=l.constructor,Ji=d.constructor;hi!=Ji&&"constructor"in l&&"constructor"in d&&!(typeof hi=="function"&&hi instanceof hi&&typeof Ji=="function"&&Ji instanceof Ji)&&(At=!1)}return k.delete(l),k.delete(d),At}function ta(l){return C_(rA(l,t,fA),l+"")}function x_(l){return vC(l,Ar,S_)}function __(l){return vC(l,Di,QC)}var b_=Om?function(l){return Om.get(l)}:U_;function Zm(l){for(var d=l.name+"",g=_c[d],E=sn.call(_c,d)?g.length:0;E--;){var P=g[E],k=P.func;if(k==null||k==l)return P.name}return d}function Mc(l){var d=sn.call(I,"placeholder")?I:l;return d.placeholder}function dt(){var l=I.iteratee||F_;return l=l===F_?_C:l,arguments.length?l(arguments[0],arguments[1]):l}function Jm(l,d){var g=l.__data__;return k4(d)?g[typeof d=="string"?"string":"hash"]:g.map}function w_(l){for(var d=Ar(l),g=d.length;g--;){var E=d[g],P=l[E];d[g]=[E,P,tA(P)]}return d}function lu(l,d){var g=Bz(l,d);return xC(g)?g:t}function C4(l){var d=sn.call(l,ru),g=l[ru];try{l[ru]=t;var E=!0}catch{}var P=Am.call(l);return E&&(d?l[ru]=g:delete l[ru]),P}var S_=Zx?function(l){return l==null?[]:(l=gn(l),qa(Zx(l),function(d){return iC.call(l,d)}))}:H_,QC=Zx?function(l){for(var d=[];l;)Ka(d,S_(l)),l=Dm(l);return d}:H_,Yr=di;(Jx&&Yr(new Jx(new ArrayBuffer(1)))!=Je||Bf&&Yr(new Bf)!=we||Qx&&Yr(Qx.resolve())!=ot||xc&&Yr(new xc)!=_t||Ff&&Yr(new Ff)!=_e)&&(Yr=function(l){var d=di(l),g=d==qe?l.constructor:t,E=g?uu(g):"";if(E)switch(E){case uU:return Je;case cU:return we;case dU:return ot;case fU:return _t;case hU:return _e}return d});function A4(l,d,g){for(var E=-1,P=g.length;++E<P;){var k=g[E],W=k.size;switch(k.type){case"drop":l+=W;break;case"dropRight":d-=W;break;case"take":d=Kr(d,l+W);break;case"takeRight":l=xr(l,d-W);break}}return{start:l,end:d}}function R4(l){var d=l.match(se);return d?d[1].split(ge):[]}function $C(l,d,g){d=$a(d,l);for(var E=-1,P=d.length,k=!1;++E<P;){var W=bo(d[E]);if(!(k=l!=null&&g(l,W)))break;l=l[W]}return k||++E!=P?k:(P=l==null?0:l.length,!!P&&ig(P)&&na(W,P)&&(St(l)||cu(l)))}function P4(l){var d=l.length,g=new l.constructor(d);return d&&typeof l[0]=="string"&&sn.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function eA(l){return typeof l.constructor=="function"&&!qf(l)?bc(Dm(l)):{}}function D4(l,d,g){var E=l.constructor;switch(d){case Be:return g_(l);case Ve:case Ze:return new E(+l);case Je:return p4(l,g);case F:case Me:case Xe:case Pe:case X:case Ae:case Ce:case at:case Oe:return OC(l,g);case we:return new E;case We:case H:return new E(l);case kt:return m4(l);case _t:return new E;case N:return g4(l)}}function I4(l,d){var g=d.length;if(!g)return l;var E=g-1;return d[E]=(g>1?"& ":"")+d[E],d=d.join(g>2?", ":" "),l.replace(ce,`{
/* [wrapped with `+d+`] */
`)}function L4(l){return St(l)||cu(l)||!!(sC&&l&&l[sC])}function na(l,d){var g=typeof l;return d=d==null?V:d,!!d&&(g=="number"||g!="symbol"&&kn.test(l))&&l>-1&&l%1==0&&l<d}function fi(l,d,g){if(!Nn(g))return!1;var E=typeof d;return(E=="number"?Pi(g)&&na(d,g.length):E=="string"&&d in g)?Gs(g[d],l):!1}function M_(l,d){if(St(l))return!1;var g=typeof l;return g=="number"||g=="symbol"||g=="boolean"||l==null||Yi(l)?!0:fc.test(l)||!ja.test(l)||d!=null&&l in gn(d)}function k4(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function E_(l){var d=Zm(l),g=I[d];if(typeof g!="function"||!(d in Bt.prototype))return!1;if(l===g)return!0;var E=b_(g);return!!E&&l===E[0]}function N4(l){return!!tC&&tC in l}var O4=Tm?ra:W_;function qf(l){var d=l&&l.constructor,g=typeof d=="function"&&d.prototype||yc;return l===g}function tA(l){return l===l&&!Nn(l)}function nA(l,d){return function(g){return g==null?!1:g[l]===d&&(d!==t||l in gn(g))}}function B4(l){var d=ng(l,function(E){return g.size===c&&g.clear(),E}),g=d.cache;return d}function F4(l,d){var g=l[1],E=d[1],P=g|E,k=P<(x|w|A),W=E==A&&g==_||E==A&&g==T&&l[7].length<=d[8]||E==(A|T)&&d[7].length<=d[8]&&g==_;if(!(k||W))return l;E&x&&(l[2]=d[2],P|=g&x?0:b);var q=d[3];if(q){var ee=l[3];l[3]=ee?FC(ee,q,d[4]):q,l[4]=ee?Ya(l[3],f):d[4]}return q=d[5],q&&(ee=l[5],l[5]=ee?zC(ee,q,d[6]):q,l[6]=ee?Ya(l[5],f):d[6]),q=d[7],q&&(l[7]=q),E&A&&(l[8]=l[8]==null?d[8]:Kr(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=P,l}function z4(l){var d=[];if(l!=null)for(var g in gn(l))d.push(g);return d}function U4(l){return Am.call(l)}function rA(l,d,g){return d=xr(d===t?l.length-1:d,0),function(){for(var E=arguments,P=-1,k=xr(E.length-d,0),W=oe(k);++P<k;)W[P]=E[d+P];P=-1;for(var q=oe(d+1);++P<d;)q[P]=E[P];return q[d]=g(W),Xi(l,this,q)}}function iA(l,d){return d.length<2?l:au(l,Ms(d,0,-1))}function H4(l,d){for(var g=l.length,E=Kr(d.length,g),P=Ri(l);E--;){var k=d[E];l[E]=na(k,g)?P[k]:t}return l}function T_(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var sA=aA(AC),Kf=nU||function(l,d){return Br.setTimeout(l,d)},C_=aA(c4);function oA(l,d,g){var E=d+"";return C_(l,I4(E,W4(R4(E),g)))}function aA(l){var d=0,g=0;return function(){var E=oU(),P=ie-(E-g);if(g=E,P>0){if(++d>=Y)return arguments[0]}else d=0;return l.apply(t,arguments)}}function Qm(l,d){var g=-1,E=l.length,P=E-1;for(d=d===t?E:d;++g<d;){var k=u_(g,P),W=l[k];l[k]=l[g],l[g]=W}return l.length=d,l}var lA=B4(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(kf,function(g,E,P,k){d.push(P?k.replace(Et,"$1"):E||g)}),d});function bo(l){if(typeof l=="string"||Yi(l))return l;var d=l+"";return d=="0"&&1/l==-te?"-0":d}function uu(l){if(l!=null){try{return Cm.call(l)}catch{}try{return l+""}catch{}}return""}function W4(l,d){return _s(Te,function(g){var E="_."+g[0];d&g[1]&&!wm(l,E)&&l.push(E)}),l.sort()}function uA(l){if(l instanceof Bt)return l.clone();var d=new ws(l.__wrapped__,l.__chain__);return d.__actions__=Ri(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function V4(l,d,g){(g?fi(l,d,g):d===t)?d=1:d=xr(Tt(d),0);var E=l==null?0:l.length;if(!E||d<1)return[];for(var P=0,k=0,W=oe(km(E/d));P<E;)W[k++]=Ms(l,P,P+=d);return W}function G4(l){for(var d=-1,g=l==null?0:l.length,E=0,P=[];++d<g;){var k=l[d];k&&(P[E++]=k)}return P}function j4(){var l=arguments.length;if(!l)return[];for(var d=oe(l-1),g=arguments[0],E=l;E--;)d[E-1]=arguments[E];return Ka(St(g)?Ri(g):[g],Fr(d,1))}var X4=Pt(function(l,d){return nr(l)?Wf(l,Fr(d,1,nr,!0)):[]}),q4=Pt(function(l,d){var g=Es(d);return nr(g)&&(g=t),nr(l)?Wf(l,Fr(d,1,nr,!0),dt(g,2)):[]}),K4=Pt(function(l,d){var g=Es(d);return nr(g)&&(g=t),nr(l)?Wf(l,Fr(d,1,nr,!0),t,g):[]});function Y4(l,d,g){var E=l==null?0:l.length;return E?(d=g||d===t?1:Tt(d),Ms(l,d<0?0:d,E)):[]}function Z4(l,d,g){var E=l==null?0:l.length;return E?(d=g||d===t?1:Tt(d),d=E-d,Ms(l,0,d<0?0:d)):[]}function J4(l,d){return l&&l.length?Gm(l,dt(d,3),!0,!0):[]}function Q4(l,d){return l&&l.length?Gm(l,dt(d,3),!0):[]}function $4(l,d,g,E){var P=l==null?0:l.length;return P?(g&&typeof g!="number"&&fi(l,d,g)&&(g=0,E=P),jU(l,d,g,E)):[]}function cA(l,d,g){var E=l==null?0:l.length;if(!E)return-1;var P=g==null?0:Tt(g);return P<0&&(P=xr(E+P,0)),Sm(l,dt(d,3),P)}function dA(l,d,g){var E=l==null?0:l.length;if(!E)return-1;var P=E-1;return g!==t&&(P=Tt(g),P=g<0?xr(E+P,0):Kr(P,E-1)),Sm(l,dt(d,3),P,!0)}function fA(l){var d=l==null?0:l.length;return d?Fr(l,1):[]}function eH(l){var d=l==null?0:l.length;return d?Fr(l,te):[]}function tH(l,d){var g=l==null?0:l.length;return g?(d=d===t?1:Tt(d),Fr(l,d)):[]}function nH(l){for(var d=-1,g=l==null?0:l.length,E={};++d<g;){var P=l[d];E[P[0]]=P[1]}return E}function hA(l){return l&&l.length?l[0]:t}function rH(l,d,g){var E=l==null?0:l.length;if(!E)return-1;var P=g==null?0:Tt(g);return P<0&&(P=xr(E+P,0)),pc(l,d,P)}function iH(l){var d=l==null?0:l.length;return d?Ms(l,0,-1):[]}var sH=Pt(function(l){var d=Rn(l,p_);return d.length&&d[0]===l[0]?i_(d):[]}),oH=Pt(function(l){var d=Es(l),g=Rn(l,p_);return d===Es(g)?d=t:g.pop(),g.length&&g[0]===l[0]?i_(g,dt(d,2)):[]}),aH=Pt(function(l){var d=Es(l),g=Rn(l,p_);return d=typeof d=="function"?d:t,d&&g.pop(),g.length&&g[0]===l[0]?i_(g,t,d):[]});function lH(l,d){return l==null?"":iU.call(l,d)}function Es(l){var d=l==null?0:l.length;return d?l[d-1]:t}function uH(l,d,g){var E=l==null?0:l.length;if(!E)return-1;var P=E;return g!==t&&(P=Tt(g),P=P<0?xr(E+P,0):Kr(P,E-1)),d===d?Wz(l,d,P):Sm(l,qT,P,!0)}function cH(l,d){return l&&l.length?MC(l,Tt(d)):t}var dH=Pt(pA);function pA(l,d){return l&&l.length&&d&&d.length?l_(l,d):l}function fH(l,d,g){return l&&l.length&&d&&d.length?l_(l,d,dt(g,2)):l}function hH(l,d,g){return l&&l.length&&d&&d.length?l_(l,d,t,g):l}var pH=ta(function(l,d){var g=l==null?0:l.length,E=e_(l,d);return CC(l,Rn(d,function(P){return na(P,g)?+P:P}).sort(BC)),E});function mH(l,d){var g=[];if(!(l&&l.length))return g;var E=-1,P=[],k=l.length;for(d=dt(d,3);++E<k;){var W=l[E];d(W,E,l)&&(g.push(W),P.push(E))}return CC(l,P),g}function A_(l){return l==null?l:lU.call(l)}function gH(l,d,g){var E=l==null?0:l.length;return E?(g&&typeof g!="number"&&fi(l,d,g)?(d=0,g=E):(d=d==null?0:Tt(d),g=g===t?E:Tt(g)),Ms(l,d,g)):[]}function vH(l,d){return Vm(l,d)}function yH(l,d,g){return d_(l,d,dt(g,2))}function xH(l,d){var g=l==null?0:l.length;if(g){var E=Vm(l,d);if(E<g&&Gs(l[E],d))return E}return-1}function _H(l,d){return Vm(l,d,!0)}function bH(l,d,g){return d_(l,d,dt(g,2),!0)}function wH(l,d){var g=l==null?0:l.length;if(g){var E=Vm(l,d,!0)-1;if(Gs(l[E],d))return E}return-1}function SH(l){return l&&l.length?RC(l):[]}function MH(l,d){return l&&l.length?RC(l,dt(d,2)):[]}function EH(l){var d=l==null?0:l.length;return d?Ms(l,1,d):[]}function TH(l,d,g){return l&&l.length?(d=g||d===t?1:Tt(d),Ms(l,0,d<0?0:d)):[]}function CH(l,d,g){var E=l==null?0:l.length;return E?(d=g||d===t?1:Tt(d),d=E-d,Ms(l,d<0?0:d,E)):[]}function AH(l,d){return l&&l.length?Gm(l,dt(d,3),!1,!0):[]}function RH(l,d){return l&&l.length?Gm(l,dt(d,3)):[]}var PH=Pt(function(l){return Qa(Fr(l,1,nr,!0))}),DH=Pt(function(l){var d=Es(l);return nr(d)&&(d=t),Qa(Fr(l,1,nr,!0),dt(d,2))}),IH=Pt(function(l){var d=Es(l);return d=typeof d=="function"?d:t,Qa(Fr(l,1,nr,!0),t,d)});function LH(l){return l&&l.length?Qa(l):[]}function kH(l,d){return l&&l.length?Qa(l,dt(d,2)):[]}function NH(l,d){return d=typeof d=="function"?d:t,l&&l.length?Qa(l,t,d):[]}function R_(l){if(!(l&&l.length))return[];var d=0;return l=qa(l,function(g){if(nr(g))return d=xr(g.length,d),!0}),Xx(d,function(g){return Rn(l,Vx(g))})}function mA(l,d){if(!(l&&l.length))return[];var g=R_(l);return d==null?g:Rn(g,function(E){return Xi(d,t,E)})}var OH=Pt(function(l,d){return nr(l)?Wf(l,d):[]}),BH=Pt(function(l){return h_(qa(l,nr))}),FH=Pt(function(l){var d=Es(l);return nr(d)&&(d=t),h_(qa(l,nr),dt(d,2))}),zH=Pt(function(l){var d=Es(l);return d=typeof d=="function"?d:t,h_(qa(l,nr),t,d)}),UH=Pt(R_);function HH(l,d){return LC(l||[],d||[],Hf)}function WH(l,d){return LC(l||[],d||[],jf)}var VH=Pt(function(l){var d=l.length,g=d>1?l[d-1]:t;return g=typeof g=="function"?(l.pop(),g):t,mA(l,g)});function gA(l){var d=I(l);return d.__chain__=!0,d}function GH(l,d){return d(l),l}function $m(l,d){return d(l)}var jH=ta(function(l){var d=l.length,g=d?l[0]:0,E=this.__wrapped__,P=function(k){return e_(k,l)};return d>1||this.__actions__.length||!(E instanceof Bt)||!na(g)?this.thru(P):(E=E.slice(g,+g+(d?1:0)),E.__actions__.push({func:$m,args:[P],thisArg:t}),new ws(E,this.__chain__).thru(function(k){return d&&!k.length&&k.push(t),k}))});function XH(){return gA(this)}function qH(){return new ws(this.value(),this.__chain__)}function KH(){this.__values__===t&&(this.__values__=PA(this.value()));var l=this.__index__>=this.__values__.length,d=l?t:this.__values__[this.__index__++];return{done:l,value:d}}function YH(){return this}function ZH(l){for(var d,g=this;g instanceof Fm;){var E=uA(g);E.__index__=0,E.__values__=t,d?P.__wrapped__=E:d=E;var P=E;g=g.__wrapped__}return P.__wrapped__=l,d}function JH(){var l=this.__wrapped__;if(l instanceof Bt){var d=l;return this.__actions__.length&&(d=new Bt(this)),d=d.reverse(),d.__actions__.push({func:$m,args:[A_],thisArg:t}),new ws(d,this.__chain__)}return this.thru(A_)}function QH(){return IC(this.__wrapped__,this.__actions__)}var $H=jm(function(l,d,g){sn.call(l,g)?++l[g]:$o(l,g,1)});function e5(l,d,g){var E=St(l)?jT:GU;return g&&fi(l,d,g)&&(d=t),E(l,dt(d,3))}function t5(l,d){var g=St(l)?qa:mC;return g(l,dt(d,3))}var n5=VC(cA),r5=VC(dA);function i5(l,d){return Fr(eg(l,d),1)}function s5(l,d){return Fr(eg(l,d),te)}function o5(l,d,g){return g=g===t?1:Tt(g),Fr(eg(l,d),g)}function vA(l,d){var g=St(l)?_s:Ja;return g(l,dt(d,3))}function yA(l,d){var g=St(l)?Ez:pC;return g(l,dt(d,3))}var a5=jm(function(l,d,g){sn.call(l,g)?l[g].push(d):$o(l,g,[d])});function l5(l,d,g,E){l=Pi(l)?l:Tc(l),g=g&&!E?Tt(g):0;var P=l.length;return g<0&&(g=xr(P+g,0)),sg(l)?g<=P&&l.indexOf(d,g)>-1:!!P&&pc(l,d,g)>-1}var u5=Pt(function(l,d,g){var E=-1,P=typeof d=="function",k=Pi(l)?oe(l.length):[];return Ja(l,function(W){k[++E]=P?Xi(d,W,g):Vf(W,d,g)}),k}),c5=jm(function(l,d,g){$o(l,g,d)});function eg(l,d){var g=St(l)?Rn:bC;return g(l,dt(d,3))}function d5(l,d,g,E){return l==null?[]:(St(d)||(d=d==null?[]:[d]),g=E?t:g,St(g)||(g=g==null?[]:[g]),EC(l,d,g))}var f5=jm(function(l,d,g){l[g?0:1].push(d)},function(){return[[],[]]});function h5(l,d,g){var E=St(l)?Hx:YT,P=arguments.length<3;return E(l,dt(d,4),g,P,Ja)}function p5(l,d,g){var E=St(l)?Tz:YT,P=arguments.length<3;return E(l,dt(d,4),g,P,pC)}function m5(l,d){var g=St(l)?qa:mC;return g(l,rg(dt(d,3)))}function g5(l){var d=St(l)?cC:l4;return d(l)}function v5(l,d,g){(g?fi(l,d,g):d===t)?d=1:d=Tt(d);var E=St(l)?zU:u4;return E(l,d)}function y5(l){var d=St(l)?UU:d4;return d(l)}function x5(l){if(l==null)return 0;if(Pi(l))return sg(l)?gc(l):l.length;var d=Yr(l);return d==we||d==_t?l.size:o_(l).length}function _5(l,d,g){var E=St(l)?Wx:f4;return g&&fi(l,d,g)&&(d=t),E(l,dt(d,3))}var b5=Pt(function(l,d){if(l==null)return[];var g=d.length;return g>1&&fi(l,d[0],d[1])?d=[]:g>2&&fi(d[0],d[1],d[2])&&(d=[d[0]]),EC(l,Fr(d,1),[])}),tg=tU||function(){return Br.Date.now()};function w5(l,d){if(typeof d!="function")throw new bs(o);return l=Tt(l),function(){if(--l<1)return d.apply(this,arguments)}}function xA(l,d,g){return d=g?t:d,d=l&&d==null?l.length:d,ea(l,A,t,t,t,t,d)}function _A(l,d){var g;if(typeof d!="function")throw new bs(o);return l=Tt(l),function(){return--l>0&&(g=d.apply(this,arguments)),l<=1&&(d=t),g}}var P_=Pt(function(l,d,g){var E=x;if(g.length){var P=Ya(g,Mc(P_));E|=M}return ea(l,E,d,g,P)}),bA=Pt(function(l,d,g){var E=x|w;if(g.length){var P=Ya(g,Mc(bA));E|=M}return ea(d,E,l,g,P)});function wA(l,d,g){d=g?t:d;var E=ea(l,_,t,t,t,t,t,d);return E.placeholder=wA.placeholder,E}function SA(l,d,g){d=g?t:d;var E=ea(l,S,t,t,t,t,t,d);return E.placeholder=SA.placeholder,E}function MA(l,d,g){var E,P,k,W,q,ee,me=0,ve=!1,xe=!1,ze=!0;if(typeof l!="function")throw new bs(o);d=Ts(d)||0,Nn(g)&&(ve=!!g.leading,xe="maxWait"in g,k=xe?xr(Ts(g.maxWait)||0,d):k,ze="trailing"in g?!!g.trailing:ze);function et(rr){var js=E,sa=P;return E=P=t,me=rr,W=l.apply(sa,js),W}function pt(rr){return me=rr,q=Kf(Nt,d),ve?et(rr):W}function At(rr){var js=rr-ee,sa=rr-me,VA=d-js;return xe?Kr(VA,k-sa):VA}function mt(rr){var js=rr-ee,sa=rr-me;return ee===t||js>=d||js<0||xe&&sa>=k}function Nt(){var rr=tg();if(mt(rr))return Ut(rr);q=Kf(Nt,At(rr))}function Ut(rr){return q=t,ze&&E?et(rr):(E=P=t,W)}function Zi(){q!==t&&kC(q),me=0,E=ee=P=q=t}function hi(){return q===t?W:Ut(tg())}function Ji(){var rr=tg(),js=mt(rr);if(E=arguments,P=this,ee=rr,js){if(q===t)return pt(ee);if(xe)return kC(q),q=Kf(Nt,d),et(ee)}return q===t&&(q=Kf(Nt,d)),W}return Ji.cancel=Zi,Ji.flush=hi,Ji}var S5=Pt(function(l,d){return hC(l,1,d)}),M5=Pt(function(l,d,g){return hC(l,Ts(d)||0,g)});function E5(l){return ea(l,R)}function ng(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new bs(o);var g=function(){var E=arguments,P=d?d.apply(this,E):E[0],k=g.cache;if(k.has(P))return k.get(P);var W=l.apply(this,E);return g.cache=k.set(P,W)||k,W};return g.cache=new(ng.Cache||Qo),g}ng.Cache=Qo;function rg(l){if(typeof l!="function")throw new bs(o);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function T5(l){return _A(2,l)}var C5=h4(function(l,d){d=d.length==1&&St(d[0])?Rn(d[0],qi(dt())):Rn(Fr(d,1),qi(dt()));var g=d.length;return Pt(function(E){for(var P=-1,k=Kr(E.length,g);++P<k;)E[P]=d[P].call(this,E[P]);return Xi(l,this,E)})}),D_=Pt(function(l,d){var g=Ya(d,Mc(D_));return ea(l,M,t,d,g)}),EA=Pt(function(l,d){var g=Ya(d,Mc(EA));return ea(l,C,t,d,g)}),A5=ta(function(l,d){return ea(l,T,t,t,t,d)});function R5(l,d){if(typeof l!="function")throw new bs(o);return d=d===t?d:Tt(d),Pt(l,d)}function P5(l,d){if(typeof l!="function")throw new bs(o);return d=d==null?0:xr(Tt(d),0),Pt(function(g){var E=g[d],P=el(g,0,d);return E&&Ka(P,E),Xi(l,this,P)})}function D5(l,d,g){var E=!0,P=!0;if(typeof l!="function")throw new bs(o);return Nn(g)&&(E="leading"in g?!!g.leading:E,P="trailing"in g?!!g.trailing:P),MA(l,d,{leading:E,maxWait:d,trailing:P})}function I5(l){return xA(l,1)}function L5(l,d){return D_(m_(d),l)}function k5(){if(!arguments.length)return[];var l=arguments[0];return St(l)?l:[l]}function N5(l){return Ss(l,m)}function O5(l,d){return d=typeof d=="function"?d:t,Ss(l,m,d)}function B5(l){return Ss(l,h|m)}function F5(l,d){return d=typeof d=="function"?d:t,Ss(l,h|m,d)}function z5(l,d){return d==null||fC(l,d,Ar(d))}function Gs(l,d){return l===d||l!==l&&d!==d}var U5=Ym(r_),H5=Ym(function(l,d){return l>=d}),cu=yC(function(){return arguments}())?yC:function(l){return Gn(l)&&sn.call(l,"callee")&&!iC.call(l,"callee")},St=oe.isArray,W5=zT?qi(zT):ZU;function Pi(l){return l!=null&&ig(l.length)&&!ra(l)}function nr(l){return Gn(l)&&Pi(l)}function V5(l){return l===!0||l===!1||Gn(l)&&di(l)==Ve}var tl=rU||W_,G5=UT?qi(UT):JU;function j5(l){return Gn(l)&&l.nodeType===1&&!Yf(l)}function X5(l){if(l==null)return!0;if(Pi(l)&&(St(l)||typeof l=="string"||typeof l.splice=="function"||tl(l)||Ec(l)||cu(l)))return!l.length;var d=Yr(l);if(d==we||d==_t)return!l.size;if(qf(l))return!o_(l).length;for(var g in l)if(sn.call(l,g))return!1;return!0}function q5(l,d){return Gf(l,d)}function K5(l,d,g){g=typeof g=="function"?g:t;var E=g?g(l,d):t;return E===t?Gf(l,d,t,g):!!E}function I_(l){if(!Gn(l))return!1;var d=di(l);return d==st||d==Se||typeof l.message=="string"&&typeof l.name=="string"&&!Yf(l)}function Y5(l){return typeof l=="number"&&oC(l)}function ra(l){if(!Nn(l))return!1;var d=di(l);return d==pe||d==he||d==gt||d==rt}function TA(l){return typeof l=="number"&&l==Tt(l)}function ig(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=V}function Nn(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function Gn(l){return l!=null&&typeof l=="object"}var CA=HT?qi(HT):$U;function Z5(l,d){return l===d||s_(l,d,w_(d))}function J5(l,d,g){return g=typeof g=="function"?g:t,s_(l,d,w_(d),g)}function Q5(l){return AA(l)&&l!=+l}function $5(l){if(O4(l))throw new bt(s);return xC(l)}function eW(l){return l===null}function tW(l){return l==null}function AA(l){return typeof l=="number"||Gn(l)&&di(l)==We}function Yf(l){if(!Gn(l)||di(l)!=qe)return!1;var d=Dm(l);if(d===null)return!0;var g=sn.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&Cm.call(g)==Jz}var L_=WT?qi(WT):e4;function nW(l){return TA(l)&&l>=-V&&l<=V}var RA=VT?qi(VT):t4;function sg(l){return typeof l=="string"||!St(l)&&Gn(l)&&di(l)==H}function Yi(l){return typeof l=="symbol"||Gn(l)&&di(l)==N}var Ec=GT?qi(GT):n4;function rW(l){return l===t}function iW(l){return Gn(l)&&Yr(l)==_e}function sW(l){return Gn(l)&&di(l)==Ne}var oW=Ym(a_),aW=Ym(function(l,d){return l<=d});function PA(l){if(!l)return[];if(Pi(l))return sg(l)?Ws(l):Ri(l);if(Of&&l[Of])return zz(l[Of]());var d=Yr(l),g=d==we?Kx:d==_t?Mm:Tc;return g(l)}function ia(l){if(!l)return l===0?l:0;if(l=Ts(l),l===te||l===-te){var d=l<0?-1:1;return d*K}return l===l?l:0}function Tt(l){var d=ia(l),g=d%1;return d===d?g?d-g:d:0}function DA(l){return l?ou(Tt(l),0,re):0}function Ts(l){if(typeof l=="number")return l;if(Yi(l))return $;if(Nn(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=Nn(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=ZT(l);var g=Ke.test(l);return g||bn.test(l)?wz(l.slice(2),g?2:8):He.test(l)?$:+l}function IA(l){return _o(l,Di(l))}function lW(l){return l?ou(Tt(l),-V,V):l===0?l:0}function tn(l){return l==null?"":Ki(l)}var uW=wc(function(l,d){if(qf(d)||Pi(d)){_o(d,Ar(d),l);return}for(var g in d)sn.call(d,g)&&Hf(l,g,d[g])}),LA=wc(function(l,d){_o(d,Di(d),l)}),og=wc(function(l,d,g,E){_o(d,Di(d),l,E)}),cW=wc(function(l,d,g,E){_o(d,Ar(d),l,E)}),dW=ta(e_);function fW(l,d){var g=bc(l);return d==null?g:dC(g,d)}var hW=Pt(function(l,d){l=gn(l);var g=-1,E=d.length,P=E>2?d[2]:t;for(P&&fi(d[0],d[1],P)&&(E=1);++g<E;)for(var k=d[g],W=Di(k),q=-1,ee=W.length;++q<ee;){var me=W[q],ve=l[me];(ve===t||Gs(ve,yc[me])&&!sn.call(l,me))&&(l[me]=k[me])}return l}),pW=Pt(function(l){return l.push(t,ZC),Xi(kA,t,l)});function mW(l,d){return XT(l,dt(d,3),xo)}function gW(l,d){return XT(l,dt(d,3),n_)}function vW(l,d){return l==null?l:t_(l,dt(d,3),Di)}function yW(l,d){return l==null?l:gC(l,dt(d,3),Di)}function xW(l,d){return l&&xo(l,dt(d,3))}function _W(l,d){return l&&n_(l,dt(d,3))}function bW(l){return l==null?[]:Hm(l,Ar(l))}function wW(l){return l==null?[]:Hm(l,Di(l))}function k_(l,d,g){var E=l==null?t:au(l,d);return E===t?g:E}function SW(l,d){return l!=null&&$C(l,d,XU)}function N_(l,d){return l!=null&&$C(l,d,qU)}var MW=jC(function(l,d,g){d!=null&&typeof d.toString!="function"&&(d=Am.call(d)),l[d]=g},B_(Ii)),EW=jC(function(l,d,g){d!=null&&typeof d.toString!="function"&&(d=Am.call(d)),sn.call(l,d)?l[d].push(g):l[d]=[g]},dt),TW=Pt(Vf);function Ar(l){return Pi(l)?uC(l):o_(l)}function Di(l){return Pi(l)?uC(l,!0):r4(l)}function CW(l,d){var g={};return d=dt(d,3),xo(l,function(E,P,k){$o(g,d(E,P,k),E)}),g}function AW(l,d){var g={};return d=dt(d,3),xo(l,function(E,P,k){$o(g,P,d(E,P,k))}),g}var RW=wc(function(l,d,g){Wm(l,d,g)}),kA=wc(function(l,d,g,E){Wm(l,d,g,E)}),PW=ta(function(l,d){var g={};if(l==null)return g;var E=!1;d=Rn(d,function(k){return k=$a(k,l),E||(E=k.length>1),k}),_o(l,__(l),g),E&&(g=Ss(g,h|p|m,M4));for(var P=d.length;P--;)f_(g,d[P]);return g});function DW(l,d){return NA(l,rg(dt(d)))}var IW=ta(function(l,d){return l==null?{}:s4(l,d)});function NA(l,d){if(l==null)return{};var g=Rn(__(l),function(E){return[E]});return d=dt(d),TC(l,g,function(E,P){return d(E,P[0])})}function LW(l,d,g){d=$a(d,l);var E=-1,P=d.length;for(P||(P=1,l=t);++E<P;){var k=l==null?t:l[bo(d[E])];k===t&&(E=P,k=g),l=ra(k)?k.call(l):k}return l}function kW(l,d,g){return l==null?l:jf(l,d,g)}function NW(l,d,g,E){return E=typeof E=="function"?E:t,l==null?l:jf(l,d,g,E)}var OA=KC(Ar),BA=KC(Di);function OW(l,d,g){var E=St(l),P=E||tl(l)||Ec(l);if(d=dt(d,4),g==null){var k=l&&l.constructor;P?g=E?new k:[]:Nn(l)?g=ra(k)?bc(Dm(l)):{}:g={}}return(P?_s:xo)(l,function(W,q,ee){return d(g,W,q,ee)}),g}function BW(l,d){return l==null?!0:f_(l,d)}function FW(l,d,g){return l==null?l:DC(l,d,m_(g))}function zW(l,d,g,E){return E=typeof E=="function"?E:t,l==null?l:DC(l,d,m_(g),E)}function Tc(l){return l==null?[]:qx(l,Ar(l))}function UW(l){return l==null?[]:qx(l,Di(l))}function HW(l,d,g){return g===t&&(g=d,d=t),g!==t&&(g=Ts(g),g=g===g?g:0),d!==t&&(d=Ts(d),d=d===d?d:0),ou(Ts(l),d,g)}function WW(l,d,g){return d=ia(d),g===t?(g=d,d=0):g=ia(g),l=Ts(l),KU(l,d,g)}function VW(l,d,g){if(g&&typeof g!="boolean"&&fi(l,d,g)&&(d=g=t),g===t&&(typeof d=="boolean"?(g=d,d=t):typeof l=="boolean"&&(g=l,l=t)),l===t&&d===t?(l=0,d=1):(l=ia(l),d===t?(d=l,l=0):d=ia(d)),l>d){var E=l;l=d,d=E}if(g||l%1||d%1){var P=aC();return Kr(l+P*(d-l+bz("1e-"+((P+"").length-1))),d)}return u_(l,d)}var GW=Sc(function(l,d,g){return d=d.toLowerCase(),l+(g?FA(d):d)});function FA(l){return O_(tn(l).toLowerCase())}function zA(l){return l=tn(l),l&&l.replace(It,kz).replace(dz,"")}function jW(l,d,g){l=tn(l),d=Ki(d);var E=l.length;g=g===t?E:ou(Tt(g),0,E);var P=g;return g-=d.length,g>=0&&l.slice(g,P)==d}function XW(l){return l=tn(l),l&&Ai.test(l)?l.replace(Ct,Nz):l}function qW(l){return l=tn(l),l&&eu.test(l)?l.replace(Xa,"\\$&"):l}var KW=Sc(function(l,d,g){return l+(g?"-":"")+d.toLowerCase()}),YW=Sc(function(l,d,g){return l+(g?" ":"")+d.toLowerCase()}),ZW=WC("toLowerCase");function JW(l,d,g){l=tn(l),d=Tt(d);var E=d?gc(l):0;if(!d||E>=d)return l;var P=(d-E)/2;return Km(Nm(P),g)+l+Km(km(P),g)}function QW(l,d,g){l=tn(l),d=Tt(d);var E=d?gc(l):0;return d&&E<d?l+Km(d-E,g):l}function $W(l,d,g){l=tn(l),d=Tt(d);var E=d?gc(l):0;return d&&E<d?Km(d-E,g)+l:l}function eV(l,d,g){return g||d==null?d=0:d&&(d=+d),aU(tn(l).replace(z,""),d||0)}function tV(l,d,g){return(g?fi(l,d,g):d===t)?d=1:d=Tt(d),c_(tn(l),d)}function nV(){var l=arguments,d=tn(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var rV=Sc(function(l,d,g){return l+(g?"_":"")+d.toLowerCase()});function iV(l,d,g){return g&&typeof g!="number"&&fi(l,d,g)&&(d=g=t),g=g===t?re:g>>>0,g?(l=tn(l),l&&(typeof d=="string"||d!=null&&!L_(d))&&(d=Ki(d),!d&&mc(l))?el(Ws(l),0,g):l.split(d,g)):[]}var sV=Sc(function(l,d,g){return l+(g?" ":"")+O_(d)});function oV(l,d,g){return l=tn(l),g=g==null?0:ou(Tt(g),0,l.length),d=Ki(d),l.slice(g,g+d.length)==d}function aV(l,d,g){var E=I.templateSettings;g&&fi(l,d,g)&&(d=t),l=tn(l),d=og({},d,E,YC);var P=og({},d.imports,E.imports,YC),k=Ar(P),W=qx(P,k),q,ee,me=0,ve=d.interpolate||rn,xe="__p += '",ze=Yx((d.escape||rn).source+"|"+ve.source+"|"+(ve===dc?wt:rn).source+"|"+(d.evaluate||rn).source+"|$","g"),et="//# sourceURL="+(sn.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gz+"]")+`
`;l.replace(ze,function(mt,Nt,Ut,Zi,hi,Ji){return Ut||(Ut=Zi),xe+=l.slice(me,Ji).replace(it,Oz),Nt&&(q=!0,xe+=`' +
__e(`+Nt+`) +
'`),hi&&(ee=!0,xe+=`';
`+hi+`;
__p += '`),Ut&&(xe+=`' +
((__t = (`+Ut+`)) == null ? '' : __t) +
'`),me=Ji+mt.length,mt}),xe+=`';
`;var pt=sn.call(d,"variable")&&d.variable;if(!pt)xe=`with (obj) {
`+xe+`
}
`;else if(vt.test(pt))throw new bt(a);xe=(ee?xe.replace(Qe,""):xe).replace(Re,"$1").replace(ft,"$1;"),xe="function("+(pt||"obj")+`) {
`+(pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xe+`return __p
}`;var At=HA(function(){return Yt(k,et+"return "+xe).apply(t,W)});if(At.source=xe,I_(At))throw At;return At}function lV(l){return tn(l).toLowerCase()}function uV(l){return tn(l).toUpperCase()}function cV(l,d,g){if(l=tn(l),l&&(g||d===t))return ZT(l);if(!l||!(d=Ki(d)))return l;var E=Ws(l),P=Ws(d),k=JT(E,P),W=QT(E,P)+1;return el(E,k,W).join("")}function dV(l,d,g){if(l=tn(l),l&&(g||d===t))return l.slice(0,eC(l)+1);if(!l||!(d=Ki(d)))return l;var E=Ws(l),P=QT(E,Ws(d))+1;return el(E,0,P).join("")}function fV(l,d,g){if(l=tn(l),l&&(g||d===t))return l.replace(z,"");if(!l||!(d=Ki(d)))return l;var E=Ws(l),P=JT(E,Ws(d));return el(E,P).join("")}function hV(l,d){var g=D,E=O;if(Nn(d)){var P="separator"in d?d.separator:P;g="length"in d?Tt(d.length):g,E="omission"in d?Ki(d.omission):E}l=tn(l);var k=l.length;if(mc(l)){var W=Ws(l);k=W.length}if(g>=k)return l;var q=g-gc(E);if(q<1)return E;var ee=W?el(W,0,q).join(""):l.slice(0,q);if(P===t)return ee+E;if(W&&(q+=ee.length-q),L_(P)){if(l.slice(q).search(P)){var me,ve=ee;for(P.global||(P=Yx(P.source,tn(ye.exec(P))+"g")),P.lastIndex=0;me=P.exec(ve);)var xe=me.index;ee=ee.slice(0,xe===t?q:xe)}}else if(l.indexOf(Ki(P),q)!=q){var ze=ee.lastIndexOf(P);ze>-1&&(ee=ee.slice(0,ze))}return ee+E}function pV(l){return l=tn(l),l&&Ci.test(l)?l.replace(Wt,Vz):l}var mV=Sc(function(l,d,g){return l+(g?" ":"")+d.toUpperCase()}),O_=WC("toUpperCase");function UA(l,d,g){return l=tn(l),d=g?t:d,d===t?Fz(l)?Xz(l):Rz(l):l.match(d)||[]}var HA=Pt(function(l,d){try{return Xi(l,t,d)}catch(g){return I_(g)?g:new bt(g)}}),gV=ta(function(l,d){return _s(d,function(g){g=bo(g),$o(l,g,P_(l[g],l))}),l});function vV(l){var d=l==null?0:l.length,g=dt();return l=d?Rn(l,function(E){if(typeof E[1]!="function")throw new bs(o);return[g(E[0]),E[1]]}):[],Pt(function(E){for(var P=-1;++P<d;){var k=l[P];if(Xi(k[0],this,E))return Xi(k[1],this,E)}})}function yV(l){return VU(Ss(l,h))}function B_(l){return function(){return l}}function xV(l,d){return l==null||l!==l?d:l}var _V=GC(),bV=GC(!0);function Ii(l){return l}function F_(l){return _C(typeof l=="function"?l:Ss(l,h))}function wV(l){return wC(Ss(l,h))}function SV(l,d){return SC(l,Ss(d,h))}var MV=Pt(function(l,d){return function(g){return Vf(g,l,d)}}),EV=Pt(function(l,d){return function(g){return Vf(l,g,d)}});function z_(l,d,g){var E=Ar(d),P=Hm(d,E);g==null&&!(Nn(d)&&(P.length||!E.length))&&(g=d,d=l,l=this,P=Hm(d,Ar(d)));var k=!(Nn(g)&&"chain"in g)||!!g.chain,W=ra(l);return _s(P,function(q){var ee=d[q];l[q]=ee,W&&(l.prototype[q]=function(){var me=this.__chain__;if(k||me){var ve=l(this.__wrapped__),xe=ve.__actions__=Ri(this.__actions__);return xe.push({func:ee,args:arguments,thisArg:l}),ve.__chain__=me,ve}return ee.apply(l,Ka([this.value()],arguments))})}),l}function TV(){return Br._===this&&(Br._=Qz),this}function U_(){}function CV(l){return l=Tt(l),Pt(function(d){return MC(d,l)})}var AV=v_(Rn),RV=v_(jT),PV=v_(Wx);function WA(l){return M_(l)?Vx(bo(l)):o4(l)}function DV(l){return function(d){return l==null?t:au(l,d)}}var IV=XC(),LV=XC(!0);function H_(){return[]}function W_(){return!1}function kV(){return{}}function NV(){return""}function OV(){return!0}function BV(l,d){if(l=Tt(l),l<1||l>V)return[];var g=re,E=Kr(l,re);d=dt(d),l-=re;for(var P=Xx(E,d);++g<l;)d(g);return P}function FV(l){return St(l)?Rn(l,bo):Yi(l)?[l]:Ri(lA(tn(l)))}function zV(l){var d=++Zz;return tn(l)+d}var UV=qm(function(l,d){return l+d},0),HV=y_("ceil"),WV=qm(function(l,d){return l/d},1),VV=y_("floor");function GV(l){return l&&l.length?Um(l,Ii,r_):t}function jV(l,d){return l&&l.length?Um(l,dt(d,2),r_):t}function XV(l){return KT(l,Ii)}function qV(l,d){return KT(l,dt(d,2))}function KV(l){return l&&l.length?Um(l,Ii,a_):t}function YV(l,d){return l&&l.length?Um(l,dt(d,2),a_):t}var ZV=qm(function(l,d){return l*d},1),JV=y_("round"),QV=qm(function(l,d){return l-d},0);function $V(l){return l&&l.length?jx(l,Ii):0}function eG(l,d){return l&&l.length?jx(l,dt(d,2)):0}return I.after=w5,I.ary=xA,I.assign=uW,I.assignIn=LA,I.assignInWith=og,I.assignWith=cW,I.at=dW,I.before=_A,I.bind=P_,I.bindAll=gV,I.bindKey=bA,I.castArray=k5,I.chain=gA,I.chunk=V4,I.compact=G4,I.concat=j4,I.cond=vV,I.conforms=yV,I.constant=B_,I.countBy=$H,I.create=fW,I.curry=wA,I.curryRight=SA,I.debounce=MA,I.defaults=hW,I.defaultsDeep=pW,I.defer=S5,I.delay=M5,I.difference=X4,I.differenceBy=q4,I.differenceWith=K4,I.drop=Y4,I.dropRight=Z4,I.dropRightWhile=J4,I.dropWhile=Q4,I.fill=$4,I.filter=t5,I.flatMap=i5,I.flatMapDeep=s5,I.flatMapDepth=o5,I.flatten=fA,I.flattenDeep=eH,I.flattenDepth=tH,I.flip=E5,I.flow=_V,I.flowRight=bV,I.fromPairs=nH,I.functions=bW,I.functionsIn=wW,I.groupBy=a5,I.initial=iH,I.intersection=sH,I.intersectionBy=oH,I.intersectionWith=aH,I.invert=MW,I.invertBy=EW,I.invokeMap=u5,I.iteratee=F_,I.keyBy=c5,I.keys=Ar,I.keysIn=Di,I.map=eg,I.mapKeys=CW,I.mapValues=AW,I.matches=wV,I.matchesProperty=SV,I.memoize=ng,I.merge=RW,I.mergeWith=kA,I.method=MV,I.methodOf=EV,I.mixin=z_,I.negate=rg,I.nthArg=CV,I.omit=PW,I.omitBy=DW,I.once=T5,I.orderBy=d5,I.over=AV,I.overArgs=C5,I.overEvery=RV,I.overSome=PV,I.partial=D_,I.partialRight=EA,I.partition=f5,I.pick=IW,I.pickBy=NA,I.property=WA,I.propertyOf=DV,I.pull=dH,I.pullAll=pA,I.pullAllBy=fH,I.pullAllWith=hH,I.pullAt=pH,I.range=IV,I.rangeRight=LV,I.rearg=A5,I.reject=m5,I.remove=mH,I.rest=R5,I.reverse=A_,I.sampleSize=v5,I.set=kW,I.setWith=NW,I.shuffle=y5,I.slice=gH,I.sortBy=b5,I.sortedUniq=SH,I.sortedUniqBy=MH,I.split=iV,I.spread=P5,I.tail=EH,I.take=TH,I.takeRight=CH,I.takeRightWhile=AH,I.takeWhile=RH,I.tap=GH,I.throttle=D5,I.thru=$m,I.toArray=PA,I.toPairs=OA,I.toPairsIn=BA,I.toPath=FV,I.toPlainObject=IA,I.transform=OW,I.unary=I5,I.union=PH,I.unionBy=DH,I.unionWith=IH,I.uniq=LH,I.uniqBy=kH,I.uniqWith=NH,I.unset=BW,I.unzip=R_,I.unzipWith=mA,I.update=FW,I.updateWith=zW,I.values=Tc,I.valuesIn=UW,I.without=OH,I.words=UA,I.wrap=L5,I.xor=BH,I.xorBy=FH,I.xorWith=zH,I.zip=UH,I.zipObject=HH,I.zipObjectDeep=WH,I.zipWith=VH,I.entries=OA,I.entriesIn=BA,I.extend=LA,I.extendWith=og,z_(I,I),I.add=UV,I.attempt=HA,I.camelCase=GW,I.capitalize=FA,I.ceil=HV,I.clamp=HW,I.clone=N5,I.cloneDeep=B5,I.cloneDeepWith=F5,I.cloneWith=O5,I.conformsTo=z5,I.deburr=zA,I.defaultTo=xV,I.divide=WV,I.endsWith=jW,I.eq=Gs,I.escape=XW,I.escapeRegExp=qW,I.every=e5,I.find=n5,I.findIndex=cA,I.findKey=mW,I.findLast=r5,I.findLastIndex=dA,I.findLastKey=gW,I.floor=VV,I.forEach=vA,I.forEachRight=yA,I.forIn=vW,I.forInRight=yW,I.forOwn=xW,I.forOwnRight=_W,I.get=k_,I.gt=U5,I.gte=H5,I.has=SW,I.hasIn=N_,I.head=hA,I.identity=Ii,I.includes=l5,I.indexOf=rH,I.inRange=WW,I.invoke=TW,I.isArguments=cu,I.isArray=St,I.isArrayBuffer=W5,I.isArrayLike=Pi,I.isArrayLikeObject=nr,I.isBoolean=V5,I.isBuffer=tl,I.isDate=G5,I.isElement=j5,I.isEmpty=X5,I.isEqual=q5,I.isEqualWith=K5,I.isError=I_,I.isFinite=Y5,I.isFunction=ra,I.isInteger=TA,I.isLength=ig,I.isMap=CA,I.isMatch=Z5,I.isMatchWith=J5,I.isNaN=Q5,I.isNative=$5,I.isNil=tW,I.isNull=eW,I.isNumber=AA,I.isObject=Nn,I.isObjectLike=Gn,I.isPlainObject=Yf,I.isRegExp=L_,I.isSafeInteger=nW,I.isSet=RA,I.isString=sg,I.isSymbol=Yi,I.isTypedArray=Ec,I.isUndefined=rW,I.isWeakMap=iW,I.isWeakSet=sW,I.join=lH,I.kebabCase=KW,I.last=Es,I.lastIndexOf=uH,I.lowerCase=YW,I.lowerFirst=ZW,I.lt=oW,I.lte=aW,I.max=GV,I.maxBy=jV,I.mean=XV,I.meanBy=qV,I.min=KV,I.minBy=YV,I.stubArray=H_,I.stubFalse=W_,I.stubObject=kV,I.stubString=NV,I.stubTrue=OV,I.multiply=ZV,I.nth=cH,I.noConflict=TV,I.noop=U_,I.now=tg,I.pad=JW,I.padEnd=QW,I.padStart=$W,I.parseInt=eV,I.random=VW,I.reduce=h5,I.reduceRight=p5,I.repeat=tV,I.replace=nV,I.result=LW,I.round=JV,I.runInContext=Q,I.sample=g5,I.size=x5,I.snakeCase=rV,I.some=_5,I.sortedIndex=vH,I.sortedIndexBy=yH,I.sortedIndexOf=xH,I.sortedLastIndex=_H,I.sortedLastIndexBy=bH,I.sortedLastIndexOf=wH,I.startCase=sV,I.startsWith=oV,I.subtract=QV,I.sum=$V,I.sumBy=eG,I.template=aV,I.times=BV,I.toFinite=ia,I.toInteger=Tt,I.toLength=DA,I.toLower=lV,I.toNumber=Ts,I.toSafeInteger=lW,I.toString=tn,I.toUpper=uV,I.trim=cV,I.trimEnd=dV,I.trimStart=fV,I.truncate=hV,I.unescape=pV,I.uniqueId=zV,I.upperCase=mV,I.upperFirst=O_,I.each=vA,I.eachRight=yA,I.first=hA,z_(I,function(){var l={};return xo(I,function(d,g){sn.call(I.prototype,g)||(l[g]=d)}),l}(),{chain:!1}),I.VERSION=r,_s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){I[l].placeholder=I}),_s(["drop","take"],function(l,d){Bt.prototype[l]=function(g){g=g===t?1:xr(Tt(g),0);var E=this.__filtered__&&!d?new Bt(this):this.clone();return E.__filtered__?E.__takeCount__=Kr(g,E.__takeCount__):E.__views__.push({size:Kr(g,re),type:l+(E.__dir__<0?"Right":"")}),E},Bt.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),_s(["filter","map","takeWhile"],function(l,d){var g=d+1,E=g==U||g==Z;Bt.prototype[l]=function(P){var k=this.clone();return k.__iteratees__.push({iteratee:dt(P,3),type:g}),k.__filtered__=k.__filtered__||E,k}}),_s(["head","last"],function(l,d){var g="take"+(d?"Right":"");Bt.prototype[l]=function(){return this[g](1).value()[0]}}),_s(["initial","tail"],function(l,d){var g="drop"+(d?"":"Right");Bt.prototype[l]=function(){return this.__filtered__?new Bt(this):this[g](1)}}),Bt.prototype.compact=function(){return this.filter(Ii)},Bt.prototype.find=function(l){return this.filter(l).head()},Bt.prototype.findLast=function(l){return this.reverse().find(l)},Bt.prototype.invokeMap=Pt(function(l,d){return typeof l=="function"?new Bt(this):this.map(function(g){return Vf(g,l,d)})}),Bt.prototype.reject=function(l){return this.filter(rg(dt(l)))},Bt.prototype.slice=function(l,d){l=Tt(l);var g=this;return g.__filtered__&&(l>0||d<0)?new Bt(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),d!==t&&(d=Tt(d),g=d<0?g.dropRight(-d):g.take(d-l)),g)},Bt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Bt.prototype.toArray=function(){return this.take(re)},xo(Bt.prototype,function(l,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),E=/^(?:head|last)$/.test(d),P=I[E?"take"+(d=="last"?"Right":""):d],k=E||/^find/.test(d);!P||(I.prototype[d]=function(){var W=this.__wrapped__,q=E?[1]:arguments,ee=W instanceof Bt,me=q[0],ve=ee||St(W),xe=function(Nt){var Ut=P.apply(I,Ka([Nt],q));return E&&ze?Ut[0]:Ut};ve&&g&&typeof me=="function"&&me.length!=1&&(ee=ve=!1);var ze=this.__chain__,et=!!this.__actions__.length,pt=k&&!ze,At=ee&&!et;if(!k&&ve){W=At?W:new Bt(this);var mt=l.apply(W,q);return mt.__actions__.push({func:$m,args:[xe],thisArg:t}),new ws(mt,ze)}return pt&&At?l.apply(this,q):(mt=this.thru(xe),pt?E?mt.value()[0]:mt.value():mt)})}),_s(["pop","push","shift","sort","splice","unshift"],function(l){var d=Em[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",E=/^(?:pop|shift)$/.test(l);I.prototype[l]=function(){var P=arguments;if(E&&!this.__chain__){var k=this.value();return d.apply(St(k)?k:[],P)}return this[g](function(W){return d.apply(St(W)?W:[],P)})}}),xo(Bt.prototype,function(l,d){var g=I[d];if(g){var E=g.name+"";sn.call(_c,E)||(_c[E]=[]),_c[E].push({name:d,func:g})}}),_c[Xm(t,w).name]=[{name:"wrapper",func:t}],Bt.prototype.clone=pU,Bt.prototype.reverse=mU,Bt.prototype.value=gU,I.prototype.at=jH,I.prototype.chain=XH,I.prototype.commit=qH,I.prototype.next=KH,I.prototype.plant=ZH,I.prototype.reverse=JH,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=QH,I.prototype.first=I.prototype.head,Of&&(I.prototype[Of]=YH),I},vc=qz();nu?((nu.exports=vc)._=vc,Fx._=vc):Br._=vc}).call(Zf)})(Y2,Y2.exports);const Vo=(n,e,t)=>{if(!n.has(e)){const r=t();return n.set(e,r),r}return n.get(e)},CN=n=>{throw new Error("unexpected value: "+n)},jS=(n,e,t=new WeakSet)=>{if(Array.isArray(n)){if(t.has(n))return;t.add(n);for(let r=0;r<n.length;++r){const i=n[r];e(r,i,n),jS(i,e,t)}}else if(n&&typeof n=="object"){if(t.has(n))return;t.add(n);for(const[r,i]of Object.entries(n))e(r,i,n),jS(i,e,t)}},lE=(n,e)=>{const t=n.indexOf(e);return t===-1?!1:(n.splice(t,1),!0)},Rp=(n,e=-1)=>n[n.length+e],AN=n=>{const e=n.split(".");if(e.length===1)return e;const t=e.pop();return[e.join("."),t]},RN=(n,e,t)=>{let r,i=!1,s,o,a=t==="trailingPromise"?new Promise(u=>o=u):void 0;return(...u)=>{if(s=u,i)return a!=null?a:r;i=!0,(t==="leading"||t==="both")&&(r=n(...s));const c=()=>{(t==="trailing"||t==="both"||t==="trailingPromise")&&(r=n(...s),o==null||o(r),a=t==="trailingPromise"?new Promise(f=>o=f):void 0),i=!1};return e>0?setTimeout(c,e):queueMicrotask(c),a!=null?a:r}},PK=(n,e)=>{if(e===0){let r=!0;return queueMicrotask(()=>r&&n()),()=>r=!1}const t=setTimeout(n,e);return()=>clearTimeout(t)},vs=(n,e,t)=>{let r,i,s,o,a=t==="trailingPromise"?new Promise(u=>o=u):void 0;return(...u)=>(s=u,r?r():(t==="leading"||t==="both")&&(i=n(...s)),r=PK(()=>{(t==="trailing"||t==="both"||t==="trailingPromise")&&(i=n(...s),o==null||o(i),a=t==="trailingPromise"?new Promise(c=>o=c):void 0),r=void 0},e),a!=null?a:i)},ic=(n,e)=>{let t,r=!1,i=e==null?void 0:e();return(...s)=>{if(e){const o=e();i!==o&&(r=!1),i=o}return r?t:(r=!0,t=n(...s))}},qo=(n,e)=>{for(const t of e)for(const r of Object.getOwnPropertyNames(t.prototype))!(r in n.prototype)&&Object.defineProperty(n.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r)||Object.create(null))};class uE{constructor(e=void 0){this._cb=e,this.done=void 0,this._value=void 0,this._callbacks=void 0,this._watched=void 0}then(e){var t;return this.done?(e(this._value),DK):(((t=this._callbacks)!==null&&t!==void 0?t:this._callbacks=new Set).add(e),new un(()=>this._callbacks.delete(e)))}watch(e){var t;return this.done?e._resolve(this._value):(((t=this._watched)!==null&&t!==void 0?t:this._watched=new Set).add(e),e.then(()=>this._watched.delete(e)),e)}_resolve(e){var t;if(this.done)return this;if(this.done=!0,this._value=e,(t=this._cb)===null||t===void 0||t.call(this,e),this._callbacks)for(const r of this._callbacks)r(e);if(this._watched)for(const r of this._watched)r._resolve(e);return this}}class Z2 extends uE{constructor(e){super(e)}resolve(e){return this._resolve(e)}}class un extends uE{constructor(e){super(e)}cancel(){return this._resolve()}}class PN extends uE{constructor(e){super(e)}_resolve(){return this.dispose(),this}dispose(){return super._resolve()}}const DK=new un().cancel();class DN{constructor(){this.cbsMap=new Map}on(e,t){var r;if(Array.isArray(e)){const s=new un;for(const o of e)s.watch(this.on(o,t));return s}!((r=this.states)===null||r===void 0)&&r.has(e)&&t(this.states.get(e));const i=Vo(this.cbsMap,e,()=>new Set);return i.add(t),new un(()=>i.delete(t))}once(e,t){const r=new un;return r.watch(this.on(e,i=>{r.cancel(),t(i)})),r}emit(e,t){if(this.cbsMap.has(e))for(const r of this.cbsMap.get(e))r(t)}hasState(e){var t;return!!(!((t=this.states)===null||t===void 0)&&t.has(e))}setState(e,t){var r;(r=this.states)!==null&&r!==void 0||(this.states=new Map),!(this.states.has(e)&&this.states.get(e)===t)&&(this.states.set(e,t),this.emit(e,t))}getState(e){var t;return(t=this.states)===null||t===void 0?void 0:t.get(e)}deleteState(e){var t;(t=this.states)===null||t===void 0||t.delete(e)}clear(){var e;this.cbsMap.clear(),(e=this.states)===null||e===void 0||e.clear()}}class IK{constructor(){this.cbs=new Set}on(e){return"state"in this&&e(this.state),this.cbs.add(e),new un(()=>this.cbs.delete(e))}once(e){const t=new un;return t.watch(this.on(r=>{t.cancel(),e(r)})),t}emit(e){for(const t of this.cbs)t(e)}setState(e){"state"in this&&this.state===e||(this.state=e,this.emit(e))}getState(){return this.state}}var Or=()=>{const n=new IK;return[s=>n.emit(s),(s,o)=>o?n.once(s):n.on(s),s=>n.setState(s),()=>n.getState()]};const LK=new WeakSet,Ie=n=>{const[,e,t,r]=Or();t(n);const i=s=>{if(s){const o=new un;return o.watch(e(a=>s(a,o))),o}return r()};return LK.add(i),[t,i]},vf=(n,e)=>t=>{const r=e();r&&n([...r,t])},yf=(n,e)=>t=>{const r=e();r&&n(r.filter(i=>i!==t))},kK=(n,e)=>{const t=e();return t&&typeof t=="object"&&(jS(t,(r,i)=>Object.freeze(i)),Object.freeze(t)),()=>n(t)},Go=[],J2=n=>{var e,t,r;const i=Go[Go.length-1];return(e=(t=i.fiber)[r=i.count++])!==null&&e!==void 0?e:t[r]=n()},Q2=n=>{var e,t;const r=Go[Go.length-1],i=r.count++;return(e=(t=r.fiber)[i])!==null&&e!==void 0||(t[i]=n),[()=>r.fiber[i],s=>r.fiber[i]=s]},IN=(n,e,t,r,i,s)=>{Go.push({count:0,fiber:t,handle:n});const o=r.map(c=>typeof c=="function"?c():c),a=!i||o.some((c,f)=>c!==i[f]);a&&typeof e=="function"&&e();const u=a?s():void 0;return Go.pop(),[u,o,a]},LN=(n,e)=>{const t=J2(()=>Go[Go.length-1].handle.watch(new un(()=>{var v;return(v=i())===null||v===void 0?void 0:v()})));if(t.done)return t;const r=J2(()=>[]),[i,s]=Q2(void 0),[o,a]=Q2(void 0),u=i(),c=o();u&&typeof u!="function"&&console.warn("cleanup is not a function");const[f,h,p]=IN(t,u,r,e,c,n);return p&&s(typeof f=="function"?f:void 0),a(h),t},xt=(n,e)=>{const t=new un(()=>setTimeout(()=>i==null?void 0:i())),r=[];let i,s;const o=vs(()=>{const[a,u,c]=IN(t,i,r,e,s,n);c&&(i=typeof a=="function"?a:void 0),s=u},0,"trailing");o();for(const a of e)typeof a=="function"&&t.watch(a(o));return t},NK=n=>{var e,t,r;const i=Go[Go.length-1];return(e=(t=i.fiber)[r=i.count++])!==null&&e!==void 0?e:t[r]={current:typeof n=="function"?n():n}};class Cn{constructor(e){[this.set,this.get]=Ie(e)}}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const cE="140",Ic={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Lc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},OK=0,$2=1,BK=2,kN=1,FK=2,Ah=3,Pp=0,ks=1,zl=2,NN=1,$t=0,Pa=1,Q0=2,eP=3,tP=4,XS=5,Lo=100,zK=101,UK=102,nP=103,rP=104,qS=200,HK=201,WK=202,VK=203,$0=204,ey=205,ON=206,GK=207,BN=208,jK=209,XK=210,qK=0,KK=1,YK=2,KS=3,ZK=4,JK=5,QK=6,$K=7,Jy=0,eY=1,tY=2,Uo=0,FN=1,nY=2,rY=3,iY=4,sY=5,zN=300,Yd=301,Zd=302,Dp=303,YS=304,Qy=306,Ip=1e3,is=1001,ZS=1002,Ft=1003,iP=1004,sP=1005,Yn=1006,oY=1007,am=1008,Ku=1009,aY=1010,lY=1011,Yu=1012,uY=1013,$v=1014,co=1015,No=1016,cY=1017,dY=1018,Id=1020,fY=1021,hY=1022,Is=1023,pY=1024,mY=1025,Bu=1026,Jd=1027,gY=1028,vY=1029,yY=1030,xY=1031,_Y=1033,Hb=33776,Wb=33777,Vb=33778,Gb=33779,oP=35840,aP=35841,lP=35842,uP=35843,bY=36196,cP=37492,dP=37496,fP=37808,hP=37809,pP=37810,mP=37811,gP=37812,vP=37813,yP=37814,xP=37815,_P=37816,bP=37817,wP=37818,SP=37819,MP=37820,EP=37821,TP=36492,JS=2200,QS=2201,wY=2202,ty=2300,ny=2301,jb=2302,xd=2400,_d=2401,ry=2402,dE=2500,UN=2501,SY=0,cae=1,dae=2,jo=3e3,Dn=3001,MY=3200,$y=3201,sc=0,HN=1,ya="srgb",Lu="srgb-linear",Xb=7680,EY=519,Lp=35044,iy=35048,CP="300 es",$S=1035;class Ql{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const zr=[];for(let n=0;n<256;n++)zr[n]=(n<16?"0":"")+n.toString(16);let AP=1234567;const Xh=Math.PI/180,kp=180/Math.PI;function Ns(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(zr[n&255]+zr[n>>8&255]+zr[n>>16&255]+zr[n>>24&255]+"-"+zr[e&255]+zr[e>>8&255]+"-"+zr[e>>16&15|64]+zr[e>>24&255]+"-"+zr[t&63|128]+zr[t>>8&255]+"-"+zr[t>>16&255]+zr[t>>24&255]+zr[r&255]+zr[r>>8&255]+zr[r>>16&255]+zr[r>>24&255]).toLowerCase()}function dr(n,e,t){return Math.max(e,Math.min(t,n))}function fE(n,e){return(n%e+e)%e}function TY(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function CY(n,e,t){return n!==e?(t-n)/(e-n):0}function qh(n,e,t){return(1-t)*n+t*e}function AY(n,e,t,r){return qh(n,e,1-Math.exp(-t*r))}function RY(n,e=1){return e-Math.abs(fE(n,e*2)-e)}function PY(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function DY(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function IY(n,e){return n+Math.floor(Math.random()*(e-n+1))}function LY(n,e){return n+Math.random()*(e-n)}function kY(n){return n*(.5-Math.random())}function NY(n){n!==void 0&&(AP=n);let e=AP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function OY(n){return n*Xh}function BY(n){return n*kp}function eM(n){return(n&n-1)===0&&n!==0}function WN(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function sy(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function FY(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),u=o(t/2),c=s((e+r)/2),f=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*f,u*h,u*p,a*c);break;case"YZY":n.set(u*p,a*f,u*h,a*c);break;case"ZXZ":n.set(u*h,u*p,a*f,a*c);break;case"XZX":n.set(a*f,u*v,u*m,a*c);break;case"YXY":n.set(u*m,a*f,u*v,a*c);break;case"ZYZ":n.set(u*v,u*m,a*f,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function zY(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function UY(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var qb=Object.freeze({__proto__:null,DEG2RAD:Xh,RAD2DEG:kp,generateUUID:Ns,clamp:dr,euclideanModulo:fE,mapLinear:TY,inverseLerp:CY,lerp:qh,damp:AY,pingpong:RY,smoothstep:PY,smootherstep:DY,randInt:IY,randFloat:LY,randFloatSpread:kY,seededRandom:NY,degToRad:OY,radToDeg:BY,isPowerOfTwo:eM,ceilPowerOfTwo:WN,floorPowerOfTwo:sy,setQuaternionFromProperEuler:FY,normalize:UY,denormalize:zY});class ae{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}ae.prototype.isVector2=!0;class Jn{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,u,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=t,f[4]=s,f[5]=u,f[6]=r,f[7]=o,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],u=r[6],c=r[1],f=r[4],h=r[7],p=r[2],m=r[5],v=r[8],y=i[0],x=i[3],w=i[6],b=i[1],_=i[4],S=i[7],M=i[2],C=i[5],A=i[8];return s[0]=o*y+a*b+u*M,s[3]=o*x+a*_+u*C,s[6]=o*w+a*S+u*A,s[1]=c*y+f*b+h*M,s[4]=c*x+f*_+h*C,s[7]=c*w+f*S+h*A,s[2]=p*y+m*b+v*M,s[5]=p*x+m*_+v*C,s[8]=p*w+m*S+v*A,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],u=e[6],c=e[7],f=e[8];return t*o*f-t*a*c-r*s*f+r*a*u+i*s*c-i*o*u}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],u=e[6],c=e[7],f=e[8],h=f*o-a*c,p=a*u-f*s,m=c*s-o*u,v=t*h+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=h*y,e[1]=(i*c-f*r)*y,e[2]=(a*r-i*o)*y,e[3]=p*y,e[4]=(f*t-i*u)*y,e[5]=(i*s-a*t)*y,e[6]=m*y,e[7]=(r*u-c*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const u=Math.cos(s),c=Math.sin(s);return this.set(r*u,r*c,-r*(u*o+c*a)+o+e,-i*c,i*u,-i*(-c*o+u*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],u=i[1],c=i[4],f=i[7];return i[0]=t*s+r*u,i[3]=t*o+r*c,i[6]=t*a+r*f,i[1]=-r*s+t*u,i[4]=-r*o+t*c,i[7]=-r*a+t*f,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Jn.prototype.isMatrix3=!0;function VN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}function Np(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Fu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function e0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Kb={[ya]:{[Lu]:Fu},[Lu]:{[ya]:e0}},Ys={legacyMode:!0,get workingColorSpace(){return Lu},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Kb[e]&&Kb[e][t]!==void 0){const r=Kb[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},GN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_r={r:0,g:0,b:0},Zs={h:0,s:0,l:0},Ng={h:0,s:0,l:0};function Yb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Og(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class De{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ya){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ys.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Lu){return this.r=e,this.g=t,this.b=r,Ys.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Lu){if(e=fE(e,1),t=dr(t,0,1),r=dr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=Yb(o,s,e+1/3),this.g=Yb(o,s,e),this.b=Yb(o,s,e-1/3)}return Ys.toWorkingColorSpace(this,i),this}setStyle(e,t=ya){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Ys.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Ys.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const u=parseFloat(s[1])/360,c=parseInt(s[2],10)/100,f=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(u,c,f,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Ys.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Ys.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=ya){const r=GN[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Fu(e.r),this.g=Fu(e.g),this.b=Fu(e.b),this}copyLinearToSRGB(e){return this.r=e0(e.r),this.g=e0(e.g),this.b=e0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ya){return Ys.fromWorkingColorSpace(Og(this,_r),e),dr(_r.r*255,0,255)<<16^dr(_r.g*255,0,255)<<8^dr(_r.b*255,0,255)<<0}getHexString(e=ya){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Lu){Ys.fromWorkingColorSpace(Og(this,_r),t);const r=_r.r,i=_r.g,s=_r.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let u,c;const f=(a+o)/2;if(a===o)u=0,c=0;else{const h=o-a;switch(c=f<=.5?h/(o+a):h/(2-o-a),o){case r:u=(i-s)/h+(i<s?6:0);break;case i:u=(s-r)/h+2;break;case s:u=(r-i)/h+4;break}u/=6}return e.h=u,e.s=c,e.l=f,e}getRGB(e,t=Lu){return Ys.fromWorkingColorSpace(Og(this,_r),t),e.r=_r.r,e.g=_r.g,e.b=_r.b,e}getStyle(e=ya){return Ys.fromWorkingColorSpace(Og(this,_r),e),e!==ya?`color(${e} ${_r.r} ${_r.g} ${_r.b})`:`rgb(${_r.r*255|0},${_r.g*255|0},${_r.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(Zs),Zs.h+=e,Zs.s+=t,Zs.l+=r,this.setHSL(Zs.h,Zs.s,Zs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Zs),e.getHSL(Ng);const r=qh(Zs.h,Ng.h,t),i=qh(Zs.s,Ng.s,t),s=qh(Zs.l,Ng.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}De.NAMES=GN;De.prototype.isColor=!0;De.prototype.r=1;De.prototype.g=1;De.prototype.b=1;let kc;class oc{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{kc===void 0&&(kc=Np("canvas")),kc.width=e.width,kc.height=e.height;const r=kc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=kc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=Np("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Fu(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Fu(t[r]/255)*255):t[r]=Fu(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class hE{constructor(e=null){this.uuid=Ns(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Zb(i[o].image)):s.push(Zb(i[o]))}else s=Zb(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Zb(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?oc.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}hE.prototype.isSource=!0;let HY=0;class gr extends Ql{constructor(e=gr.DEFAULT_IMAGE,t=gr.DEFAULT_MAPPING,r=is,i=is,s=Yn,o=am,a=Is,u=Ku,c=1,f=jo){super(),Object.defineProperty(this,"id",{value:HY++}),this.uuid=Ns(),this.name="",this.source=new hE(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=u,this.offset=new ae(0,0),this.repeat=new ae(1,1),this.center=new ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zN)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ip:e.x=e.x-Math.floor(e.x);break;case is:e.x=e.x<0?0:1;break;case ZS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ip:e.y=e.y-Math.floor(e.y);break;case is:e.y=e.y<0?0:1;break;case ZS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}gr.DEFAULT_IMAGE=null;gr.DEFAULT_MAPPING=zN;gr.prototype.isTexture=!0;class hn{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const u=e.elements,c=u[0],f=u[4],h=u[8],p=u[1],m=u[5],v=u[9],y=u[2],x=u[6],w=u[10];if(Math.abs(f-p)<.01&&Math.abs(h-y)<.01&&Math.abs(v-x)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+y)<.1&&Math.abs(v+x)<.1&&Math.abs(c+m+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(c+1)/2,S=(m+1)/2,M=(w+1)/2,C=(f+p)/4,A=(h+y)/4,T=(v+x)/4;return _>S&&_>M?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=C/r,s=A/r):S>M?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=C/i,s=T/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=A/s,i=T/s),this.set(r,i,s,t),this}let b=Math.sqrt((x-v)*(x-v)+(h-y)*(h-y)+(p-f)*(p-f));return Math.abs(b)<.001&&(b=1),this.x=(x-v)/b,this.y=(h-y)/b,this.z=(p-f)/b,this.w=Math.acos((c+m+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}hn.prototype.isVector4=!0;class Ht extends Ql{constructor(e,t,r={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new hn(0,0,e,t),this.scissorTest=!1,this.viewport=new hn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new gr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Yn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new hE(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Ht.prototype.isWebGLRenderTarget=!0;class ex extends gr{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ft,this.minFilter=Ft,this.wrapR=is,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}ex.prototype.isDataArrayTexture=!0;class WY extends Ht{constructor(e,t,r){super(e,t),this.depth=r,this.texture=new ex(null,e,t,r),this.texture.isRenderTargetTexture=!0}}WY.prototype.isWebGLArrayRenderTarget=!0;class pE extends gr{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ft,this.minFilter=Ft,this.wrapR=is,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}pE.prototype.isData3DTexture=!0;class VY extends Ht{constructor(e,t,r){super(e,t),this.depth=r,this.texture=new pE(null,e,t,r),this.texture.isRenderTargetTexture=!0}}VY.prototype.isWebGL3DRenderTarget=!0;class GY extends Ht{constructor(e,t,r,i={}){super(e,t,i);const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}GY.prototype.isWebGLMultipleRenderTargets=!0;class $n{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,s,o,a){let u=r[i+0],c=r[i+1],f=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=u,e[t+1]=c,e[t+2]=f,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(h!==y||u!==p||c!==m||f!==v){let x=1-a;const w=u*p+c*m+f*v+h*y,b=w>=0?1:-1,_=1-w*w;if(_>Number.EPSILON){const M=Math.sqrt(_),C=Math.atan2(M,w*b);x=Math.sin(x*C)/M,a=Math.sin(a*C)/M}const S=a*b;if(u=u*x+p*S,c=c*x+m*S,f=f*x+v*S,h=h*x+y*S,x===1-a){const M=1/Math.sqrt(u*u+c*c+f*f+h*h);u*=M,c*=M,f*=M,h*=M}}e[t]=u,e[t+1]=c,e[t+2]=f,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],u=r[i+1],c=r[i+2],f=r[i+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+f*h+u*m-c*p,e[t+1]=u*v+f*p+c*h-a*m,e[t+2]=c*v+f*m+a*p-u*h,e[t+3]=f*v-a*h-u*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,u=Math.sin,c=a(r/2),f=a(i/2),h=a(s/2),p=u(r/2),m=u(i/2),v=u(s/2);switch(o){case"XYZ":this._x=p*f*h+c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h-p*m*v;break;case"YXZ":this._x=p*f*h+c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h+p*m*v;break;case"ZXY":this._x=p*f*h-c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h-p*m*v;break;case"ZYX":this._x=p*f*h-c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h+p*m*v;break;case"YZX":this._x=p*f*h+c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h-p*m*v;break;case"XZY":this._x=p*f*h-c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],u=t[9],c=t[2],f=t[6],h=t[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-u)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(f-u)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(u+f)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(u+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(dr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,u=t._y,c=t._z,f=t._w;return this._x=r*f+o*a+i*c-s*u,this._y=i*f+o*u+s*a-r*c,this._z=s*f+o*c+r*u-i*a,this._w=o*f-r*a-i*u-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const u=1-a*a;if(u<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(u),f=Math.atan2(c,a),h=Math.sin((1-t)*f)/c,p=Math.sin(t*f)/c;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}$n.prototype.isQuaternion=!0;class B{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(RP.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(RP.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,u=e.w,c=u*t+o*i-a*r,f=u*r+a*t-s*i,h=u*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=c*u+p*-s+f*-a-h*-o,this.y=f*u+p*-o+h*-s-c*-a,this.z=h*u+p*-a+c*-o-f*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,u=t.z;return this.x=i*u-s*a,this.y=s*o-r*u,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Jb.copy(this).projectOnVector(e),this.sub(Jb)}reflect(e){return this.sub(Jb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(dr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}B.prototype.isVector3=!0;const Jb=new B,RP=new $n;class Gi{constructor(e=new B(1/0,1/0,1/0),t=new B(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let u=0,c=e.length;u<c;u+=3){const f=e[u],h=e[u+1],p=e[u+2];f<t&&(t=f),h<r&&(r=h),p<i&&(i=p),f>s&&(s=f),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let u=0,c=e.count;u<c;u++){const f=e.getX(u),h=e.getY(u),p=e.getZ(u);f<t&&(t=f),h<r&&(r=h),p<i&&(i=p),f>s&&(s=f),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=fu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)fu.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(fu)}else r.boundingBox===null&&r.computeBoundingBox(),Qb.copy(r.boundingBox),Qb.applyMatrix4(e.matrixWorld),this.union(Qb);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,fu),fu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(uh),Bg.subVectors(this.max,uh),Nc.subVectors(e.a,uh),Oc.subVectors(e.b,uh),Bc.subVectors(e.c,uh),il.subVectors(Oc,Nc),sl.subVectors(Bc,Oc),hu.subVectors(Nc,Bc);let t=[0,-il.z,il.y,0,-sl.z,sl.y,0,-hu.z,hu.y,il.z,0,-il.x,sl.z,0,-sl.x,hu.z,0,-hu.x,-il.y,il.x,0,-sl.y,sl.x,0,-hu.y,hu.x,0];return!$b(t,Nc,Oc,Bc,Bg)||(t=[1,0,0,0,1,0,0,0,1],!$b(t,Nc,Oc,Bc,Bg))?!1:(Fg.crossVectors(il,sl),t=[Fg.x,Fg.y,Fg.z],$b(t,Nc,Oc,Bc,Bg))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return fu.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(fu).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(aa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),aa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),aa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),aa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),aa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),aa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),aa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),aa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(aa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Gi.prototype.isBox3=!0;const aa=[new B,new B,new B,new B,new B,new B,new B,new B],fu=new B,Qb=new Gi,Nc=new B,Oc=new B,Bc=new B,il=new B,sl=new B,hu=new B,uh=new B,Bg=new B,Fg=new B,pu=new B;function $b(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){pu.fromArray(n,s);const a=i.x*Math.abs(pu.x)+i.y*Math.abs(pu.y)+i.z*Math.abs(pu.z),u=e.dot(pu),c=t.dot(pu),f=r.dot(pu);if(Math.max(-Math.max(u,c,f),Math.min(u,c,f))>a)return!1}return!0}const jY=new Gi,PP=new B,zg=new B,ew=new B;class xf{constructor(e=new B,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):jY.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){ew.subVectors(e,this.center);const t=ew.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(ew.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?zg.set(0,0,1).multiplyScalar(e.radius):zg.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(PP.copy(e.center).add(zg)),this.expandByPoint(PP.copy(e.center).sub(zg)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const la=new B,tw=new B,Ug=new B,ol=new B,nw=new B,Hg=new B,rw=new B;class Ha{constructor(e=new B,t=new B(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,la)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=la.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(la.copy(this.direction).multiplyScalar(t).add(this.origin),la.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){tw.copy(e).add(t).multiplyScalar(.5),Ug.copy(t).sub(e).normalize(),ol.copy(this.origin).sub(tw);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Ug),a=ol.dot(this.direction),u=-ol.dot(Ug),c=ol.lengthSq(),f=Math.abs(1-o*o);let h,p,m,v;if(f>0)if(h=o*u-a,p=o*a-u,v=s*f,h>=0)if(p>=-v)if(p<=v){const y=1/f;h*=y,p*=y,m=h*(h+o*p+2*a)+p*(o*h+p+2*u)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*u)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*u)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-u),s),m=-h*h+p*(p+2*u)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-u),s),m=p*(p+2*u)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-u),s),m=-h*h+p*(p+2*u)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*u)+c;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(Ug).multiplyScalar(p).add(tw),m}intersectSphere(e,t){la.subVectors(e.center,this.origin);const r=la.dot(this.direction),i=la.dot(la)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,u=r+o;return a<0&&u<0?null:a<0?this.at(u,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,u;const c=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),h>=0?(a=(e.min.z-p.z)*h,u=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,u=(e.min.z-p.z)*h),r>u||a>i)||((a>r||r!==r)&&(r=a),(u<i||i!==i)&&(i=u),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,la)!==null}intersectTriangle(e,t,r,i,s){nw.subVectors(t,e),Hg.subVectors(r,e),rw.crossVectors(nw,Hg);let o=this.direction.dot(rw),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ol.subVectors(this.origin,e);const u=a*this.direction.dot(Hg.crossVectors(ol,Hg));if(u<0)return null;const c=a*this.direction.dot(nw.cross(ol));if(c<0||u+c>o)return null;const f=-a*ol.dot(rw);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ye{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,u,c,f,h,p,m,v,y,x){const w=this.elements;return w[0]=e,w[4]=t,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=u,w[2]=c,w[6]=f,w[10]=h,w[14]=p,w[3]=m,w[7]=v,w[11]=y,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ye().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Fc.setFromMatrixColumn(e,0).length(),s=1/Fc.setFromMatrixColumn(e,1).length(),o=1/Fc.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),u=Math.cos(i),c=Math.sin(i),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*h,v=a*f,y=a*h;t[0]=u*f,t[4]=-u*h,t[8]=c,t[1]=m+v*c,t[5]=p-y*c,t[9]=-a*u,t[2]=y-p*c,t[6]=v+m*c,t[10]=o*u}else if(e.order==="YXZ"){const p=u*f,m=u*h,v=c*f,y=c*h;t[0]=p+y*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*f,t[9]=-a,t[2]=m*a-v,t[6]=y+p*a,t[10]=o*u}else if(e.order==="ZXY"){const p=u*f,m=u*h,v=c*f,y=c*h;t[0]=p-y*a,t[4]=-o*h,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*f,t[9]=y-p*a,t[2]=-o*c,t[6]=a,t[10]=o*u}else if(e.order==="ZYX"){const p=o*f,m=o*h,v=a*f,y=a*h;t[0]=u*f,t[4]=v*c-m,t[8]=p*c+y,t[1]=u*h,t[5]=y*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*u,t[10]=o*u}else if(e.order==="YZX"){const p=o*u,m=o*c,v=a*u,y=a*c;t[0]=u*f,t[4]=y-p*h,t[8]=v*h+m,t[1]=h,t[5]=o*f,t[9]=-a*f,t[2]=-c*f,t[6]=m*h+v,t[10]=p-y*h}else if(e.order==="XZY"){const p=o*u,m=o*c,v=a*u,y=a*c;t[0]=u*f,t[4]=-h,t[8]=c*f,t[1]=p*h+y,t[5]=o*f,t[9]=m*h-v,t[2]=v*h-m,t[6]=a*f,t[10]=y*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(XY,e,qY)}lookAt(e,t,r){const i=this.elements;return $i.subVectors(e,t),$i.lengthSq()===0&&($i.z=1),$i.normalize(),al.crossVectors(r,$i),al.lengthSq()===0&&(Math.abs(r.z)===1?$i.x+=1e-4:$i.z+=1e-4,$i.normalize(),al.crossVectors(r,$i)),al.normalize(),Wg.crossVectors($i,al),i[0]=al.x,i[4]=Wg.x,i[8]=$i.x,i[1]=al.y,i[5]=Wg.y,i[9]=$i.y,i[2]=al.z,i[6]=Wg.z,i[10]=$i.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],u=r[8],c=r[12],f=r[1],h=r[5],p=r[9],m=r[13],v=r[2],y=r[6],x=r[10],w=r[14],b=r[3],_=r[7],S=r[11],M=r[15],C=i[0],A=i[4],T=i[8],R=i[12],D=i[1],O=i[5],Y=i[9],ie=i[13],U=i[2],G=i[6],Z=i[10],te=i[14],V=i[3],K=i[7],$=i[11],re=i[15];return s[0]=o*C+a*D+u*U+c*V,s[4]=o*A+a*O+u*G+c*K,s[8]=o*T+a*Y+u*Z+c*$,s[12]=o*R+a*ie+u*te+c*re,s[1]=f*C+h*D+p*U+m*V,s[5]=f*A+h*O+p*G+m*K,s[9]=f*T+h*Y+p*Z+m*$,s[13]=f*R+h*ie+p*te+m*re,s[2]=v*C+y*D+x*U+w*V,s[6]=v*A+y*O+x*G+w*K,s[10]=v*T+y*Y+x*Z+w*$,s[14]=v*R+y*ie+x*te+w*re,s[3]=b*C+_*D+S*U+M*V,s[7]=b*A+_*O+S*G+M*K,s[11]=b*T+_*Y+S*Z+M*$,s[15]=b*R+_*ie+S*te+M*re,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],u=e[9],c=e[13],f=e[2],h=e[6],p=e[10],m=e[14],v=e[3],y=e[7],x=e[11],w=e[15];return v*(+s*u*h-i*c*h-s*a*p+r*c*p+i*a*m-r*u*m)+y*(+t*u*m-t*c*p+s*o*p-i*o*m+i*c*f-s*u*f)+x*(+t*c*h-t*a*m-s*o*h+r*o*m+s*a*f-r*c*f)+w*(-i*a*f-t*u*h+t*a*p+i*o*h-r*o*p+r*u*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],u=e[6],c=e[7],f=e[8],h=e[9],p=e[10],m=e[11],v=e[12],y=e[13],x=e[14],w=e[15],b=h*x*c-y*p*c+y*u*m-a*x*m-h*u*w+a*p*w,_=v*p*c-f*x*c-v*u*m+o*x*m+f*u*w-o*p*w,S=f*y*c-v*h*c+v*a*m-o*y*m-f*a*w+o*h*w,M=v*h*u-f*y*u-v*a*p+o*y*p+f*a*x-o*h*x,C=t*b+r*_+i*S+s*M;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/C;return e[0]=b*A,e[1]=(y*p*s-h*x*s-y*i*m+r*x*m+h*i*w-r*p*w)*A,e[2]=(a*x*s-y*u*s+y*i*c-r*x*c-a*i*w+r*u*w)*A,e[3]=(h*u*s-a*p*s-h*i*c+r*p*c+a*i*m-r*u*m)*A,e[4]=_*A,e[5]=(f*x*s-v*p*s+v*i*m-t*x*m-f*i*w+t*p*w)*A,e[6]=(v*u*s-o*x*s-v*i*c+t*x*c+o*i*w-t*u*w)*A,e[7]=(o*p*s-f*u*s+f*i*c-t*p*c-o*i*m+t*u*m)*A,e[8]=S*A,e[9]=(v*h*s-f*y*s-v*r*m+t*y*m+f*r*w-t*h*w)*A,e[10]=(o*y*s-v*a*s+v*r*c-t*y*c-o*r*w+t*a*w)*A,e[11]=(f*a*s-o*h*s-f*r*c+t*h*c+o*r*m-t*a*m)*A,e[12]=M*A,e[13]=(f*y*i-v*h*i+v*r*p-t*y*p-f*r*x+t*h*x)*A,e[14]=(v*a*i-o*y*i-v*r*u+t*y*u+o*r*x-t*a*x)*A,e[15]=(o*h*i-f*a*i+f*r*u-t*h*u-o*r*p+t*a*p)*A,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,u=e.z,c=s*o,f=s*a;return this.set(c*o+r,c*a-i*u,c*u+i*a,0,c*a+i*u,f*a+r,f*u-i*o,0,c*u-i*a,f*u+i*o,s*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,u=t._w,c=s+s,f=o+o,h=a+a,p=s*c,m=s*f,v=s*h,y=o*f,x=o*h,w=a*h,b=u*c,_=u*f,S=u*h,M=r.x,C=r.y,A=r.z;return i[0]=(1-(y+w))*M,i[1]=(m+S)*M,i[2]=(v-_)*M,i[3]=0,i[4]=(m-S)*C,i[5]=(1-(p+w))*C,i[6]=(x+b)*C,i[7]=0,i[8]=(v+_)*A,i[9]=(x-b)*A,i[10]=(1-(p+y))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Fc.set(i[0],i[1],i[2]).length();const o=Fc.set(i[4],i[5],i[6]).length(),a=Fc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Js.copy(this);const c=1/s,f=1/o,h=1/a;return Js.elements[0]*=c,Js.elements[1]*=c,Js.elements[2]*=c,Js.elements[4]*=f,Js.elements[5]*=f,Js.elements[6]*=f,Js.elements[8]*=h,Js.elements[9]*=h,Js.elements[10]*=h,t.setFromRotationMatrix(Js),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,u=2*s/(t-e),c=2*s/(r-i),f=(t+e)/(t-e),h=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=u,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,u=1/(t-e),c=1/(r-i),f=1/(o-s),h=(t+e)*u,p=(r+i)*c,m=(o+s)*f;return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*f,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Ye.prototype.isMatrix4=!0;const Fc=new B,Js=new Ye,XY=new B(0,0,0),qY=new B(1,1,1),al=new B,Wg=new B,$i=new B,DP=new Ye,IP=new $n;class $l{constructor(e=0,t=0,r=0,i=$l.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],u=i[1],c=i[5],f=i[9],h=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(dr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-dr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(dr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-dr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(dr(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-dr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return DP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(DP,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return IP.setFromEuler(this),this.setFromQuaternion(IP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}$l.prototype.isEuler=!0;$l.DefaultOrder="XYZ";$l.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class mE{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let KY=0;const LP=new B,zc=new $n,ua=new Ye,Vg=new B,ch=new B,YY=new B,ZY=new $n,kP=new B(1,0,0),NP=new B(0,1,0),OP=new B(0,0,1),JY={type:"added"},BP={type:"removed"};class en extends Ql{constructor(){super(),Object.defineProperty(this,"id",{value:KY++}),this.uuid=Ns(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=en.DefaultUp.clone();const e=new B,t=new $l,r=new $n,i=new B(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ye},normalMatrix:{value:new Jn}}),this.matrix=new Ye,this.matrixWorld=new Ye,this.matrixAutoUpdate=en.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new mE,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return zc.setFromAxisAngle(e,t),this.quaternion.multiply(zc),this}rotateOnWorldAxis(e,t){return zc.setFromAxisAngle(e,t),this.quaternion.premultiply(zc),this}rotateX(e){return this.rotateOnAxis(kP,e)}rotateY(e){return this.rotateOnAxis(NP,e)}rotateZ(e){return this.rotateOnAxis(OP,e)}translateOnAxis(e,t){return LP.copy(e).applyQuaternion(this.quaternion),this.position.add(LP.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(kP,e)}translateY(e){return this.translateOnAxis(NP,e)}translateZ(e){return this.translateOnAxis(OP,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ua.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Vg.copy(e):Vg.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),ch.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ua.lookAt(ch,Vg,this.up):ua.lookAt(Vg,ch,this.up),this.quaternion.setFromRotationMatrix(ua),i&&(ua.extractRotation(i.matrixWorld),zc.setFromRotationMatrix(ua),this.quaternion.premultiply(zc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(JY)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(BP)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(BP)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ua.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ua.multiply(e.parent.matrixWorld)),e.applyMatrix4(ua),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ch,e,YY),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ch,ZY,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,u){return a[u.uuid]===void 0&&(a[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const u=a.shapes;if(Array.isArray(u))for(let c=0,f=u.length;c<f;c++){const h=u[c];s(e.shapes,h)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let u=0,c=this.material.length;u<c;u++)a.push(s(e.materials,this.material[u]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const u=this.animations[a];i.animations.push(s(e.animations,u))}}if(t){const a=o(e.geometries),u=o(e.materials),c=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),u.length>0&&(r.materials=u),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const u=[];for(const c in a){const f=a[c];delete f.metadata,u.push(f)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}en.DefaultUp=new B(0,1,0);en.DefaultMatrixAutoUpdate=!0;en.prototype.isObject3D=!0;const Qs=new B,ca=new B,iw=new B,da=new B,Uc=new B,Hc=new B,FP=new B,sw=new B,ow=new B,aw=new B;class hr{constructor(e=new B,t=new B,r=new B){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Qs.subVectors(e,t),i.cross(Qs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Qs.subVectors(i,t),ca.subVectors(r,t),iw.subVectors(e,t);const o=Qs.dot(Qs),a=Qs.dot(ca),u=Qs.dot(iw),c=ca.dot(ca),f=ca.dot(iw),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(c*u-a*f)*p,v=(o*f-a*u)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,da),da.x>=0&&da.y>=0&&da.x+da.y<=1}static getUV(e,t,r,i,s,o,a,u){return this.getBarycoord(e,t,r,i,da),u.set(0,0),u.addScaledVector(s,da.x),u.addScaledVector(o,da.y),u.addScaledVector(a,da.z),u}static isFrontFacing(e,t,r,i){return Qs.subVectors(r,t),ca.subVectors(e,t),Qs.cross(ca).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qs.subVectors(this.c,this.b),ca.subVectors(this.a,this.b),Qs.cross(ca).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return hr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return hr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return hr.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return hr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return hr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Uc.subVectors(i,r),Hc.subVectors(s,r),sw.subVectors(e,r);const u=Uc.dot(sw),c=Hc.dot(sw);if(u<=0&&c<=0)return t.copy(r);ow.subVectors(e,i);const f=Uc.dot(ow),h=Hc.dot(ow);if(f>=0&&h<=f)return t.copy(i);const p=u*h-f*c;if(p<=0&&u>=0&&f<=0)return o=u/(u-f),t.copy(r).addScaledVector(Uc,o);aw.subVectors(e,s);const m=Uc.dot(aw),v=Hc.dot(aw);if(v>=0&&m<=v)return t.copy(s);const y=m*c-u*v;if(y<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(r).addScaledVector(Hc,a);const x=f*v-m*h;if(x<=0&&h-f>=0&&m-v>=0)return FP.subVectors(s,i),a=(h-f)/(h-f+(m-v)),t.copy(i).addScaledVector(FP,a);const w=1/(x+y+p);return o=y*w,a=p*w,t.copy(r).addScaledVector(Uc,o).addScaledVector(Hc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let QY=0;class Cr extends Ql{constructor(){super(),Object.defineProperty(this,"id",{value:QY++}),this.uuid=Ns(),this.name="",this.type="Material",this.blending=Pa,this.side=Pp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=$0,this.blendDst=ey,this.blendEquation=Lo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=KS,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=EY,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Xb,this.stencilZFail=Xb,this.stencilZPass=Xb,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===NN;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Pa&&(r.blending=this.blending),this.side!==Pp&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const u=s[a];delete u.metadata,o.push(u)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Cr.prototype.isMaterial=!0;Cr.fromType=function(){return null};class Fa extends Cr{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}Fa.prototype.isMeshBasicMaterial=!0;const cr=new B,Gg=new ae;class ar{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=Lp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new De),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new ae),t[r++]=o.x,t[r++]=o.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new B),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new hn),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Gg.fromBufferAttribute(this,t),Gg.applyMatrix3(e),this.setXY(t,Gg.x,Gg.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyMatrix3(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyMatrix4(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyNormalMatrix(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.transformDirection(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Lp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}ar.prototype.isBufferAttribute=!0;class jN extends ar{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class XN extends ar{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class $Y extends ar{constructor(e,t,r){super(new Uint16Array(e),t,r)}}$Y.prototype.isFloat16BufferAttribute=!0;class Rt extends ar{constructor(e,t,r){super(new Float32Array(e),t,r)}}let eZ=0;const Cs=new Ye,lw=new en,Wc=new B,es=new Gi,dh=new Gi,Dr=new B;class Gt extends Ql{constructor(){super(),Object.defineProperty(this,"id",{value:eZ++}),this.uuid=Ns(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(VN(e)?XN:jN)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Jn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Cs.makeRotationFromQuaternion(e),this.applyMatrix4(Cs),this}rotateX(e){return Cs.makeRotationX(e),this.applyMatrix4(Cs),this}rotateY(e){return Cs.makeRotationY(e),this.applyMatrix4(Cs),this}rotateZ(e){return Cs.makeRotationZ(e),this.applyMatrix4(Cs),this}translate(e,t,r){return Cs.makeTranslation(e,t,r),this.applyMatrix4(Cs),this}scale(e,t,r){return Cs.makeScale(e,t,r),this.applyMatrix4(Cs),this}lookAt(e){return lw.lookAt(e),lw.updateMatrix(),this.applyMatrix4(lw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wc).negate(),this.translate(Wc.x,Wc.y,Wc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Rt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new B(-1/0,-1/0,-1/0),new B(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];es.setFromBufferAttribute(s),this.morphTargetsRelative?(Dr.addVectors(this.boundingBox.min,es.min),this.boundingBox.expandByPoint(Dr),Dr.addVectors(this.boundingBox.max,es.max),this.boundingBox.expandByPoint(Dr)):(this.boundingBox.expandByPoint(es.min),this.boundingBox.expandByPoint(es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xf);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new B,1/0);return}if(e){const r=this.boundingSphere.center;if(es.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];dh.setFromBufferAttribute(a),this.morphTargetsRelative?(Dr.addVectors(es.min,dh.min),es.expandByPoint(Dr),Dr.addVectors(es.max,dh.max),es.expandByPoint(Dr)):(es.expandByPoint(dh.min),es.expandByPoint(dh.max))}es.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Dr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Dr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],u=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)Dr.fromBufferAttribute(a,c),u&&(Wc.fromBufferAttribute(e,c),Dr.add(Wc)),i=Math.max(i,r.distanceToSquared(Dr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ar(new Float32Array(4*a),4));const u=this.getAttribute("tangent").array,c=[],f=[];for(let D=0;D<a;D++)c[D]=new B,f[D]=new B;const h=new B,p=new B,m=new B,v=new ae,y=new ae,x=new ae,w=new B,b=new B;function _(D,O,Y){h.fromArray(i,D*3),p.fromArray(i,O*3),m.fromArray(i,Y*3),v.fromArray(o,D*2),y.fromArray(o,O*2),x.fromArray(o,Y*2),p.sub(h),m.sub(h),y.sub(v),x.sub(v);const ie=1/(y.x*x.y-x.x*y.y);!isFinite(ie)||(w.copy(p).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(ie),b.copy(m).multiplyScalar(y.x).addScaledVector(p,-x.x).multiplyScalar(ie),c[D].add(w),c[O].add(w),c[Y].add(w),f[D].add(b),f[O].add(b),f[Y].add(b))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let D=0,O=S.length;D<O;++D){const Y=S[D],ie=Y.start,U=Y.count;for(let G=ie,Z=ie+U;G<Z;G+=3)_(r[G+0],r[G+1],r[G+2])}const M=new B,C=new B,A=new B,T=new B;function R(D){A.fromArray(s,D*3),T.copy(A);const O=c[D];M.copy(O),M.sub(A.multiplyScalar(A.dot(O))).normalize(),C.crossVectors(T,O);const ie=C.dot(f[D])<0?-1:1;u[D*4]=M.x,u[D*4+1]=M.y,u[D*4+2]=M.z,u[D*4+3]=ie}for(let D=0,O=S.length;D<O;++D){const Y=S[D],ie=Y.start,U=Y.count;for(let G=ie,Z=ie+U;G<Z;G+=3)R(r[G+0]),R(r[G+1]),R(r[G+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ar(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new B,s=new B,o=new B,a=new B,u=new B,c=new B,f=new B,h=new B;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),y=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,x),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),a.fromBufferAttribute(r,v),u.fromBufferAttribute(r,y),c.fromBufferAttribute(r,x),a.add(f),u.add(f),c.add(f),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(y,u.x,u.y,u.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const o=r[i].array,a=e.attributes[i],u=a.array,c=a.itemSize*t,f=Math.min(u.length,o.length-c);for(let h=0,p=c;h<f;h++,p++)o[p]=u[h]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Dr.fromBufferAttribute(e,t),Dr.normalize(),e.setXYZ(t,Dr.x,Dr.y,Dr.z)}toNonIndexed(){function e(a,u){const c=a.array,f=a.itemSize,h=a.normalized,p=new c.constructor(u.length*f);let m=0,v=0;for(let y=0,x=u.length;y<x;y++){a.isInterleavedBufferAttribute?m=u[y]*a.data.stride+a.offset:m=u[y]*f;for(let w=0;w<f;w++)p[v++]=c[m++]}return new ar(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Gt,r=this.index.array,i=this.attributes;for(const a in i){const u=i[a],c=e(u,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const u=[],c=s[a];for(let f=0,h=c.length;f<h;f++){const p=c[f],m=e(p,r);u.push(m)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,u=o.length;a<u;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r){const c=r[u];e.data.attributes[u]=c.toJSON(e.data)}const i={};let s=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],f=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];f.push(m.toJSON(e.data))}f.length>0&&(i[u]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(t))}const s=e.morphAttributes;for(const c in s){const f=[],h=s[c];for(let p=0,m=h.length;p<m;p++)f.push(h[p].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,f=o.length;c<f;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Gt.prototype.isBufferGeometry=!0;const zP=new Ye,Vc=new Ha,uw=new xf,ll=new B,ul=new B,cl=new B,cw=new B,dw=new B,fw=new B,jg=new B,Xg=new B,qg=new B,Kg=new ae,Yg=new ae,Zg=new ae,hw=new B,Jg=new B;class Qn extends en{constructor(e=new Gt,t=new Fa){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),uw.copy(r.boundingSphere),uw.applyMatrix4(s),e.ray.intersectsSphere(uw)===!1)||(zP.copy(s).invert(),Vc.copy(e.ray).applyMatrix4(zP),r.boundingBox!==null&&Vc.intersectsBox(r.boundingBox)===!1))return;let o;if(r.isBufferGeometry){const a=r.index,u=r.attributes.position,c=r.morphAttributes.position,f=r.morphTargetsRelative,h=r.attributes.uv,p=r.attributes.uv2,m=r.groups,v=r.drawRange;if(a!==null)if(Array.isArray(i))for(let y=0,x=m.length;y<x;y++){const w=m[y],b=i[w.materialIndex],_=Math.max(w.start,v.start),S=Math.min(a.count,Math.min(w.start+w.count,v.start+v.count));for(let M=_,C=S;M<C;M+=3){const A=a.getX(M),T=a.getX(M+1),R=a.getX(M+2);o=Qg(this,b,e,Vc,u,c,f,h,p,A,T,R),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const y=Math.max(0,v.start),x=Math.min(a.count,v.start+v.count);for(let w=y,b=x;w<b;w+=3){const _=a.getX(w),S=a.getX(w+1),M=a.getX(w+2);o=Qg(this,i,e,Vc,u,c,f,h,p,_,S,M),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}else if(u!==void 0)if(Array.isArray(i))for(let y=0,x=m.length;y<x;y++){const w=m[y],b=i[w.materialIndex],_=Math.max(w.start,v.start),S=Math.min(u.count,Math.min(w.start+w.count,v.start+v.count));for(let M=_,C=S;M<C;M+=3){const A=M,T=M+1,R=M+2;o=Qg(this,b,e,Vc,u,c,f,h,p,A,T,R),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const y=Math.max(0,v.start),x=Math.min(u.count,v.start+v.count);for(let w=y,b=x;w<b;w+=3){const _=w,S=w+1,M=w+2;o=Qg(this,i,e,Vc,u,c,f,h,p,_,S,M),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Qn.prototype.isMesh=!0;function tZ(n,e,t,r,i,s,o,a){let u;if(e.side===ks?u=r.intersectTriangle(o,s,i,!0,a):u=r.intersectTriangle(i,s,o,e.side!==zl,a),u===null)return null;Jg.copy(a),Jg.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Jg);return c<t.near||c>t.far?null:{distance:c,point:Jg.clone(),object:n}}function Qg(n,e,t,r,i,s,o,a,u,c,f,h){ll.fromBufferAttribute(i,c),ul.fromBufferAttribute(i,f),cl.fromBufferAttribute(i,h);const p=n.morphTargetInfluences;if(s&&p){jg.set(0,0,0),Xg.set(0,0,0),qg.set(0,0,0);for(let v=0,y=s.length;v<y;v++){const x=p[v],w=s[v];x!==0&&(cw.fromBufferAttribute(w,c),dw.fromBufferAttribute(w,f),fw.fromBufferAttribute(w,h),o?(jg.addScaledVector(cw,x),Xg.addScaledVector(dw,x),qg.addScaledVector(fw,x)):(jg.addScaledVector(cw.sub(ll),x),Xg.addScaledVector(dw.sub(ul),x),qg.addScaledVector(fw.sub(cl),x)))}ll.add(jg),ul.add(Xg),cl.add(qg)}n.isSkinnedMesh&&(n.boneTransform(c,ll),n.boneTransform(f,ul),n.boneTransform(h,cl));const m=tZ(n,e,t,r,ll,ul,cl,hw);if(m){a&&(Kg.fromBufferAttribute(a,c),Yg.fromBufferAttribute(a,f),Zg.fromBufferAttribute(a,h),m.uv=hr.getUV(hw,ll,ul,cl,Kg,Yg,Zg,new ae)),u&&(Kg.fromBufferAttribute(u,c),Yg.fromBufferAttribute(u,f),Zg.fromBufferAttribute(u,h),m.uv2=hr.getUV(hw,ll,ul,cl,Kg,Yg,Zg,new ae));const v={a:c,b:f,c:h,normal:new B,materialIndex:0};hr.getNormal(ll,ul,cl,v.normal),m.face=v}return m}class ac extends Gt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const u=[],c=[],f=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(u),this.setAttribute("position",new Rt(c,3)),this.setAttribute("normal",new Rt(f,3)),this.setAttribute("uv",new Rt(h,2));function v(y,x,w,b,_,S,M,C,A,T,R){const D=S/A,O=M/T,Y=S/2,ie=M/2,U=C/2,G=A+1,Z=T+1;let te=0,V=0;const K=new B;for(let $=0;$<Z;$++){const re=$*O-ie;for(let le=0;le<G;le++){const be=le*D-Y;K[y]=be*b,K[x]=re*_,K[w]=U,c.push(K.x,K.y,K.z),K[y]=0,K[x]=0,K[w]=C>0?1:-1,f.push(K.x,K.y,K.z),h.push(le/A),h.push(1-$/T),te+=1}}for(let $=0;$<T;$++)for(let re=0;re<A;re++){const le=p+re+G*$,be=p+re+G*($+1),Te=p+(re+1)+G*($+1),ke=p+(re+1)+G*$;u.push(le,be,ke),u.push(be,Te,ke),V+=6}a.addGroup(m,V,R),m+=V,p+=te}}static fromJSON(e){return new ac(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Qd(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function $r(n){const e={};for(let t=0;t<n.length;t++){const r=Qd(n[t]);for(const i in r)e[i]=r[i]}return e}const pr={clone:Qd,merge:$r};var nZ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,rZ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Dt extends Cr{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=nZ,this.fragmentShader=rZ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Qd(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}Dt.prototype.isShaderMaterial=!0;class tx extends en{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Ye,this.projectionMatrix=new Ye,this.projectionMatrixInverse=new Ye}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}tx.prototype.isCamera=!0;class Sr extends tx{constructor(e=50,t=1,r=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=kp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Xh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return kp*2*Math.atan(Math.tan(Xh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Xh*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/u,t-=o.offsetY*r/c,i*=o.width/u,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Sr.prototype.isPerspectiveCamera=!0;const Gc=90,jc=1;class gE extends en{constructor(e,t,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new Sr(Gc,jc,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new B(1,0,0)),this.add(i);const s=new Sr(Gc,jc,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new B(-1,0,0)),this.add(s);const o=new Sr(Gc,jc,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new B(0,1,0)),this.add(o);const a=new Sr(Gc,jc,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new B(0,-1,0)),this.add(a);const u=new Sr(Gc,jc,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new B(0,0,1)),this.add(u);const c=new Sr(Gc,jc,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new B(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,u,c]=this.children,f=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=Uo,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,u),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(f),e.toneMapping=h,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class nx extends gr{constructor(e,t,r,i,s,o,a,u,c,f){e=e!==void 0?e:[],t=t!==void 0?t:Yd,super(e,t,r,i,s,o,a,u,c,f),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}nx.prototype.isCubeTexture=!0;class qN extends Ht{constructor(e,t={}){super(e,e,t);const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new nx(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Yn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ac(5,5,5),s=new Dt({name:"CubemapFromEquirect",uniforms:Qd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ks,blending:$t});s.uniforms.tEquirect.value=t;const o=new Qn(i,s),a=t.minFilter;return t.minFilter===am&&(t.minFilter=Yn),new gE(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}qN.prototype.isWebGLCubeRenderTarget=!0;const pw=new B,iZ=new B,sZ=new Jn;class ba{constructor(e=new B(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=pw.subVectors(r,t).cross(iZ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(pw),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||sZ.getNormalMatrix(e),i=this.coplanarPoint(pw).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}ba.prototype.isPlane=!0;const Xc=new xf,$g=new B;class lm{constructor(e=new ba,t=new ba,r=new ba,i=new ba,s=new ba,o=new ba){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],u=r[4],c=r[5],f=r[6],h=r[7],p=r[8],m=r[9],v=r[10],y=r[11],x=r[12],w=r[13],b=r[14],_=r[15];return t[0].setComponents(a-i,h-u,y-p,_-x).normalize(),t[1].setComponents(a+i,h+u,y+p,_+x).normalize(),t[2].setComponents(a+s,h+c,y+m,_+w).normalize(),t[3].setComponents(a-s,h-c,y-m,_-w).normalize(),t[4].setComponents(a-o,h-f,y-v,_-b).normalize(),t[5].setComponents(a+o,h+f,y+v,_+b).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Xc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Xc)}intersectsSprite(e){return Xc.center.set(0,0,0),Xc.radius=.7071067811865476,Xc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if($g.x=i.normal.x>0?e.max.x:e.min.x,$g.y=i.normal.y>0?e.max.y:e.min.y,$g.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint($g)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function KN(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function oZ(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,f){const h=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(f,m),n.bufferData(f,h,p),c.onUploadCallback();let v;if(h instanceof Float32Array)v=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(h instanceof Int16Array)v=5122;else if(h instanceof Uint32Array)v=5125;else if(h instanceof Int32Array)v=5124;else if(h instanceof Int8Array)v=5120;else if(h instanceof Uint8Array)v=5121;else if(h instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,f,h){const p=f.array,m=f.updateRange;n.bindBuffer(h,c),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f&&(n.deleteBuffer(f.buffer),r.delete(c))}function u(c,f){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h===void 0?r.set(c,i(c,f)):h.version<c.version&&(s(h.buffer,c,f),h.version=c.version)}return{get:o,remove:a,update:u}}class um extends Gt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),u=Math.floor(i),c=a+1,f=u+1,h=e/a,p=t/u,m=[],v=[],y=[],x=[];for(let w=0;w<f;w++){const b=w*p-o;for(let _=0;_<c;_++){const S=_*h-s;v.push(S,-b,0),y.push(0,0,1),x.push(_/a),x.push(1-w/u)}}for(let w=0;w<u;w++)for(let b=0;b<a;b++){const _=b+c*w,S=b+c*(w+1),M=b+1+c*(w+1),C=b+1+c*w;m.push(_,S,C),m.push(S,M,C)}this.setIndex(m),this.setAttribute("position",new Rt(v,3)),this.setAttribute("normal",new Rt(y,3)),this.setAttribute("uv",new Rt(x,2))}static fromJSON(e){return new um(e.width,e.height,e.widthSegments,e.heightSegments)}}var aZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,lZ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uZ=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,cZ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,dZ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,fZ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,hZ="vec3 transformed = vec3( position );",pZ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,mZ=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,gZ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vZ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,yZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,_Z=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,bZ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,SZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,MZ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,EZ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,TZ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,CZ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,AZ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,RZ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,PZ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,DZ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,IZ="gl_FragColor = linearToOutputTexel( gl_FragColor );",LZ=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,kZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,NZ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,OZ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,BZ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,FZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,zZ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,UZ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,HZ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,WZ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,VZ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,GZ=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,jZ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,XZ=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,qZ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,KZ=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,YZ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,ZZ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,JZ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,QZ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,$Z=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,eJ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,tJ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nJ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rJ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,iJ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,sJ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,oJ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,aJ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,lJ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,uJ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,cJ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,dJ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fJ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hJ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,pJ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,mJ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,gJ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,vJ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,yJ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,xJ=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,_J=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wJ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,SJ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,MJ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,EJ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,TJ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,CJ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,AJ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,RJ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,PJ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,DJ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,IJ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,LJ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kJ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,NJ=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,OJ=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,BJ=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,FJ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zJ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,UJ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,HJ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,WJ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,VJ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,GJ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jJ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,XJ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,qJ=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,KJ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,YJ=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,ZJ=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,JJ=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,QJ=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,$J=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,eQ=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,tQ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const nQ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,rQ=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,iQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sQ=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,oQ=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,aQ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,lQ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,uQ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,cQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dQ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,fQ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,hQ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pQ=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,mQ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gQ=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vQ=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yQ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,xQ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Q=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,bQ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,wQ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SQ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MQ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,EQ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TQ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,CQ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AQ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,RQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,PQ=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,DQ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,IQ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,LQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ot={alphamap_fragment:aZ,alphamap_pars_fragment:lZ,alphatest_fragment:uZ,alphatest_pars_fragment:cZ,aomap_fragment:dZ,aomap_pars_fragment:fZ,begin_vertex:hZ,beginnormal_vertex:pZ,bsdfs:mZ,bumpmap_pars_fragment:gZ,clipping_planes_fragment:vZ,clipping_planes_pars_fragment:yZ,clipping_planes_pars_vertex:xZ,clipping_planes_vertex:_Z,color_fragment:bZ,color_pars_fragment:wZ,color_pars_vertex:SZ,color_vertex:MZ,common:EZ,cube_uv_reflection_fragment:TZ,defaultnormal_vertex:CZ,displacementmap_pars_vertex:AZ,displacementmap_vertex:RZ,emissivemap_fragment:PZ,emissivemap_pars_fragment:DZ,encodings_fragment:IZ,encodings_pars_fragment:LZ,envmap_fragment:kZ,envmap_common_pars_fragment:NZ,envmap_pars_fragment:OZ,envmap_pars_vertex:BZ,envmap_physical_pars_fragment:KZ,envmap_vertex:FZ,fog_vertex:zZ,fog_pars_vertex:UZ,fog_fragment:HZ,fog_pars_fragment:WZ,gradientmap_pars_fragment:VZ,lightmap_fragment:GZ,lightmap_pars_fragment:jZ,lights_lambert_vertex:XZ,lights_pars_begin:qZ,lights_toon_fragment:YZ,lights_toon_pars_fragment:ZZ,lights_phong_fragment:JZ,lights_phong_pars_fragment:QZ,lights_physical_fragment:$Z,lights_physical_pars_fragment:eJ,lights_fragment_begin:tJ,lights_fragment_maps:nJ,lights_fragment_end:rJ,logdepthbuf_fragment:iJ,logdepthbuf_pars_fragment:sJ,logdepthbuf_pars_vertex:oJ,logdepthbuf_vertex:aJ,map_fragment:lJ,map_pars_fragment:uJ,map_particle_fragment:cJ,map_particle_pars_fragment:dJ,metalnessmap_fragment:fJ,metalnessmap_pars_fragment:hJ,morphcolor_vertex:pJ,morphnormal_vertex:mJ,morphtarget_pars_vertex:gJ,morphtarget_vertex:vJ,normal_fragment_begin:yJ,normal_fragment_maps:xJ,normal_pars_fragment:_J,normal_pars_vertex:bJ,normal_vertex:wJ,normalmap_pars_fragment:SJ,clearcoat_normal_fragment_begin:MJ,clearcoat_normal_fragment_maps:EJ,clearcoat_pars_fragment:TJ,output_fragment:CJ,packing:AJ,premultiplied_alpha_fragment:RJ,project_vertex:PJ,dithering_fragment:DJ,dithering_pars_fragment:IJ,roughnessmap_fragment:LJ,roughnessmap_pars_fragment:kJ,shadowmap_pars_fragment:NJ,shadowmap_pars_vertex:OJ,shadowmap_vertex:BJ,shadowmask_pars_fragment:FJ,skinbase_vertex:zJ,skinning_pars_vertex:UJ,skinning_vertex:HJ,skinnormal_vertex:WJ,specularmap_fragment:VJ,specularmap_pars_fragment:GJ,tonemapping_fragment:jJ,tonemapping_pars_fragment:XJ,transmission_fragment:qJ,transmission_pars_fragment:KJ,uv_pars_fragment:YJ,uv_pars_vertex:ZJ,uv_vertex:JJ,uv2_pars_fragment:QJ,uv2_pars_vertex:$J,uv2_vertex:eQ,worldpos_vertex:tQ,background_vert:nQ,background_frag:rQ,cube_vert:iQ,cube_frag:sQ,depth_vert:oQ,depth_frag:aQ,distanceRGBA_vert:lQ,distanceRGBA_frag:uQ,equirect_vert:cQ,equirect_frag:dQ,linedashed_vert:fQ,linedashed_frag:hQ,meshbasic_vert:pQ,meshbasic_frag:mQ,meshlambert_vert:gQ,meshlambert_frag:vQ,meshmatcap_vert:yQ,meshmatcap_frag:xQ,meshnormal_vert:_Q,meshnormal_frag:bQ,meshphong_vert:wQ,meshphong_frag:SQ,meshphysical_vert:MQ,meshphysical_frag:EQ,meshtoon_vert:TQ,meshtoon_frag:CQ,points_vert:AQ,points_frag:RQ,shadow_vert:PQ,shadow_frag:DQ,sprite_vert:IQ,sprite_frag:LQ},Ue={common:{diffuse:{value:new De(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Jn},uv2Transform:{value:new Jn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new De(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new De(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Jn}},sprite:{diffuse:{value:new De(16777215)},opacity:{value:1},center:{value:new ae(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Jn}}},Po={basic:{uniforms:$r([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.fog]),vertexShader:Ot.meshbasic_vert,fragmentShader:Ot.meshbasic_frag},lambert:{uniforms:$r([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.fog,Ue.lights,{emissive:{value:new De(0)}}]),vertexShader:Ot.meshlambert_vert,fragmentShader:Ot.meshlambert_frag},phong:{uniforms:$r([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new De(0)},specular:{value:new De(1118481)},shininess:{value:30}}]),vertexShader:Ot.meshphong_vert,fragmentShader:Ot.meshphong_frag},standard:{uniforms:$r([Ue.common,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.roughnessmap,Ue.metalnessmap,Ue.fog,Ue.lights,{emissive:{value:new De(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag},toon:{uniforms:$r([Ue.common,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.gradientmap,Ue.fog,Ue.lights,{emissive:{value:new De(0)}}]),vertexShader:Ot.meshtoon_vert,fragmentShader:Ot.meshtoon_frag},matcap:{uniforms:$r([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,{matcap:{value:null}}]),vertexShader:Ot.meshmatcap_vert,fragmentShader:Ot.meshmatcap_frag},points:{uniforms:$r([Ue.points,Ue.fog]),vertexShader:Ot.points_vert,fragmentShader:Ot.points_frag},dashed:{uniforms:$r([Ue.common,Ue.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ot.linedashed_vert,fragmentShader:Ot.linedashed_frag},depth:{uniforms:$r([Ue.common,Ue.displacementmap]),vertexShader:Ot.depth_vert,fragmentShader:Ot.depth_frag},normal:{uniforms:$r([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,{opacity:{value:1}}]),vertexShader:Ot.meshnormal_vert,fragmentShader:Ot.meshnormal_frag},sprite:{uniforms:$r([Ue.sprite,Ue.fog]),vertexShader:Ot.sprite_vert,fragmentShader:Ot.sprite_frag},background:{uniforms:{uvTransform:{value:new Jn},t2D:{value:null}},vertexShader:Ot.background_vert,fragmentShader:Ot.background_frag},cube:{uniforms:$r([Ue.envmap,{opacity:{value:1}}]),vertexShader:Ot.cube_vert,fragmentShader:Ot.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ot.equirect_vert,fragmentShader:Ot.equirect_frag},distanceRGBA:{uniforms:$r([Ue.common,Ue.displacementmap,{referencePosition:{value:new B},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ot.distanceRGBA_vert,fragmentShader:Ot.distanceRGBA_frag},shadow:{uniforms:$r([Ue.lights,Ue.fog,{color:{value:new De(0)},opacity:{value:1}}]),vertexShader:Ot.shadow_vert,fragmentShader:Ot.shadow_frag}};Po.physical={uniforms:$r([Po.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ae(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new De(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ae},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new De(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new De(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag};function kQ(n,e,t,r,i,s){const o=new De(0);let a=i===!0?0:1,u,c,f=null,h=0,p=null;function m(y,x){let w=!1,b=x.isScene===!0?x.background:null;b&&b.isTexture&&(b=e.get(b));const _=n.xr,S=_.getSession&&_.getSession();S&&S.environmentBlendMode==="additive"&&(b=null),b===null?v(o,a):b&&b.isColor&&(v(b,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===Qy)?(c===void 0&&(c=new Qn(new ac(1,1,1),new Dt({name:"BackgroundCubeMaterial",uniforms:Qd(Po.cube.uniforms),vertexShader:Po.cube.vertexShader,fragmentShader:Po.cube.fragmentShader,side:ks,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(M,C,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,(f!==b||h!==b.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=b,h=b.version,p=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new Qn(new um(2,2),new Dt({name:"BackgroundMaterial",uniforms:Qd(Po.background.uniforms),vertexShader:Po.background.vertexShader,fragmentShader:Po.background.fragmentShader,side:Pp,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||h!==b.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,f=b,h=b.version,p=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function v(y,x){t.buffers.color.setClear(y.r,y.g,y.b,x,s)}return{getClearColor:function(){return o},setClearColor:function(y,x=1){o.set(y),a=x,v(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(y){a=y,v(o,a)},render:m}}function NQ(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},u=x(null);let c=u,f=!1;function h(U,G,Z,te,V){let K=!1;if(o){const $=y(te,Z,G);c!==$&&(c=$,m(c.object)),K=w(U,te,Z,V),K&&b(U,te,Z,V)}else{const $=G.wireframe===!0;(c.geometry!==te.id||c.program!==Z.id||c.wireframe!==$)&&(c.geometry=te.id,c.program=Z.id,c.wireframe=$,K=!0)}V!==null&&t.update(V,34963),(K||f)&&(f=!1,T(U,G,Z,te),V!==null&&n.bindBuffer(34963,t.get(V).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(U){return r.isWebGL2?n.bindVertexArray(U):s.bindVertexArrayOES(U)}function v(U){return r.isWebGL2?n.deleteVertexArray(U):s.deleteVertexArrayOES(U)}function y(U,G,Z){const te=Z.wireframe===!0;let V=a[U.id];V===void 0&&(V={},a[U.id]=V);let K=V[G.id];K===void 0&&(K={},V[G.id]=K);let $=K[te];return $===void 0&&($=x(p()),K[te]=$),$}function x(U){const G=[],Z=[],te=[];for(let V=0;V<i;V++)G[V]=0,Z[V]=0,te[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:Z,attributeDivisors:te,object:U,attributes:{},index:null}}function w(U,G,Z,te){const V=c.attributes,K=G.attributes;let $=0;const re=Z.getAttributes();for(const le in re)if(re[le].location>=0){const Te=V[le];let ke=K[le];if(ke===void 0&&(le==="instanceMatrix"&&U.instanceMatrix&&(ke=U.instanceMatrix),le==="instanceColor"&&U.instanceColor&&(ke=U.instanceColor)),Te===void 0||Te.attribute!==ke||ke&&Te.data!==ke.data)return!0;$++}return c.attributesNum!==$||c.index!==te}function b(U,G,Z,te){const V={},K=G.attributes;let $=0;const re=Z.getAttributes();for(const le in re)if(re[le].location>=0){let Te=K[le];Te===void 0&&(le==="instanceMatrix"&&U.instanceMatrix&&(Te=U.instanceMatrix),le==="instanceColor"&&U.instanceColor&&(Te=U.instanceColor));const ke={};ke.attribute=Te,Te&&Te.data&&(ke.data=Te.data),V[le]=ke,$++}c.attributes=V,c.attributesNum=$,c.index=te}function _(){const U=c.newAttributes;for(let G=0,Z=U.length;G<Z;G++)U[G]=0}function S(U){M(U,0)}function M(U,G){const Z=c.newAttributes,te=c.enabledAttributes,V=c.attributeDivisors;Z[U]=1,te[U]===0&&(n.enableVertexAttribArray(U),te[U]=1),V[U]!==G&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,G),V[U]=G)}function C(){const U=c.newAttributes,G=c.enabledAttributes;for(let Z=0,te=G.length;Z<te;Z++)G[Z]!==U[Z]&&(n.disableVertexAttribArray(Z),G[Z]=0)}function A(U,G,Z,te,V,K){r.isWebGL2===!0&&(Z===5124||Z===5125)?n.vertexAttribIPointer(U,G,Z,V,K):n.vertexAttribPointer(U,G,Z,te,V,K)}function T(U,G,Z,te){if(r.isWebGL2===!1&&(U.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const V=te.attributes,K=Z.getAttributes(),$=G.defaultAttributeValues;for(const re in K){const le=K[re];if(le.location>=0){let be=V[re];if(be===void 0&&(re==="instanceMatrix"&&U.instanceMatrix&&(be=U.instanceMatrix),re==="instanceColor"&&U.instanceColor&&(be=U.instanceColor)),be!==void 0){const Te=be.normalized,ke=be.itemSize,ue=t.get(be);if(ue===void 0)continue;const gt=ue.buffer,Ve=ue.type,Ze=ue.bytesPerElement;if(be.isInterleavedBufferAttribute){const Se=be.data,st=Se.stride,pe=be.offset;if(Se.isInstancedInterleavedBuffer){for(let he=0;he<le.locationSize;he++)M(le.location+he,Se.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let he=0;he<le.locationSize;he++)S(le.location+he);n.bindBuffer(34962,gt);for(let he=0;he<le.locationSize;he++)A(le.location+he,ke/le.locationSize,Ve,Te,st*Ze,(pe+ke/le.locationSize*he)*Ze)}else{if(be.isInstancedBufferAttribute){for(let Se=0;Se<le.locationSize;Se++)M(le.location+Se,be.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=be.meshPerAttribute*be.count)}else for(let Se=0;Se<le.locationSize;Se++)S(le.location+Se);n.bindBuffer(34962,gt);for(let Se=0;Se<le.locationSize;Se++)A(le.location+Se,ke/le.locationSize,Ve,Te,ke*Ze,ke/le.locationSize*Se*Ze)}}else if($!==void 0){const Te=$[re];if(Te!==void 0)switch(Te.length){case 2:n.vertexAttrib2fv(le.location,Te);break;case 3:n.vertexAttrib3fv(le.location,Te);break;case 4:n.vertexAttrib4fv(le.location,Te);break;default:n.vertexAttrib1fv(le.location,Te)}}}}C()}function R(){Y();for(const U in a){const G=a[U];for(const Z in G){const te=G[Z];for(const V in te)v(te[V].object),delete te[V];delete G[Z]}delete a[U]}}function D(U){if(a[U.id]===void 0)return;const G=a[U.id];for(const Z in G){const te=G[Z];for(const V in te)v(te[V].object),delete te[V];delete G[Z]}delete a[U.id]}function O(U){for(const G in a){const Z=a[G];if(Z[U.id]===void 0)continue;const te=Z[U.id];for(const V in te)v(te[V].object),delete te[V];delete Z[U.id]}}function Y(){ie(),f=!0,c!==u&&(c=u,m(c.object))}function ie(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:h,reset:Y,resetDefaultState:ie,dispose:R,releaseStatesOfGeometry:D,releaseStatesOfProgram:O,initAttributes:_,enableAttribute:S,disableUnusedAttributes:C}}function OQ(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,f){n.drawArrays(s,c,f),t.update(f,s,1)}function u(c,f,h){if(h===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,f,h),t.update(f,s,h)}this.setMode=o,this.render=a,this.renderInstances=u}function BQ(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(A){if(A==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";A="mediump"}return A==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const u=s(a);u!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",u,"instead."),a=u);const c=o||e.has("WEBGL_draw_buffers"),f=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),v=n.getParameter(34076),y=n.getParameter(34921),x=n.getParameter(36347),w=n.getParameter(36348),b=n.getParameter(36349),_=p>0,S=o||e.has("OES_texture_float"),M=_&&S,C=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:b,vertexTextures:_,floatFragmentTextures:S,floatVertexTextures:M,maxSamples:C}}function FQ(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new ba,a=new Jn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p,m){const v=h.length!==0||p||r!==0||i;return i=p,t=f(h,m,0),r=h.length,v},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1,c()},this.setState=function(h,p,m){const v=h.clippingPlanes,y=h.clipIntersection,x=h.clipShadows,w=n.get(h);if(!i||v===null||v.length===0||s&&!x)s?f(null):c();else{const b=s?0:r,_=b*4;let S=w.clippingState||null;u.value=S,S=f(v,p,_,m);for(let M=0;M!==_;++M)S[M]=t[M];w.clippingState=S,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=b}};function c(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(h,p,m,v){const y=h!==null?h.length:0;let x=null;if(y!==0){if(x=u.value,v!==!0||x===null){const w=m+y*4,b=p.matrixWorldInverse;a.getNormalMatrix(b),(x===null||x.length<w)&&(x=new Float32Array(w));for(let _=0,S=m;_!==y;++_,S+=4)o.copy(h[_]).applyMatrix4(b,a),o.normal.toArray(x,S),x[S+3]=o.constant}u.value=x,u.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function zQ(n){let e=new WeakMap;function t(o,a){return a===Dp?o.mapping=Yd:a===YS&&(o.mapping=Zd),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Dp||a===YS)if(e.has(o)){const u=e.get(o).texture;return t(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const c=new qN(u.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const u=e.get(a);u!==void 0&&(e.delete(a),u.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class _f extends tx{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,u=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=f*this.view.offsetY,u=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}_f.prototype.isOrthographicCamera=!0;const bd=4,UP=[.125,.215,.35,.446,.526,.582],Cu=20,mw=new _f,HP=new De;let gw=null;const Su=(1+Math.sqrt(5))/2,qc=1/Su,WP=[new B(1,1,1),new B(-1,1,1),new B(1,1,-1),new B(-1,1,-1),new B(0,Su,qc),new B(0,Su,-qc),new B(qc,0,Su),new B(-qc,0,Su),new B(Su,qc,0),new B(-Su,qc,0)];class VP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){gw=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=XP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=jP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(gw),e.scissorTest=!1,ev(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Yd||e.mapping===Zd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),gw=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Yn,minFilter:Yn,generateMipmaps:!1,type:No,format:Is,encoding:jo,depthBuffer:!1},i=GP(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=GP(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=UQ(s)),this._blurMaterial=HQ(s,e,t)}return i}_compileMaterial(e){const t=new Qn(this._lodPlanes[0],e);this._renderer.compile(t,mw)}_sceneToCubeUV(e,t,r,i){const a=new Sr(90,1,t,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(HP),f.toneMapping=Uo,f.autoClear=!1;const m=new Fa({name:"PMREM.Background",side:ks,depthWrite:!1,depthTest:!1}),v=new Qn(new ac,m);let y=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,y=!0):(m.color.copy(HP),y=!0);for(let w=0;w<6;w++){const b=w%3;b===0?(a.up.set(0,u[w],0),a.lookAt(c[w],0,0)):b===1?(a.up.set(0,0,u[w]),a.lookAt(0,c[w],0)):(a.up.set(0,u[w],0),a.lookAt(0,0,c[w]));const _=this._cubeSize;ev(i,b*_,w>2?_:0,_,_),f.setRenderTarget(i),y&&f.render(v,a),f.render(e,a)}v.geometry.dispose(),v.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Yd||e.mapping===Zd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=XP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=jP());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Qn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const u=this._cubeSize;ev(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(o,mw)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=WP[(i-1)%WP.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const u=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new Qn(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Cu-1),y=s/v,x=isFinite(s)?1+Math.floor(f*y):Cu;x>Cu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Cu}`);const w=[];let b=0;for(let A=0;A<Cu;++A){const T=A/y,R=Math.exp(-T*T/2);w.push(R),A===0?b+=R:A<x&&(b+=2*R)}for(let A=0;A<w.length;A++)w[A]=w[A]/b;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:_}=this;p.dTheta.value=v,p.mipInt.value=_-r;const S=this._sizeLods[i],M=3*S*(i>_-bd?i-_+bd:0),C=4*(this._cubeSize-S);ev(t,M,C,3*S,2*S),u.setRenderTarget(t),u.render(h,mw)}}function UQ(n){const e=[],t=[],r=[];let i=n;const s=n-bd+1+UP.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let u=1/a;o>n-bd?u=UP[o-n+bd-1]:o===0&&(u=0),r.push(u);const c=1/(a-2),f=-c,h=1+c,p=[f,f,h,f,h,h,f,f,h,h,f,h],m=6,v=6,y=3,x=2,w=1,b=new Float32Array(y*v*m),_=new Float32Array(x*v*m),S=new Float32Array(w*v*m);for(let C=0;C<m;C++){const A=C%3*2/3-1,T=C>2?0:-1,R=[A,T,0,A+2/3,T,0,A+2/3,T+1,0,A,T,0,A+2/3,T+1,0,A,T+1,0];b.set(R,y*v*C),_.set(p,x*v*C);const D=[C,C,C,C,C,C];S.set(D,w*v*C)}const M=new Gt;M.setAttribute("position",new ar(b,y)),M.setAttribute("uv",new ar(_,x)),M.setAttribute("faceIndex",new ar(S,w)),e.push(M),i>bd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function GP(n,e,t){const r=new Ht(n,e,t);return r.texture.mapping=Qy,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ev(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function HQ(n,e,t){const r=new Float32Array(Cu),i=new B(0,1,0);return new Dt({name:"SphericalGaussianBlur",defines:{n:Cu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:$t,depthTest:!1,depthWrite:!1})}function jP(){return new Dt({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:$t,depthTest:!1,depthWrite:!1})}function XP(){return new Dt({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:$t,depthTest:!1,depthWrite:!1})}function vE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WQ(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const u=a.mapping,c=u===Dp||u===YS,f=u===Yd||u===Zd;if(c||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new VP(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||f&&h&&i(h)){t===null&&(t=new VP(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let u=0;const c=6;for(let f=0;f<c;f++)a[f]!==void 0&&u++;return u===c}function s(a){const u=a.target;u.removeEventListener("dispose",s);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function VQ(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function GQ(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function u(h){const p=h.attributes;for(const v in p)e.update(p[v],34962);const m=h.morphAttributes;for(const v in m){const y=m[v];for(let x=0,w=y.length;x<w;x++)e.update(y[x],34962)}}function c(h){const p=[],m=h.index,v=h.attributes.position;let y=0;if(m!==null){const b=m.array;y=m.version;for(let _=0,S=b.length;_<S;_+=3){const M=b[_+0],C=b[_+1],A=b[_+2];p.push(M,C,C,A,A,M)}}else{const b=v.array;y=v.version;for(let _=0,S=b.length/3-1;_<S;_+=3){const M=_+0,C=_+1,A=_+2;p.push(M,C,C,A,A,M)}}const x=new(VN(p)?XN:jN)(p,1);x.version=y;const w=s.get(h);w&&e.remove(w),s.set(h,x)}function f(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:u,getWireframeAttribute:f}}function jQ(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,u;function c(p){a=p.type,u=p.bytesPerElement}function f(p,m){n.drawElements(s,m,a,p*u),t.update(m,s,1)}function h(p,m,v){if(v===0)return;let y,x;if(i)y=n,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,m,a,p*u,v),t.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=f,this.renderInstances=h}function XQ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function qQ(n,e){return n[0]-e[0]}function KQ(n,e){return Math.abs(e[1])-Math.abs(n[1])}function vw(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function YQ(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new hn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function u(c,f,h,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,y=v!==void 0?v.length:0;let x=s.get(f);if(x===void 0||x.count!==y){let G=function(){ie.dispose(),s.delete(f),f.removeEventListener("dispose",G)};x!==void 0&&x.texture.dispose();const _=f.morphAttributes.position!==void 0,S=f.morphAttributes.normal!==void 0,M=f.morphAttributes.color!==void 0,C=f.morphAttributes.position||[],A=f.morphAttributes.normal||[],T=f.morphAttributes.color||[];let R=0;_===!0&&(R=1),S===!0&&(R=2),M===!0&&(R=3);let D=f.attributes.position.count*R,O=1;D>e.maxTextureSize&&(O=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const Y=new Float32Array(D*O*4*y),ie=new ex(Y,D,O,y);ie.type=co,ie.needsUpdate=!0;const U=R*4;for(let Z=0;Z<y;Z++){const te=C[Z],V=A[Z],K=T[Z],$=D*O*4*Z;for(let re=0;re<te.count;re++){const le=re*U;_===!0&&(o.fromBufferAttribute(te,re),te.normalized===!0&&vw(o,te),Y[$+le+0]=o.x,Y[$+le+1]=o.y,Y[$+le+2]=o.z,Y[$+le+3]=0),S===!0&&(o.fromBufferAttribute(V,re),V.normalized===!0&&vw(o,V),Y[$+le+4]=o.x,Y[$+le+5]=o.y,Y[$+le+6]=o.z,Y[$+le+7]=0),M===!0&&(o.fromBufferAttribute(K,re),K.normalized===!0&&vw(o,K),Y[$+le+8]=o.x,Y[$+le+9]=o.y,Y[$+le+10]=o.z,Y[$+le+11]=K.itemSize===4?o.w:1)}}x={count:y,texture:ie,size:new ae(D,O)},s.set(f,x),f.addEventListener("dispose",G)}let w=0;for(let _=0;_<m.length;_++)w+=m[_];const b=f.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",b),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const v=m===void 0?0:m.length;let y=r[f.id];if(y===void 0||y.length!==v){y=[];for(let S=0;S<v;S++)y[S]=[S,0];r[f.id]=y}for(let S=0;S<v;S++){const M=y[S];M[0]=S,M[1]=m[S]}y.sort(KQ);for(let S=0;S<8;S++)S<v&&y[S][1]?(a[S][0]=y[S][0],a[S][1]=y[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(qQ);const x=f.morphAttributes.position,w=f.morphAttributes.normal;let b=0;for(let S=0;S<8;S++){const M=a[S],C=M[0],A=M[1];C!==Number.MAX_SAFE_INTEGER&&A?(x&&f.getAttribute("morphTarget"+S)!==x[C]&&f.setAttribute("morphTarget"+S,x[C]),w&&f.getAttribute("morphNormal"+S)!==w[C]&&f.setAttribute("morphNormal"+S,w[C]),i[S]=A,b+=A):(x&&f.hasAttribute("morphTarget"+S)===!0&&f.deleteAttribute("morphTarget"+S),w&&f.hasAttribute("morphNormal"+S)===!0&&f.deleteAttribute("morphNormal"+S),i[S]=0)}const _=f.morphTargetsRelative?1:1-b;p.getUniforms().setValue(n,"morphTargetBaseInfluence",_),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:u}}function ZQ(n,e,t,r){let i=new WeakMap;function s(u){const c=r.render.frame,f=u.geometry,h=e.get(u,f);return i.get(h)!==c&&(e.update(h),i.set(h,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",a)===!1&&u.addEventListener("dispose",a),t.update(u.instanceMatrix,34962),u.instanceColor!==null&&t.update(u.instanceColor,34962)),h}function o(){i=new WeakMap}function a(u){const c=u.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const YN=new gr,ZN=new ex,JN=new pE,QN=new nx,qP=[],KP=[],YP=new Float32Array(16),ZP=new Float32Array(9),JP=new Float32Array(4);function bf(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=qP[i];if(s===void 0&&(s=new Float32Array(i),qP[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Si(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Mi(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function rx(n,e){let t=KP[e];t===void 0&&(t=new Int32Array(e),KP[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function JQ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function QQ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Si(t,e))return;n.uniform2fv(this.addr,e),Mi(t,e)}}function $Q(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Si(t,e))return;n.uniform3fv(this.addr,e),Mi(t,e)}}function e$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Si(t,e))return;n.uniform4fv(this.addr,e),Mi(t,e)}}function t$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Si(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Mi(t,e)}else{if(Si(t,r))return;JP.set(r),n.uniformMatrix2fv(this.addr,!1,JP),Mi(t,r)}}function n$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Si(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Mi(t,e)}else{if(Si(t,r))return;ZP.set(r),n.uniformMatrix3fv(this.addr,!1,ZP),Mi(t,r)}}function r$(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Si(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Mi(t,e)}else{if(Si(t,r))return;YP.set(r),n.uniformMatrix4fv(this.addr,!1,YP),Mi(t,r)}}function i$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function s$(n,e){const t=this.cache;Si(t,e)||(n.uniform2iv(this.addr,e),Mi(t,e))}function o$(n,e){const t=this.cache;Si(t,e)||(n.uniform3iv(this.addr,e),Mi(t,e))}function a$(n,e){const t=this.cache;Si(t,e)||(n.uniform4iv(this.addr,e),Mi(t,e))}function l$(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function u$(n,e){const t=this.cache;Si(t,e)||(n.uniform2uiv(this.addr,e),Mi(t,e))}function c$(n,e){const t=this.cache;Si(t,e)||(n.uniform3uiv(this.addr,e),Mi(t,e))}function d$(n,e){const t=this.cache;Si(t,e)||(n.uniform4uiv(this.addr,e),Mi(t,e))}function f$(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||YN,i)}function h$(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||JN,i)}function p$(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||QN,i)}function m$(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||ZN,i)}function g$(n){switch(n){case 5126:return JQ;case 35664:return QQ;case 35665:return $Q;case 35666:return e$;case 35674:return t$;case 35675:return n$;case 35676:return r$;case 5124:case 35670:return i$;case 35667:case 35671:return s$;case 35668:case 35672:return o$;case 35669:case 35673:return a$;case 5125:return l$;case 36294:return u$;case 36295:return c$;case 36296:return d$;case 35678:case 36198:case 36298:case 36306:case 35682:return f$;case 35679:case 36299:case 36307:return h$;case 35680:case 36300:case 36308:case 36293:return p$;case 36289:case 36303:case 36311:case 36292:return m$}}function v$(n,e){n.uniform1fv(this.addr,e)}function y$(n,e){const t=bf(e,this.size,2);n.uniform2fv(this.addr,t)}function x$(n,e){const t=bf(e,this.size,3);n.uniform3fv(this.addr,t)}function _$(n,e){const t=bf(e,this.size,4);n.uniform4fv(this.addr,t)}function b$(n,e){const t=bf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function w$(n,e){const t=bf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function S$(n,e){const t=bf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function M$(n,e){n.uniform1iv(this.addr,e)}function E$(n,e){n.uniform2iv(this.addr,e)}function T$(n,e){n.uniform3iv(this.addr,e)}function C$(n,e){n.uniform4iv(this.addr,e)}function A$(n,e){n.uniform1uiv(this.addr,e)}function R$(n,e){n.uniform2uiv(this.addr,e)}function P$(n,e){n.uniform3uiv(this.addr,e)}function D$(n,e){n.uniform4uiv(this.addr,e)}function I$(n,e,t){const r=e.length,i=rx(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2D(e[s]||YN,i[s])}function L$(n,e,t){const r=e.length,i=rx(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture3D(e[s]||JN,i[s])}function k$(n,e,t){const r=e.length,i=rx(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTextureCube(e[s]||QN,i[s])}function N$(n,e,t){const r=e.length,i=rx(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||ZN,i[s])}function O$(n){switch(n){case 5126:return v$;case 35664:return y$;case 35665:return x$;case 35666:return _$;case 35674:return b$;case 35675:return w$;case 35676:return S$;case 5124:case 35670:return M$;case 35667:case 35671:return E$;case 35668:case 35672:return T$;case 35669:case 35673:return C$;case 5125:return A$;case 36294:return R$;case 36295:return P$;case 36296:return D$;case 35678:case 36198:case 36298:case 36306:case 35682:return I$;case 35679:case 36299:case 36307:return L$;case 35680:case 36300:case 36308:case 36293:return k$;case 36289:case 36303:case 36311:case 36292:return N$}}function B$(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=g$(e.type)}function F$(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=O$(e.type)}function $N(n){this.id=n,this.seq=[],this.map={}}$N.prototype.setValue=function(n,e,t){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const o=r[i];o.setValue(n,e[o.id],t)}};const yw=/(\w+)(\])?(\[|\.)?/g;function QP(n,e){n.seq.push(e),n.map[e.id]=e}function z$(n,e,t){const r=n.name,i=r.length;for(yw.lastIndex=0;;){const s=yw.exec(r),o=yw.lastIndex;let a=s[1];const u=s[2]==="]",c=s[3];if(u&&(a=a|0),c===void 0||c==="["&&o+2===i){QP(t,c===void 0?new B$(a,n,e):new F$(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new $N(a),QP(t,h)),t=h}}}function kl(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){const i=n.getActiveUniform(e,r),s=n.getUniformLocation(e,i.name);z$(i,s,this)}}kl.prototype.setValue=function(n,e,t,r){const i=this.map[e];i!==void 0&&i.setValue(n,t,r)};kl.prototype.setOptional=function(n,e,t){const r=e[t];r!==void 0&&this.setValue(n,t,r)};kl.upload=function(n,e,t,r){for(let i=0,s=e.length;i!==s;++i){const o=e[i],a=t[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,r)}};kl.seqWithValue=function(n,e){const t=[];for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.id in e&&t.push(s)}return t};function $P(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let U$=0;function H$(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++)r.push(o+1+": "+t[o]);return r.join(`
`)}function W$(n){switch(n){case jo:return["Linear","( value )"];case Dn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function eD(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[0]);return t.toUpperCase()+`

`+i+`

`+H$(n.getShaderSource(e),o)}else return i}function V$(n,e){const t=W$(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function G$(n,e){let t;switch(e){case FN:t="Linear";break;case nY:t="Reinhard";break;case rY:t="OptimizedCineon";break;case iY:t="ACESFilmic";break;case sY:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function j$(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Rh).join(`
`)}function X$(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function q$(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Rh(n){return n!==""}function tD(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function nD(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const K$=/^[ \t]*#include +<([\w\d./]+)>/gm;function tM(n){return n.replace(K$,Y$)}function Y$(n,e){const t=Ot[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return tM(t)}const Z$=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,J$=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rD(n){return n.replace(J$,eO).replace(Z$,Q$)}function Q$(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),eO(n,e,t,r)}function eO(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function iD(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $$(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===kN?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===FK?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ah&&(e="SHADOWMAP_TYPE_VSM"),e}function eee(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Yd:case Zd:e="ENVMAP_TYPE_CUBE";break;case Qy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function tee(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Zd:e="ENVMAP_MODE_REFRACTION";break}return e}function nee(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Jy:e="ENVMAP_BLENDING_MULTIPLY";break;case eY:e="ENVMAP_BLENDING_MIX";break;case tY:e="ENVMAP_BLENDING_ADD";break}return e}function ree(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function iee(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const u=$$(t),c=eee(t),f=tee(t),h=nee(t),p=ree(t),m=t.isWebGL2?"":j$(t),v=X$(s),y=i.createProgram();let x,w,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[v].filter(Rh).join(`
`),x.length>0&&(x+=`
`),w=[m,v].filter(Rh).join(`
`),w.length>0&&(w+=`
`)):(x=[iD(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Rh).join(`
`),w=[m,iD(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Uo?"#define TONE_MAPPING":"",t.toneMapping!==Uo?Ot.tonemapping_pars_fragment:"",t.toneMapping!==Uo?G$("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ot.encodings_pars_fragment,V$("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Rh).join(`
`)),o=tM(o),o=tD(o,t),o=nD(o,t),a=tM(a),a=tD(a,t),a=nD(a,t),o=rD(o),a=rD(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,w=["#define varying in",t.glslVersion===CP?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===CP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const _=b+x+o,S=b+w+a,M=$P(i,35633,_),C=$P(i,35632,S);if(i.attachShader(y,M),i.attachShader(y,C),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),n.debug.checkShaderErrors){const R=i.getProgramInfoLog(y).trim(),D=i.getShaderInfoLog(M).trim(),O=i.getShaderInfoLog(C).trim();let Y=!0,ie=!0;if(i.getProgramParameter(y,35714)===!1){Y=!1;const U=eD(i,M,"vertex"),G=eD(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,35715)+`

Program Info Log: `+R+`
`+U+`
`+G)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(D===""||O==="")&&(ie=!1);ie&&(this.diagnostics={runnable:Y,programLog:R,vertexShader:{log:D,prefix:x},fragmentShader:{log:O,prefix:w}})}i.deleteShader(M),i.deleteShader(C);let A;this.getUniforms=function(){return A===void 0&&(A=new kl(i,y)),A};let T;return this.getAttributes=function(){return T===void 0&&(T=q$(i,y)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=U$++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=M,this.fragmentShader=C,this}let see=0;class oee{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new aee(e);t.set(e,r)}return t.get(e)}}class aee{constructor(e){this.id=see++,this.code=e,this.usedTimes=0}}function lee(n,e,t,r,i,s,o){const a=new mE,u=new oee,c=[],f=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(T,R,D,O,Y){const ie=O.fog,U=Y.geometry,G=T.isMeshStandardMaterial?O.environment:null,Z=(T.isMeshStandardMaterial?t:e).get(T.envMap||G),te=!!Z&&Z.mapping===Qy?Z.image.height:null,V=v[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const K=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,$=K!==void 0?K.length:0;let re=0;U.morphAttributes.position!==void 0&&(re=1),U.morphAttributes.normal!==void 0&&(re=2),U.morphAttributes.color!==void 0&&(re=3);let le,be,Te,ke;if(V){const Se=Po[V];le=Se.vertexShader,be=Se.fragmentShader}else le=T.vertexShader,be=T.fragmentShader,u.update(T),Te=u.getVertexShaderID(T),ke=u.getFragmentShaderID(T);const ue=n.getRenderTarget(),gt=T.alphaTest>0,Ve=T.clearcoat>0;return{isWebGL2:f,shaderID:V,shaderName:T.type,vertexShader:le,fragmentShader:be,defines:T.defines,customVertexShaderID:Te,customFragmentShaderID:ke,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:Y.isInstancedMesh===!0,instancingColor:Y.isInstancedMesh===!0&&Y.instanceColor!==null,supportsVertexTextures:p,outputEncoding:ue===null?n.outputEncoding:ue.isXRRenderTarget===!0?ue.texture.encoding:jo,map:!!T.map,matcap:!!T.matcap,envMap:!!Z,envMapMode:Z&&Z.mapping,envMapCubeUVHeight:te,lightMap:!!T.lightMap,aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===HN,tangentSpaceNormalMap:T.normalMapType===sc,decodeVideoTexture:!!T.map&&T.map.isVideoTexture===!0&&T.map.encoding===Dn,clearcoat:Ve,clearcoatMap:Ve&&!!T.clearcoatMap,clearcoatRoughnessMap:Ve&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:Ve&&!!T.clearcoatNormalMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,opaque:T.transparent===!1&&T.blending===Pa,alphaMap:!!T.alphaMap,alphaTest:gt,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!U.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||!!T.sheenRoughnessMap,uvsVertexOnly:!(!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatNormalMap||T.transmission>0||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||T.sheen>0||!!T.sheenColorMap||!!T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!ie,useFog:T.fog===!0,fogExp2:ie&&ie.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:h,skinning:Y.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:re,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:Uo,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===zl,flipSided:T.side===ks,useDepthPacking:!!T.depthPacking,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function x(T){const R=[];if(T.shaderID?R.push(T.shaderID):(R.push(T.customVertexShaderID),R.push(T.customFragmentShaderID)),T.defines!==void 0)for(const D in T.defines)R.push(D),R.push(T.defines[D]);return T.isRawShaderMaterial===!1&&(w(R,T),b(R,T),R.push(n.outputEncoding)),R.push(T.customProgramCacheKey),R.join()}function w(T,R){T.push(R.precision),T.push(R.outputEncoding),T.push(R.envMapMode),T.push(R.envMapCubeUVHeight),T.push(R.combine),T.push(R.vertexUvs),T.push(R.fogExp2),T.push(R.sizeAttenuation),T.push(R.morphTargetsCount),T.push(R.morphAttributeCount),T.push(R.numDirLights),T.push(R.numPointLights),T.push(R.numSpotLights),T.push(R.numHemiLights),T.push(R.numRectAreaLights),T.push(R.numDirLightShadows),T.push(R.numPointLightShadows),T.push(R.numSpotLightShadows),T.push(R.shadowMapType),T.push(R.toneMapping),T.push(R.numClippingPlanes),T.push(R.numClipIntersection),T.push(R.depthPacking)}function b(T,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.displacementMap&&a.enable(18),R.specularMap&&a.enable(19),R.roughnessMap&&a.enable(20),R.metalnessMap&&a.enable(21),R.gradientMap&&a.enable(22),R.alphaMap&&a.enable(23),R.alphaTest&&a.enable(24),R.vertexColors&&a.enable(25),R.vertexAlphas&&a.enable(26),R.vertexUvs&&a.enable(27),R.vertexTangents&&a.enable(28),R.uvsVertexOnly&&a.enable(29),R.fog&&a.enable(30),T.push(a.mask),a.disableAll(),R.useFog&&a.enable(0),R.flatShading&&a.enable(1),R.logarithmicDepthBuffer&&a.enable(2),R.skinning&&a.enable(3),R.morphTargets&&a.enable(4),R.morphNormals&&a.enable(5),R.morphColors&&a.enable(6),R.premultipliedAlpha&&a.enable(7),R.shadowMapEnabled&&a.enable(8),R.physicallyCorrectLights&&a.enable(9),R.doubleSided&&a.enable(10),R.flipSided&&a.enable(11),R.useDepthPacking&&a.enable(12),R.dithering&&a.enable(13),R.specularIntensityMap&&a.enable(14),R.specularColorMap&&a.enable(15),R.transmission&&a.enable(16),R.transmissionMap&&a.enable(17),R.thicknessMap&&a.enable(18),R.sheen&&a.enable(19),R.sheenColorMap&&a.enable(20),R.sheenRoughnessMap&&a.enable(21),R.decodeVideoTexture&&a.enable(22),R.opaque&&a.enable(23),T.push(a.mask)}function _(T){const R=v[T.type];let D;if(R){const O=Po[R];D=pr.clone(O.uniforms)}else D=T.uniforms;return D}function S(T,R){let D;for(let O=0,Y=c.length;O<Y;O++){const ie=c[O];if(ie.cacheKey===R){D=ie,++D.usedTimes;break}}return D===void 0&&(D=new iee(n,R,T,s),c.push(D)),D}function M(T){if(--T.usedTimes===0){const R=c.indexOf(T);c[R]=c[c.length-1],c.pop(),T.destroy()}}function C(T){u.remove(T)}function A(){u.dispose()}return{getParameters:y,getProgramCacheKey:x,getUniforms:_,acquireProgram:S,releaseProgram:M,releaseShaderCache:C,programs:c,dispose:A}}function uee(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function cee(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function sD(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function oD(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,m,v,y,x){let w=n[e];return w===void 0?(w={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:y,group:x},n[e]=w):(w.id=h.id,w.object=h,w.geometry=p,w.material=m,w.groupOrder=v,w.renderOrder=h.renderOrder,w.z=y,w.group=x),e++,w}function a(h,p,m,v,y,x){const w=o(h,p,m,v,y,x);m.transmission>0?r.push(w):m.transparent===!0?i.push(w):t.push(w)}function u(h,p,m,v,y,x){const w=o(h,p,m,v,y,x);m.transmission>0?r.unshift(w):m.transparent===!0?i.unshift(w):t.unshift(w)}function c(h,p){t.length>1&&t.sort(h||cee),r.length>1&&r.sort(p||sD),i.length>1&&i.sort(p||sD)}function f(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:u,finish:f,sort:c}}function dee(){let n=new WeakMap;function e(r,i){let s;return n.has(r)===!1?(s=new oD,n.set(r,[s])):i>=n.get(r).length?(s=new oD,n.get(r).push(s)):s=n.get(r)[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function fee(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new B,color:new De};break;case"SpotLight":t={position:new B,direction:new B,color:new De,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new B,color:new De,distance:0,decay:0};break;case"HemisphereLight":t={direction:new B,skyColor:new De,groundColor:new De};break;case"RectAreaLight":t={color:new De,position:new B,halfWidth:new B,halfHeight:new B};break}return n[e.id]=t,t}}}function hee(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ae};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ae};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ae,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let pee=0;function mee(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function gee(n,e){const t=new fee,r=hee(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let f=0;f<9;f++)i.probe.push(new B);const s=new B,o=new Ye,a=new Ye;function u(f,h){let p=0,m=0,v=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let y=0,x=0,w=0,b=0,_=0,S=0,M=0,C=0;f.sort(mee);const A=h!==!0?Math.PI:1;for(let R=0,D=f.length;R<D;R++){const O=f[R],Y=O.color,ie=O.intensity,U=O.distance,G=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)p+=Y.r*ie*A,m+=Y.g*ie*A,v+=Y.b*ie*A;else if(O.isLightProbe)for(let Z=0;Z<9;Z++)i.probe[Z].addScaledVector(O.sh.coefficients[Z],ie);else if(O.isDirectionalLight){const Z=t.get(O);if(Z.color.copy(O.color).multiplyScalar(O.intensity*A),O.castShadow){const te=O.shadow,V=r.get(O);V.shadowBias=te.bias,V.shadowNormalBias=te.normalBias,V.shadowRadius=te.radius,V.shadowMapSize=te.mapSize,i.directionalShadow[y]=V,i.directionalShadowMap[y]=G,i.directionalShadowMatrix[y]=O.shadow.matrix,S++}i.directional[y]=Z,y++}else if(O.isSpotLight){const Z=t.get(O);if(Z.position.setFromMatrixPosition(O.matrixWorld),Z.color.copy(Y).multiplyScalar(ie*A),Z.distance=U,Z.coneCos=Math.cos(O.angle),Z.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),Z.decay=O.decay,O.castShadow){const te=O.shadow,V=r.get(O);V.shadowBias=te.bias,V.shadowNormalBias=te.normalBias,V.shadowRadius=te.radius,V.shadowMapSize=te.mapSize,i.spotShadow[w]=V,i.spotShadowMap[w]=G,i.spotShadowMatrix[w]=O.shadow.matrix,C++}i.spot[w]=Z,w++}else if(O.isRectAreaLight){const Z=t.get(O);Z.color.copy(Y).multiplyScalar(ie),Z.halfWidth.set(O.width*.5,0,0),Z.halfHeight.set(0,O.height*.5,0),i.rectArea[b]=Z,b++}else if(O.isPointLight){const Z=t.get(O);if(Z.color.copy(O.color).multiplyScalar(O.intensity*A),Z.distance=O.distance,Z.decay=O.decay,O.castShadow){const te=O.shadow,V=r.get(O);V.shadowBias=te.bias,V.shadowNormalBias=te.normalBias,V.shadowRadius=te.radius,V.shadowMapSize=te.mapSize,V.shadowCameraNear=te.camera.near,V.shadowCameraFar=te.camera.far,i.pointShadow[x]=V,i.pointShadowMap[x]=G,i.pointShadowMatrix[x]=O.shadow.matrix,M++}i.point[x]=Z,x++}else if(O.isHemisphereLight){const Z=t.get(O);Z.skyColor.copy(O.color).multiplyScalar(ie*A),Z.groundColor.copy(O.groundColor).multiplyScalar(ie*A),i.hemi[_]=Z,_++}}b>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ue.LTC_FLOAT_1,i.rectAreaLTC2=Ue.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ue.LTC_HALF_1,i.rectAreaLTC2=Ue.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const T=i.hash;(T.directionalLength!==y||T.pointLength!==x||T.spotLength!==w||T.rectAreaLength!==b||T.hemiLength!==_||T.numDirectionalShadows!==S||T.numPointShadows!==M||T.numSpotShadows!==C)&&(i.directional.length=y,i.spot.length=w,i.rectArea.length=b,i.point.length=x,i.hemi.length=_,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=M,i.spotShadowMatrix.length=C,T.directionalLength=y,T.pointLength=x,T.spotLength=w,T.rectAreaLength=b,T.hemiLength=_,T.numDirectionalShadows=S,T.numPointShadows=M,T.numSpotShadows=C,i.version=pee++)}function c(f,h){let p=0,m=0,v=0,y=0,x=0;const w=h.matrixWorldInverse;for(let b=0,_=f.length;b<_;b++){const S=f[b];if(S.isDirectionalLight){const M=i.directional[p];M.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(w),p++}else if(S.isSpotLight){const M=i.spot[v];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(w),M.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(w),v++}else if(S.isRectAreaLight){const M=i.rectArea[y];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(w),a.identity(),o.copy(S.matrixWorld),o.premultiply(w),a.extractRotation(o),M.halfWidth.set(S.width*.5,0,0),M.halfHeight.set(0,S.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),y++}else if(S.isPointLight){const M=i.point[m];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(w),m++}else if(S.isHemisphereLight){const M=i.hemi[x];M.direction.setFromMatrixPosition(S.matrixWorld),M.direction.transformDirection(w),x++}}}return{setup:u,setupView:c,state:i}}function aD(n,e){const t=new gee(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function u(h){t.setup(r,h)}function c(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:u,setupLightsView:c,pushLight:o,pushShadow:a}}function vee(n,e){let t=new WeakMap;function r(s,o=0){let a;return t.has(s)===!1?(a=new aD(n,e),t.set(s,[a])):o>=t.get(s).length?(a=new aD(n,e),t.get(s).push(a)):a=t.get(s)[o],a}function i(){t=new WeakMap}return{get:r,dispose:i}}class wf extends Cr{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=MY,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}wf.prototype.isMeshDepthMaterial=!0;class yE extends Cr{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new B,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}yE.prototype.isMeshDistanceMaterial=!0;const yee=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xee=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function tO(n,e,t){let r=new lm;const i=new ae,s=new ae,o=new hn,a=new wf({depthPacking:$y}),u=new yE,c={},f=t.maxTextureSize,h={0:ks,1:Pp,2:zl},p=new Dt({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ae},radius:{value:4}},vertexShader:yee,fragmentShader:xee}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Gt;v.setAttribute("position",new ar(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Qn(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kN,this.render=function(S,M,C){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||S.length===0)return;const A=n.getRenderTarget(),T=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),D=n.state;D.setBlending($t),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let O=0,Y=S.length;O<Y;O++){const ie=S[O],U=ie.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;i.copy(U.mapSize);const G=U.getFrameExtents();if(i.multiply(G),s.copy(U.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/G.x),i.x=s.x*G.x,U.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/G.y),i.y=s.y*G.y,U.mapSize.y=s.y)),U.map===null&&!U.isPointLightShadow&&this.type===Ah&&(U.map=new Ht(i.x,i.y),U.map.texture.name=ie.name+".shadowMap",U.mapPass=new Ht(i.x,i.y),U.camera.updateProjectionMatrix()),U.map===null){const te={minFilter:Ft,magFilter:Ft,format:Is};U.map=new Ht(i.x,i.y,te),U.map.texture.name=ie.name+".shadowMap",U.camera.updateProjectionMatrix()}n.setRenderTarget(U.map),n.clear();const Z=U.getViewportCount();for(let te=0;te<Z;te++){const V=U.getViewport(te);o.set(s.x*V.x,s.y*V.y,s.x*V.z,s.y*V.w),D.viewport(o),U.updateMatrices(ie,te),r=U.getFrustum(),_(M,C,U.camera,ie,this.type)}!U.isPointLightShadow&&this.type===Ah&&w(U,C),U.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(A,T,R)};function w(S,M){const C=e.update(y);p.defines.VSM_SAMPLES!==S.blurSamples&&(p.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),p.uniforms.shadow_pass.value=S.map.texture,p.uniforms.resolution.value=S.mapSize,p.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(M,null,C,p,y,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(M,null,C,m,y,null)}function b(S,M,C,A,T,R){let D=null;const O=C.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(O!==void 0?D=O:D=C.isPointLight===!0?u:a,n.localClippingEnabled&&M.clipShadows===!0&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0){const Y=D.uuid,ie=M.uuid;let U=c[Y];U===void 0&&(U={},c[Y]=U);let G=U[ie];G===void 0&&(G=D.clone(),U[ie]=G),D=G}return D.visible=M.visible,D.wireframe=M.wireframe,R===Ah?D.side=M.shadowSide!==null?M.shadowSide:M.side:D.side=M.shadowSide!==null?M.shadowSide:h[M.side],D.alphaMap=M.alphaMap,D.alphaTest=M.alphaTest,D.clipShadows=M.clipShadows,D.clippingPlanes=M.clippingPlanes,D.clipIntersection=M.clipIntersection,D.displacementMap=M.displacementMap,D.displacementScale=M.displacementScale,D.displacementBias=M.displacementBias,D.wireframeLinewidth=M.wireframeLinewidth,D.linewidth=M.linewidth,C.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(C.matrixWorld),D.nearDistance=A,D.farDistance=T),D}function _(S,M,C,A,T){if(S.visible===!1)return;if(S.layers.test(M.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&T===Ah)&&(!S.frustumCulled||r.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,S.matrixWorld);const O=e.update(S),Y=S.material;if(Array.isArray(Y)){const ie=O.groups;for(let U=0,G=ie.length;U<G;U++){const Z=ie[U],te=Y[Z.materialIndex];if(te&&te.visible){const V=b(S,te,A,C.near,C.far,T);n.renderBufferDirect(C,null,O,V,S,Z)}}}else if(Y.visible){const ie=b(S,Y,A,C.near,C.far,T);n.renderBufferDirect(C,null,O,ie,S,null)}}const D=S.children;for(let O=0,Y=D.length;O<Y;O++)_(D[O],M,C,A,T)}}function _ee(n,e,t){const r=t.isWebGL2;function i(){let X=!1;const Ae=new hn;let Ce=null;const at=new hn(0,0,0,0);return{setMask:function(Oe){Ce!==Oe&&!X&&(n.colorMask(Oe,Oe,Oe,Oe),Ce=Oe)},setLocked:function(Oe){X=Oe},setClear:function(Oe,Qe,Re,ft,Wt){Wt===!0&&(Oe*=ft,Qe*=ft,Re*=ft),Ae.set(Oe,Qe,Re,ft),at.equals(Ae)===!1&&(n.clearColor(Oe,Qe,Re,ft),at.copy(Ae))},reset:function(){X=!1,Ce=null,at.set(-1,0,0,0)}}}function s(){let X=!1,Ae=null,Ce=null,at=null;return{setTest:function(Oe){Oe?ke(2929):ue(2929)},setMask:function(Oe){Ae!==Oe&&!X&&(n.depthMask(Oe),Ae=Oe)},setFunc:function(Oe){if(Ce!==Oe){if(Oe)switch(Oe){case qK:n.depthFunc(512);break;case KK:n.depthFunc(519);break;case YK:n.depthFunc(513);break;case KS:n.depthFunc(515);break;case ZK:n.depthFunc(514);break;case JK:n.depthFunc(518);break;case QK:n.depthFunc(516);break;case $K:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Ce=Oe}},setLocked:function(Oe){X=Oe},setClear:function(Oe){at!==Oe&&(n.clearDepth(Oe),at=Oe)},reset:function(){X=!1,Ae=null,Ce=null,at=null}}}function o(){let X=!1,Ae=null,Ce=null,at=null,Oe=null,Qe=null,Re=null,ft=null,Wt=null;return{setTest:function(Ct){X||(Ct?ke(2960):ue(2960))},setMask:function(Ct){Ae!==Ct&&!X&&(n.stencilMask(Ct),Ae=Ct)},setFunc:function(Ct,Ci,Ai){(Ce!==Ct||at!==Ci||Oe!==Ai)&&(n.stencilFunc(Ct,Ci,Ai),Ce=Ct,at=Ci,Oe=Ai)},setOp:function(Ct,Ci,Ai){(Qe!==Ct||Re!==Ci||ft!==Ai)&&(n.stencilOp(Ct,Ci,Ai),Qe=Ct,Re=Ci,ft=Ai)},setLocked:function(Ct){X=Ct},setClear:function(Ct){Wt!==Ct&&(n.clearStencil(Ct),Wt=Ct)},reset:function(){X=!1,Ae=null,Ce=null,at=null,Oe=null,Qe=null,Re=null,ft=null,Wt=null}}}const a=new i,u=new s,c=new o;let f={},h={},p=new WeakMap,m=[],v=null,y=!1,x=null,w=null,b=null,_=null,S=null,M=null,C=null,A=!1,T=null,R=null,D=null,O=null,Y=null;const ie=n.getParameter(35661);let U=!1,G=0;const Z=n.getParameter(7938);Z.indexOf("WebGL")!==-1?(G=parseFloat(/^WebGL (\d)/.exec(Z)[1]),U=G>=1):Z.indexOf("OpenGL ES")!==-1&&(G=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),U=G>=2);let te=null,V={};const K=n.getParameter(3088),$=n.getParameter(2978),re=new hn().fromArray(K),le=new hn().fromArray($);function be(X,Ae,Ce){const at=new Uint8Array(4),Oe=n.createTexture();n.bindTexture(X,Oe),n.texParameteri(X,10241,9728),n.texParameteri(X,10240,9728);for(let Qe=0;Qe<Ce;Qe++)n.texImage2D(Ae+Qe,0,6408,1,1,0,6408,5121,at);return Oe}const Te={};Te[3553]=be(3553,3553,1),Te[34067]=be(34067,34069,6),a.setClear(0,0,0,1),u.setClear(1),c.setClear(0),ke(2929),u.setFunc(KS),we(!1),We($2),ke(2884),pe($t);function ke(X){f[X]!==!0&&(n.enable(X),f[X]=!0)}function ue(X){f[X]!==!1&&(n.disable(X),f[X]=!1)}function gt(X,Ae){return h[X]!==Ae?(n.bindFramebuffer(X,Ae),h[X]=Ae,r&&(X===36009&&(h[36160]=Ae),X===36160&&(h[36009]=Ae)),!0):!1}function Ve(X,Ae){let Ce=m,at=!1;if(X)if(Ce=p.get(Ae),Ce===void 0&&(Ce=[],p.set(Ae,Ce)),X.isWebGLMultipleRenderTargets){const Oe=X.texture;if(Ce.length!==Oe.length||Ce[0]!==36064){for(let Qe=0,Re=Oe.length;Qe<Re;Qe++)Ce[Qe]=36064+Qe;Ce.length=Oe.length,at=!0}}else Ce[0]!==36064&&(Ce[0]=36064,at=!0);else Ce[0]!==1029&&(Ce[0]=1029,at=!0);at&&(t.isWebGL2?n.drawBuffers(Ce):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ce))}function Ze(X){return v!==X?(n.useProgram(X),v=X,!0):!1}const Se={[Lo]:32774,[zK]:32778,[UK]:32779};if(r)Se[nP]=32775,Se[rP]=32776;else{const X=e.get("EXT_blend_minmax");X!==null&&(Se[nP]=X.MIN_EXT,Se[rP]=X.MAX_EXT)}const st={[qS]:0,[HK]:1,[WK]:768,[$0]:770,[XK]:776,[BN]:774,[ON]:772,[VK]:769,[ey]:771,[jK]:775,[GK]:773};function pe(X,Ae,Ce,at,Oe,Qe,Re,ft){if(X===$t){y===!0&&(ue(3042),y=!1);return}if(y===!1&&(ke(3042),y=!0),X!==XS){if(X!==x||ft!==A){if((w!==Lo||S!==Lo)&&(n.blendEquation(32774),w=Lo,S=Lo),ft)switch(X){case Pa:n.blendFuncSeparate(1,771,1,771);break;case Q0:n.blendFunc(1,1);break;case eP:n.blendFuncSeparate(0,769,0,1);break;case tP:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case Pa:n.blendFuncSeparate(770,771,1,771);break;case Q0:n.blendFunc(770,1);break;case eP:n.blendFuncSeparate(0,769,0,1);break;case tP:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}b=null,_=null,M=null,C=null,x=X,A=ft}return}Oe=Oe||Ae,Qe=Qe||Ce,Re=Re||at,(Ae!==w||Oe!==S)&&(n.blendEquationSeparate(Se[Ae],Se[Oe]),w=Ae,S=Oe),(Ce!==b||at!==_||Qe!==M||Re!==C)&&(n.blendFuncSeparate(st[Ce],st[at],st[Qe],st[Re]),b=Ce,_=at,M=Qe,C=Re),x=X,A=null}function he(X,Ae){X.side===zl?ue(2884):ke(2884);let Ce=X.side===ks;Ae&&(Ce=!Ce),we(Ce),X.blending===Pa&&X.transparent===!1?pe($t):pe(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.premultipliedAlpha),u.setFunc(X.depthFunc),u.setTest(X.depthTest),u.setMask(X.depthWrite),a.setMask(X.colorWrite);const at=X.stencilWrite;c.setTest(at),at&&(c.setMask(X.stencilWriteMask),c.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),c.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),qe(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?ke(32926):ue(32926)}function we(X){T!==X&&(X?n.frontFace(2304):n.frontFace(2305),T=X)}function We(X){X!==OK?(ke(2884),X!==R&&(X===$2?n.cullFace(1029):X===BK?n.cullFace(1028):n.cullFace(1032))):ue(2884),R=X}function Le(X){X!==D&&(U&&n.lineWidth(X),D=X)}function qe(X,Ae,Ce){X?(ke(32823),(O!==Ae||Y!==Ce)&&(n.polygonOffset(Ae,Ce),O=Ae,Y=Ce)):ue(32823)}function ot(X){X?ke(3089):ue(3089)}function rt(X){X===void 0&&(X=33984+ie-1),te!==X&&(n.activeTexture(X),te=X)}function kt(X,Ae){te===null&&rt();let Ce=V[te];Ce===void 0&&(Ce={type:void 0,texture:void 0},V[te]=Ce),(Ce.type!==X||Ce.texture!==Ae)&&(n.bindTexture(X,Ae||Te[X]),Ce.type=X,Ce.texture=Ae)}function _t(){const X=V[te];X!==void 0&&X.type!==void 0&&(n.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function H(){try{n.compressedTexImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function N(){try{n.texSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function de(){try{n.texSubImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function _e(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ne(){try{n.texStorage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Be(){try{n.texStorage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Je(){try{n.texImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function F(){try{n.texImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Me(X){re.equals(X)===!1&&(n.scissor(X.x,X.y,X.z,X.w),re.copy(X))}function Xe(X){le.equals(X)===!1&&(n.viewport(X.x,X.y,X.z,X.w),le.copy(X))}function Pe(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},te=null,V={},h={},p=new WeakMap,m=[],v=null,y=!1,x=null,w=null,b=null,_=null,S=null,M=null,C=null,A=!1,T=null,R=null,D=null,O=null,Y=null,re.set(0,0,n.canvas.width,n.canvas.height),le.set(0,0,n.canvas.width,n.canvas.height),a.reset(),u.reset(),c.reset()}return{buffers:{color:a,depth:u,stencil:c},enable:ke,disable:ue,bindFramebuffer:gt,drawBuffers:Ve,useProgram:Ze,setBlending:pe,setMaterial:he,setFlipSided:we,setCullFace:We,setLineWidth:Le,setPolygonOffset:qe,setScissorTest:ot,activeTexture:rt,bindTexture:kt,unbindTexture:_t,compressedTexImage2D:H,texImage2D:Je,texImage3D:F,texStorage2D:Ne,texStorage3D:Be,texSubImage2D:N,texSubImage3D:de,compressedTexSubImage2D:_e,scissor:Me,viewport:Xe,reset:Pe}}function bee(n,e,t,r,i,s,o){const a=i.isWebGL2,u=i.maxTextures,c=i.maxCubemapSize,f=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const x=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(H,N){return w?new OffscreenCanvas(H,N):Np("canvas")}function _(H,N,de,_e){let Ne=1;if((H.width>_e||H.height>_e)&&(Ne=_e/Math.max(H.width,H.height)),Ne<1||N===!0)if(typeof HTMLImageElement!="undefined"&&H instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&H instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&H instanceof ImageBitmap){const Be=N?sy:Math.floor,Je=Be(Ne*H.width),F=Be(Ne*H.height);y===void 0&&(y=b(Je,F));const Me=de?b(Je,F):y;return Me.width=Je,Me.height=F,Me.getContext("2d").drawImage(H,0,0,Je,F),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+H.width+"x"+H.height+") to ("+Je+"x"+F+")."),Me}else return"data"in H&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+H.width+"x"+H.height+")."),H;return H}function S(H){return eM(H.width)&&eM(H.height)}function M(H){return a?!1:H.wrapS!==is||H.wrapT!==is||H.minFilter!==Ft&&H.minFilter!==Yn}function C(H,N){return H.generateMipmaps&&N&&H.minFilter!==Ft&&H.minFilter!==Yn}function A(H){n.generateMipmap(H)}function T(H,N,de,_e,Ne=!1){if(a===!1)return N;if(H!==null){if(n[H]!==void 0)return n[H];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+H+"'")}let Be=N;return N===6403&&(de===5126&&(Be=33326),de===5131&&(Be=33325),de===5121&&(Be=33321)),N===33319&&(de===5126&&(Be=33328),de===5131&&(Be=33327),de===5121&&(Be=33323)),N===6408&&(de===5126&&(Be=34836),de===5131&&(Be=34842),de===5121&&(Be=_e===Dn&&Ne===!1?35907:32856),de===32819&&(Be=32854),de===32820&&(Be=32855)),(Be===33325||Be===33326||Be===33327||Be===33328||Be===34842||Be===34836)&&e.get("EXT_color_buffer_float"),Be}function R(H,N,de){return C(H,de)===!0||H.isFramebufferTexture&&H.minFilter!==Ft&&H.minFilter!==Yn?Math.log2(Math.max(N.width,N.height))+1:H.mipmaps!==void 0&&H.mipmaps.length>0?H.mipmaps.length:H.isCompressedTexture&&Array.isArray(H.image)?N.mipmaps.length:1}function D(H){return H===Ft||H===iP||H===sP?9728:9729}function O(H){const N=H.target;N.removeEventListener("dispose",O),ie(N),N.isVideoTexture&&v.delete(N)}function Y(H){const N=H.target;N.removeEventListener("dispose",Y),G(N)}function ie(H){const N=r.get(H);if(N.__webglInit===void 0)return;const de=H.source,_e=x.get(de);if(_e){const Ne=_e[N.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&U(H),Object.keys(_e).length===0&&x.delete(de)}r.remove(H)}function U(H){const N=r.get(H);n.deleteTexture(N.__webglTexture);const de=H.source,_e=x.get(de);delete _e[N.__cacheKey],o.memory.textures--}function G(H){const N=H.texture,de=r.get(H),_e=r.get(N);if(_e.__webglTexture!==void 0&&(n.deleteTexture(_e.__webglTexture),o.memory.textures--),H.depthTexture&&H.depthTexture.dispose(),H.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++)n.deleteFramebuffer(de.__webglFramebuffer[Ne]),de.__webglDepthbuffer&&n.deleteRenderbuffer(de.__webglDepthbuffer[Ne]);else n.deleteFramebuffer(de.__webglFramebuffer),de.__webglDepthbuffer&&n.deleteRenderbuffer(de.__webglDepthbuffer),de.__webglMultisampledFramebuffer&&n.deleteFramebuffer(de.__webglMultisampledFramebuffer),de.__webglColorRenderbuffer&&n.deleteRenderbuffer(de.__webglColorRenderbuffer),de.__webglDepthRenderbuffer&&n.deleteRenderbuffer(de.__webglDepthRenderbuffer);if(H.isWebGLMultipleRenderTargets)for(let Ne=0,Be=N.length;Ne<Be;Ne++){const Je=r.get(N[Ne]);Je.__webglTexture&&(n.deleteTexture(Je.__webglTexture),o.memory.textures--),r.remove(N[Ne])}r.remove(N),r.remove(H)}let Z=0;function te(){Z=0}function V(){const H=Z;return H>=u&&console.warn("THREE.WebGLTextures: Trying to use "+H+" texture units while this GPU supports only "+u),Z+=1,H}function K(H){const N=[];return N.push(H.wrapS),N.push(H.wrapT),N.push(H.magFilter),N.push(H.minFilter),N.push(H.anisotropy),N.push(H.internalFormat),N.push(H.format),N.push(H.type),N.push(H.generateMipmaps),N.push(H.premultiplyAlpha),N.push(H.flipY),N.push(H.unpackAlignment),N.push(H.encoding),N.join()}function $(H,N){const de=r.get(H);if(H.isVideoTexture&&kt(H),H.isRenderTargetTexture===!1&&H.version>0&&de.__version!==H.version){const _e=H.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ve(de,H,N);return}}t.activeTexture(33984+N),t.bindTexture(3553,de.__webglTexture)}function re(H,N){const de=r.get(H);if(H.version>0&&de.__version!==H.version){Ve(de,H,N);return}t.activeTexture(33984+N),t.bindTexture(35866,de.__webglTexture)}function le(H,N){const de=r.get(H);if(H.version>0&&de.__version!==H.version){Ve(de,H,N);return}t.activeTexture(33984+N),t.bindTexture(32879,de.__webglTexture)}function be(H,N){const de=r.get(H);if(H.version>0&&de.__version!==H.version){Ze(de,H,N);return}t.activeTexture(33984+N),t.bindTexture(34067,de.__webglTexture)}const Te={[Ip]:10497,[is]:33071,[ZS]:33648},ke={[Ft]:9728,[iP]:9984,[sP]:9986,[Yn]:9729,[oY]:9985,[am]:9987};function ue(H,N,de){if(de?(n.texParameteri(H,10242,Te[N.wrapS]),n.texParameteri(H,10243,Te[N.wrapT]),(H===32879||H===35866)&&n.texParameteri(H,32882,Te[N.wrapR]),n.texParameteri(H,10240,ke[N.magFilter]),n.texParameteri(H,10241,ke[N.minFilter])):(n.texParameteri(H,10242,33071),n.texParameteri(H,10243,33071),(H===32879||H===35866)&&n.texParameteri(H,32882,33071),(N.wrapS!==is||N.wrapT!==is)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(H,10240,D(N.magFilter)),n.texParameteri(H,10241,D(N.minFilter)),N.minFilter!==Ft&&N.minFilter!==Yn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const _e=e.get("EXT_texture_filter_anisotropic");if(N.type===co&&e.has("OES_texture_float_linear")===!1||a===!1&&N.type===No&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||r.get(N).__currentAnisotropy)&&(n.texParameterf(H,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,i.getMaxAnisotropy())),r.get(N).__currentAnisotropy=N.anisotropy)}}function gt(H,N){let de=!1;H.__webglInit===void 0&&(H.__webglInit=!0,N.addEventListener("dispose",O));const _e=N.source;let Ne=x.get(_e);Ne===void 0&&(Ne={},x.set(_e,Ne));const Be=K(N);if(Be!==H.__cacheKey){Ne[Be]===void 0&&(Ne[Be]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,de=!0),Ne[Be].usedTimes++;const Je=Ne[H.__cacheKey];Je!==void 0&&(Ne[H.__cacheKey].usedTimes--,Je.usedTimes===0&&U(N)),H.__cacheKey=Be,H.__webglTexture=Ne[Be].texture}return de}function Ve(H,N,de){let _e=3553;N.isDataArrayTexture&&(_e=35866),N.isData3DTexture&&(_e=32879);const Ne=gt(H,N),Be=N.source;if(t.activeTexture(33984+de),t.bindTexture(_e,H.__webglTexture),Be.version!==Be.__currentVersion||Ne===!0){n.pixelStorei(37440,N.flipY),n.pixelStorei(37441,N.premultiplyAlpha),n.pixelStorei(3317,N.unpackAlignment),n.pixelStorei(37443,0);const Je=M(N)&&S(N.image)===!1;let F=_(N.image,Je,!1,f);F=_t(N,F);const Me=S(F)||a,Xe=s.convert(N.format,N.encoding);let Pe=s.convert(N.type),X=T(N.internalFormat,Xe,Pe,N.encoding,N.isVideoTexture);ue(_e,N,Me);let Ae;const Ce=N.mipmaps,at=a&&N.isVideoTexture!==!0,Oe=H.__version===void 0||Ne===!0,Qe=R(N,F,Me);if(N.isDepthTexture)X=6402,a?N.type===co?X=36012:N.type===$v?X=33190:N.type===Id?X=35056:X=33189:N.type===co&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===Bu&&X===6402&&N.type!==Yu&&N.type!==$v&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=Yu,Pe=s.convert(N.type)),N.format===Jd&&X===6402&&(X=34041,N.type!==Id&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=Id,Pe=s.convert(N.type))),Oe&&(at?t.texStorage2D(3553,1,X,F.width,F.height):t.texImage2D(3553,0,X,F.width,F.height,0,Xe,Pe,null));else if(N.isDataTexture)if(Ce.length>0&&Me){at&&Oe&&t.texStorage2D(3553,Qe,X,Ce[0].width,Ce[0].height);for(let Re=0,ft=Ce.length;Re<ft;Re++)Ae=Ce[Re],at?t.texSubImage2D(3553,Re,0,0,Ae.width,Ae.height,Xe,Pe,Ae.data):t.texImage2D(3553,Re,X,Ae.width,Ae.height,0,Xe,Pe,Ae.data);N.generateMipmaps=!1}else at?(Oe&&t.texStorage2D(3553,Qe,X,F.width,F.height),t.texSubImage2D(3553,0,0,0,F.width,F.height,Xe,Pe,F.data)):t.texImage2D(3553,0,X,F.width,F.height,0,Xe,Pe,F.data);else if(N.isCompressedTexture){at&&Oe&&t.texStorage2D(3553,Qe,X,Ce[0].width,Ce[0].height);for(let Re=0,ft=Ce.length;Re<ft;Re++)Ae=Ce[Re],N.format!==Is?Xe!==null?at?t.compressedTexSubImage2D(3553,Re,0,0,Ae.width,Ae.height,Xe,Ae.data):t.compressedTexImage2D(3553,Re,X,Ae.width,Ae.height,0,Ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):at?t.texSubImage2D(3553,Re,0,0,Ae.width,Ae.height,Xe,Pe,Ae.data):t.texImage2D(3553,Re,X,Ae.width,Ae.height,0,Xe,Pe,Ae.data)}else if(N.isDataArrayTexture)at?(Oe&&t.texStorage3D(35866,Qe,X,F.width,F.height,F.depth),t.texSubImage3D(35866,0,0,0,0,F.width,F.height,F.depth,Xe,Pe,F.data)):t.texImage3D(35866,0,X,F.width,F.height,F.depth,0,Xe,Pe,F.data);else if(N.isData3DTexture)at?(Oe&&t.texStorage3D(32879,Qe,X,F.width,F.height,F.depth),t.texSubImage3D(32879,0,0,0,0,F.width,F.height,F.depth,Xe,Pe,F.data)):t.texImage3D(32879,0,X,F.width,F.height,F.depth,0,Xe,Pe,F.data);else if(N.isFramebufferTexture){if(Oe)if(at)t.texStorage2D(3553,Qe,X,F.width,F.height);else{let Re=F.width,ft=F.height;for(let Wt=0;Wt<Qe;Wt++)t.texImage2D(3553,Wt,X,Re,ft,0,Xe,Pe,null),Re>>=1,ft>>=1}}else if(Ce.length>0&&Me){at&&Oe&&t.texStorage2D(3553,Qe,X,Ce[0].width,Ce[0].height);for(let Re=0,ft=Ce.length;Re<ft;Re++)Ae=Ce[Re],at?t.texSubImage2D(3553,Re,0,0,Xe,Pe,Ae):t.texImage2D(3553,Re,X,Xe,Pe,Ae);N.generateMipmaps=!1}else at?(Oe&&t.texStorage2D(3553,Qe,X,F.width,F.height),t.texSubImage2D(3553,0,0,0,Xe,Pe,F)):t.texImage2D(3553,0,X,Xe,Pe,F);C(N,Me)&&A(_e),Be.__currentVersion=Be.version,N.onUpdate&&N.onUpdate(N)}H.__version=N.version}function Ze(H,N,de){if(N.image.length!==6)return;const _e=gt(H,N),Ne=N.source;if(t.activeTexture(33984+de),t.bindTexture(34067,H.__webglTexture),Ne.version!==Ne.__currentVersion||_e===!0){n.pixelStorei(37440,N.flipY),n.pixelStorei(37441,N.premultiplyAlpha),n.pixelStorei(3317,N.unpackAlignment),n.pixelStorei(37443,0);const Be=N.isCompressedTexture||N.image[0].isCompressedTexture,Je=N.image[0]&&N.image[0].isDataTexture,F=[];for(let Re=0;Re<6;Re++)!Be&&!Je?F[Re]=_(N.image[Re],!1,!0,c):F[Re]=Je?N.image[Re].image:N.image[Re],F[Re]=_t(N,F[Re]);const Me=F[0],Xe=S(Me)||a,Pe=s.convert(N.format,N.encoding),X=s.convert(N.type),Ae=T(N.internalFormat,Pe,X,N.encoding),Ce=a&&N.isVideoTexture!==!0,at=H.__version===void 0;let Oe=R(N,Me,Xe);ue(34067,N,Xe);let Qe;if(Be){Ce&&at&&t.texStorage2D(34067,Oe,Ae,Me.width,Me.height);for(let Re=0;Re<6;Re++){Qe=F[Re].mipmaps;for(let ft=0;ft<Qe.length;ft++){const Wt=Qe[ft];N.format!==Is?Pe!==null?Ce?t.compressedTexSubImage2D(34069+Re,ft,0,0,Wt.width,Wt.height,Pe,Wt.data):t.compressedTexImage2D(34069+Re,ft,Ae,Wt.width,Wt.height,0,Wt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ce?t.texSubImage2D(34069+Re,ft,0,0,Wt.width,Wt.height,Pe,X,Wt.data):t.texImage2D(34069+Re,ft,Ae,Wt.width,Wt.height,0,Pe,X,Wt.data)}}}else{Qe=N.mipmaps,Ce&&at&&(Qe.length>0&&Oe++,t.texStorage2D(34067,Oe,Ae,F[0].width,F[0].height));for(let Re=0;Re<6;Re++)if(Je){Ce?t.texSubImage2D(34069+Re,0,0,0,F[Re].width,F[Re].height,Pe,X,F[Re].data):t.texImage2D(34069+Re,0,Ae,F[Re].width,F[Re].height,0,Pe,X,F[Re].data);for(let ft=0;ft<Qe.length;ft++){const Ct=Qe[ft].image[Re].image;Ce?t.texSubImage2D(34069+Re,ft+1,0,0,Ct.width,Ct.height,Pe,X,Ct.data):t.texImage2D(34069+Re,ft+1,Ae,Ct.width,Ct.height,0,Pe,X,Ct.data)}}else{Ce?t.texSubImage2D(34069+Re,0,0,0,Pe,X,F[Re]):t.texImage2D(34069+Re,0,Ae,Pe,X,F[Re]);for(let ft=0;ft<Qe.length;ft++){const Wt=Qe[ft];Ce?t.texSubImage2D(34069+Re,ft+1,0,0,Pe,X,Wt.image[Re]):t.texImage2D(34069+Re,ft+1,Ae,Pe,X,Wt.image[Re])}}}C(N,Xe)&&A(34067),Ne.__currentVersion=Ne.version,N.onUpdate&&N.onUpdate(N)}H.__version=N.version}function Se(H,N,de,_e,Ne){const Be=s.convert(de.format,de.encoding),Je=s.convert(de.type),F=T(de.internalFormat,Be,Je,de.encoding);r.get(N).__hasExternalTextures||(Ne===32879||Ne===35866?t.texImage3D(Ne,0,F,N.width,N.height,N.depth,0,Be,Je,null):t.texImage2D(Ne,0,F,N.width,N.height,0,Be,Je,null)),t.bindFramebuffer(36160,H),rt(N)?p.framebufferTexture2DMultisampleEXT(36160,_e,Ne,r.get(de).__webglTexture,0,ot(N)):n.framebufferTexture2D(36160,_e,Ne,r.get(de).__webglTexture,0),t.bindFramebuffer(36160,null)}function st(H,N,de){if(n.bindRenderbuffer(36161,H),N.depthBuffer&&!N.stencilBuffer){let _e=33189;if(de||rt(N)){const Ne=N.depthTexture;Ne&&Ne.isDepthTexture&&(Ne.type===co?_e=36012:Ne.type===$v&&(_e=33190));const Be=ot(N);rt(N)?p.renderbufferStorageMultisampleEXT(36161,Be,_e,N.width,N.height):n.renderbufferStorageMultisample(36161,Be,_e,N.width,N.height)}else n.renderbufferStorage(36161,_e,N.width,N.height);n.framebufferRenderbuffer(36160,36096,36161,H)}else if(N.depthBuffer&&N.stencilBuffer){const _e=ot(N);de&&rt(N)===!1?n.renderbufferStorageMultisample(36161,_e,35056,N.width,N.height):rt(N)?p.renderbufferStorageMultisampleEXT(36161,_e,35056,N.width,N.height):n.renderbufferStorage(36161,34041,N.width,N.height),n.framebufferRenderbuffer(36160,33306,36161,H)}else{const _e=N.isWebGLMultipleRenderTargets===!0?N.texture[0]:N.texture,Ne=s.convert(_e.format,_e.encoding),Be=s.convert(_e.type),Je=T(_e.internalFormat,Ne,Be,_e.encoding),F=ot(N);de&&rt(N)===!1?n.renderbufferStorageMultisample(36161,F,Je,N.width,N.height):rt(N)?p.renderbufferStorageMultisampleEXT(36161,F,Je,N.width,N.height):n.renderbufferStorage(36161,Je,N.width,N.height)}n.bindRenderbuffer(36161,null)}function pe(H,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,H),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),$(N.depthTexture,0);const _e=r.get(N.depthTexture).__webglTexture,Ne=ot(N);if(N.depthTexture.format===Bu)rt(N)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,_e,0,Ne):n.framebufferTexture2D(36160,36096,3553,_e,0);else if(N.depthTexture.format===Jd)rt(N)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,_e,0,Ne):n.framebufferTexture2D(36160,33306,3553,_e,0);else throw new Error("Unknown depthTexture format")}function he(H){const N=r.get(H),de=H.isWebGLCubeRenderTarget===!0;if(H.depthTexture&&!N.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");pe(N.__webglFramebuffer,H)}else if(de){N.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)t.bindFramebuffer(36160,N.__webglFramebuffer[_e]),N.__webglDepthbuffer[_e]=n.createRenderbuffer(),st(N.__webglDepthbuffer[_e],H,!1)}else t.bindFramebuffer(36160,N.__webglFramebuffer),N.__webglDepthbuffer=n.createRenderbuffer(),st(N.__webglDepthbuffer,H,!1);t.bindFramebuffer(36160,null)}function we(H,N,de){const _e=r.get(H);N!==void 0&&Se(_e.__webglFramebuffer,H,H.texture,36064,3553),de!==void 0&&he(H)}function We(H){const N=H.texture,de=r.get(H),_e=r.get(N);H.addEventListener("dispose",Y),H.isWebGLMultipleRenderTargets!==!0&&(_e.__webglTexture===void 0&&(_e.__webglTexture=n.createTexture()),_e.__version=N.version,o.memory.textures++);const Ne=H.isWebGLCubeRenderTarget===!0,Be=H.isWebGLMultipleRenderTargets===!0,Je=S(H)||a;if(Ne){de.__webglFramebuffer=[];for(let F=0;F<6;F++)de.__webglFramebuffer[F]=n.createFramebuffer()}else if(de.__webglFramebuffer=n.createFramebuffer(),Be)if(i.drawBuffers){const F=H.texture;for(let Me=0,Xe=F.length;Me<Xe;Me++){const Pe=r.get(F[Me]);Pe.__webglTexture===void 0&&(Pe.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&H.samples>0&&rt(H)===!1){de.__webglMultisampledFramebuffer=n.createFramebuffer(),de.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,de.__webglColorRenderbuffer);const F=s.convert(N.format,N.encoding),Me=s.convert(N.type),Xe=T(N.internalFormat,F,Me,N.encoding),Pe=ot(H);n.renderbufferStorageMultisample(36161,Pe,Xe,H.width,H.height),t.bindFramebuffer(36160,de.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,de.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),H.depthBuffer&&(de.__webglDepthRenderbuffer=n.createRenderbuffer(),st(de.__webglDepthRenderbuffer,H,!0)),t.bindFramebuffer(36160,null)}if(Ne){t.bindTexture(34067,_e.__webglTexture),ue(34067,N,Je);for(let F=0;F<6;F++)Se(de.__webglFramebuffer[F],H,N,36064,34069+F);C(N,Je)&&A(34067),t.unbindTexture()}else if(Be){const F=H.texture;for(let Me=0,Xe=F.length;Me<Xe;Me++){const Pe=F[Me],X=r.get(Pe);t.bindTexture(3553,X.__webglTexture),ue(3553,Pe,Je),Se(de.__webglFramebuffer,H,Pe,36064+Me,3553),C(Pe,Je)&&A(3553)}t.unbindTexture()}else{let F=3553;(H.isWebGL3DRenderTarget||H.isWebGLArrayRenderTarget)&&(a?F=H.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(F,_e.__webglTexture),ue(F,N,Je),Se(de.__webglFramebuffer,H,N,36064,F),C(N,Je)&&A(F),t.unbindTexture()}H.depthBuffer&&he(H)}function Le(H){const N=S(H)||a,de=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let _e=0,Ne=de.length;_e<Ne;_e++){const Be=de[_e];if(C(Be,N)){const Je=H.isWebGLCubeRenderTarget?34067:3553,F=r.get(Be).__webglTexture;t.bindTexture(Je,F),A(Je),t.unbindTexture()}}}function qe(H){if(a&&H.samples>0&&rt(H)===!1){const N=H.width,de=H.height;let _e=16384;const Ne=[36064],Be=H.stencilBuffer?33306:36096;H.depthBuffer&&Ne.push(Be);const Je=r.get(H),F=Je.__ignoreDepthValues!==void 0?Je.__ignoreDepthValues:!1;F===!1&&(H.depthBuffer&&(_e|=256),H.stencilBuffer&&(_e|=1024)),t.bindFramebuffer(36008,Je.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Je.__webglFramebuffer),F===!0&&(n.invalidateFramebuffer(36008,[Be]),n.invalidateFramebuffer(36009,[Be])),n.blitFramebuffer(0,0,N,de,0,0,N,de,_e,9728),m&&n.invalidateFramebuffer(36008,Ne),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,Je.__webglMultisampledFramebuffer)}}function ot(H){return Math.min(h,H.samples)}function rt(H){const N=r.get(H);return a&&H.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function kt(H){const N=o.render.frame;v.get(H)!==N&&(v.set(H,N),H.update())}function _t(H,N){const de=H.encoding,_e=H.format,Ne=H.type;return H.isCompressedTexture===!0||H.isVideoTexture===!0||H.format===$S||de!==jo&&(de===Dn?a===!1?e.has("EXT_sRGB")===!0&&_e===Is?(H.format=$S,H.minFilter=Yn,H.generateMipmaps=!1):N=oc.sRGBToLinear(N):(_e!==Is||Ne!==Ku)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",de)),N}this.allocateTextureUnit=V,this.resetTextureUnits=te,this.setTexture2D=$,this.setTexture2DArray=re,this.setTexture3D=le,this.setTextureCube=be,this.rebindTextures=we,this.setupRenderTarget=We,this.updateRenderTargetMipmap=Le,this.updateMultisampleRenderTarget=qe,this.setupDepthRenderbuffer=he,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=rt}function wee(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Ku)return 5121;if(s===cY)return 32819;if(s===dY)return 32820;if(s===aY)return 5120;if(s===lY)return 5122;if(s===Yu)return 5123;if(s===uY)return 5124;if(s===$v)return 5125;if(s===co)return 5126;if(s===No)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===fY)return 6406;if(s===Is)return 6408;if(s===pY)return 6409;if(s===mY)return 6410;if(s===Bu)return 6402;if(s===Jd)return 34041;if(s===gY)return 6403;if(s===hY)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===$S)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===vY)return 36244;if(s===yY)return 33319;if(s===xY)return 33320;if(s===_Y)return 36249;if(s===Hb||s===Wb||s===Vb||s===Gb)if(o===Dn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Hb)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Wb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Vb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Gb)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Hb)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Wb)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Vb)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Gb)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===oP||s===aP||s===lP||s===uP)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===oP)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===aP)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===lP)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===uP)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===bY)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===cP||s===dP)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===cP)return o===Dn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===dP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===fP||s===hP||s===pP||s===mP||s===gP||s===vP||s===yP||s===xP||s===_P||s===bP||s===wP||s===SP||s===MP||s===EP)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===fP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===hP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===pP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===mP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===gP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===vP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===yP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===xP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===_P)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===bP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===wP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===SP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===MP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===EP)return o===Dn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===TP)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===TP)return o===Dn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Id?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class nO extends Sr{constructor(e=[]){super(),this.cameras=e}}nO.prototype.isArrayCamera=!0;class Vr extends en{constructor(){super(),this.type="Group"}}Vr.prototype.isGroup=!0;const See={type:"move"};class xw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new B,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new B),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new B,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new B),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,u=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(See))),c&&e.hand){o=!0;for(const y of e.hand.values()){const x=t.getJointPose(y,r);if(c.joints[y.jointName]===void 0){const b=new Vr;b.matrixAutoUpdate=!1,b.visible=!1,c.joints[y.jointName]=b,c.add(b)}const w=c.joints[y.jointName];x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=x.radius),w.visible=x!==null}const f=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=f.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),u!==null&&(u.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class ix extends gr{constructor(e,t,r,i,s,o,a,u,c,f){if(f=f!==void 0?f:Bu,f!==Bu&&f!==Jd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===Bu&&(r=Yu),r===void 0&&f===Jd&&(r=Id),super(null,i,s,o,a,u,f,r,c),this.image={width:e,height:t},this.magFilter=a!==void 0?a:Ft,this.minFilter=u!==void 0?u:Ft,this.flipY=!1,this.generateMipmaps=!1}}ix.prototype.isDepthTexture=!0;class Mee extends Ql{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",u=null,c=null,f=null,h=null,p=null,m=null;const v=t.getContextAttributes();let y=null,x=null;const w=[],b=new Map,_=new Sr;_.layers.enable(1),_.viewport=new hn;const S=new Sr;S.layers.enable(2),S.viewport=new hn;const M=[_,S],C=new nO;C.layers.enable(1),C.layers.enable(2);let A=null,T=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let $=w[K];return $===void 0&&($=new xw,w[K]=$),$.getTargetRaySpace()},this.getControllerGrip=function(K){let $=w[K];return $===void 0&&($=new xw,w[K]=$),$.getGripSpace()},this.getHand=function(K){let $=w[K];return $===void 0&&($=new xw,w[K]=$),$.getHandSpace()};function R(K){const $=b.get(K.inputSource);$&&$.dispatchEvent({type:K.type,data:K.inputSource})}function D(){b.forEach(function(K,$){K.disconnect($)}),b.clear(),A=null,T=null,e.setRenderTarget(y),p=null,h=null,f=null,i=null,x=null,V.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(K){s=K,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){a=K,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(K){u=K},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(K){if(i=K,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",R),i.addEventListener("selectstart",R),i.addEventListener("selectend",R),i.addEventListener("squeeze",R),i.addEventListener("squeezestart",R),i.addEventListener("squeezeend",R),i.addEventListener("end",D),i.addEventListener("inputsourceschange",O),v.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const $={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,t,$),i.updateRenderState({baseLayer:p}),x=new Ht(p.framebufferWidth,p.framebufferHeight,{format:Is,type:Ku,encoding:e.outputEncoding})}else{let $=null,re=null,le=null;v.depth&&(le=v.stencil?35056:33190,$=v.stencil?Jd:Bu,re=v.stencil?Id:Yu);const be={colorFormat:e.outputEncoding===Dn?35907:32856,depthFormat:le,scaleFactor:s};f=new XRWebGLBinding(i,t),h=f.createProjectionLayer(be),i.updateRenderState({layers:[h]}),x=new Ht(h.textureWidth,h.textureHeight,{format:Is,type:Ku,depthTexture:new ix(h.textureWidth,h.textureHeight,re,void 0,void 0,void 0,void 0,void 0,void 0,$),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const Te=e.properties.get(x);Te.__ignoreDepthValues=h.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(1),o=await i.requestReferenceSpace(a),V.setContext(i),V.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function O(K){const $=i.inputSources;for(let re=0;re<$.length;re++){const le=$[re].handedness==="right"?1:0;b.set($[re],w[le])}for(let re=0;re<K.removed.length;re++){const le=K.removed[re],be=b.get(le);be&&(be.dispatchEvent({type:"disconnected",data:le}),b.delete(le))}for(let re=0;re<K.added.length;re++){const le=K.added[re],be=b.get(le);be&&be.dispatchEvent({type:"connected",data:le})}}const Y=new B,ie=new B;function U(K,$,re){Y.setFromMatrixPosition($.matrixWorld),ie.setFromMatrixPosition(re.matrixWorld);const le=Y.distanceTo(ie),be=$.projectionMatrix.elements,Te=re.projectionMatrix.elements,ke=be[14]/(be[10]-1),ue=be[14]/(be[10]+1),gt=(be[9]+1)/be[5],Ve=(be[9]-1)/be[5],Ze=(be[8]-1)/be[0],Se=(Te[8]+1)/Te[0],st=ke*Ze,pe=ke*Se,he=le/(-Ze+Se),we=he*-Ze;$.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(we),K.translateZ(he),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert();const We=ke+he,Le=ue+he,qe=st-we,ot=pe+(le-we),rt=gt*ue/Le*We,kt=Ve*ue/Le*We;K.projectionMatrix.makePerspective(qe,ot,rt,kt,We,Le)}function G(K,$){$===null?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices($.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(i===null)return;C.near=S.near=_.near=K.near,C.far=S.far=_.far=K.far,(A!==C.near||T!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),A=C.near,T=C.far);const $=K.parent,re=C.cameras;G(C,$);for(let be=0;be<re.length;be++)G(re[be],$);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),K.position.copy(C.position),K.quaternion.copy(C.quaternion),K.scale.copy(C.scale),K.matrix.copy(C.matrix),K.matrixWorld.copy(C.matrixWorld);const le=K.children;for(let be=0,Te=le.length;be<Te;be++)le[be].updateMatrixWorld(!0);re.length===2?U(C,_,S):C.projectionMatrix.copy(_.projectionMatrix)},this.getCamera=function(){return C},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function(K){h!==null&&(h.fixedFoveation=K),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=K)};let Z=null;function te(K,$){if(c=$.getViewerPose(u||o),m=$,c!==null){const le=c.views;p!==null&&(e.setRenderTargetFramebuffer(x,p.framebuffer),e.setRenderTarget(x));let be=!1;le.length!==C.cameras.length&&(C.cameras.length=0,be=!0);for(let Te=0;Te<le.length;Te++){const ke=le[Te];let ue=null;if(p!==null)ue=p.getViewport(ke);else{const Ve=f.getViewSubImage(h,ke);ue=Ve.viewport,Te===0&&(e.setRenderTargetTextures(x,Ve.colorTexture,h.ignoreDepthValues?void 0:Ve.depthStencilTexture),e.setRenderTarget(x))}const gt=M[Te];gt.matrix.fromArray(ke.transform.matrix),gt.projectionMatrix.fromArray(ke.projectionMatrix),gt.viewport.set(ue.x,ue.y,ue.width,ue.height),Te===0&&C.matrix.copy(gt.matrix),be===!0&&C.cameras.push(gt)}}const re=i.inputSources;for(let le=0;le<w.length;le++){const be=re[le],Te=b.get(be);Te!==void 0&&Te.update(be,$,u||o)}Z&&Z(K,$),m=null}const V=new KN;V.setAnimationLoop(te),this.setAnimationLoop=function(K){Z=K},this.dispose=function(){}}}function Eee(n,e){function t(y,x){y.fogColor.value.copy(x.color),x.isFog?(y.fogNear.value=x.near,y.fogFar.value=x.far):x.isFogExp2&&(y.fogDensity.value=x.density)}function r(y,x,w,b,_){x.isMeshBasicMaterial||x.isMeshLambertMaterial?i(y,x):x.isMeshToonMaterial?(i(y,x),f(y,x)):x.isMeshPhongMaterial?(i(y,x),c(y,x)):x.isMeshStandardMaterial?(i(y,x),h(y,x),x.isMeshPhysicalMaterial&&p(y,x,_)):x.isMeshMatcapMaterial?(i(y,x),m(y,x)):x.isMeshDepthMaterial?i(y,x):x.isMeshDistanceMaterial?(i(y,x),v(y,x)):x.isMeshNormalMaterial?i(y,x):x.isLineBasicMaterial?(s(y,x),x.isLineDashedMaterial&&o(y,x)):x.isPointsMaterial?a(y,x,w,b):x.isSpriteMaterial?u(y,x):x.isShadowMaterial?(y.color.value.copy(x.color),y.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(y,x){y.opacity.value=x.opacity,x.color&&y.diffuse.value.copy(x.color),x.emissive&&y.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.bumpMap&&(y.bumpMap.value=x.bumpMap,y.bumpScale.value=x.bumpScale,x.side===ks&&(y.bumpScale.value*=-1)),x.displacementMap&&(y.displacementMap.value=x.displacementMap,y.displacementScale.value=x.displacementScale,y.displacementBias.value=x.displacementBias),x.emissiveMap&&(y.emissiveMap.value=x.emissiveMap),x.normalMap&&(y.normalMap.value=x.normalMap,y.normalScale.value.copy(x.normalScale),x.side===ks&&y.normalScale.value.negate()),x.specularMap&&(y.specularMap.value=x.specularMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);const w=e.get(x).envMap;if(w&&(y.envMap.value=w,y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=x.reflectivity,y.ior.value=x.ior,y.refractionRatio.value=x.refractionRatio),x.lightMap){y.lightMap.value=x.lightMap;const S=n.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=x.lightMapIntensity*S}x.aoMap&&(y.aoMap.value=x.aoMap,y.aoMapIntensity.value=x.aoMapIntensity);let b;x.map?b=x.map:x.specularMap?b=x.specularMap:x.displacementMap?b=x.displacementMap:x.normalMap?b=x.normalMap:x.bumpMap?b=x.bumpMap:x.roughnessMap?b=x.roughnessMap:x.metalnessMap?b=x.metalnessMap:x.alphaMap?b=x.alphaMap:x.emissiveMap?b=x.emissiveMap:x.clearcoatMap?b=x.clearcoatMap:x.clearcoatNormalMap?b=x.clearcoatNormalMap:x.clearcoatRoughnessMap?b=x.clearcoatRoughnessMap:x.specularIntensityMap?b=x.specularIntensityMap:x.specularColorMap?b=x.specularColorMap:x.transmissionMap?b=x.transmissionMap:x.thicknessMap?b=x.thicknessMap:x.sheenColorMap?b=x.sheenColorMap:x.sheenRoughnessMap&&(b=x.sheenRoughnessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),y.uvTransform.value.copy(b.matrix));let _;x.aoMap?_=x.aoMap:x.lightMap&&(_=x.lightMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),y.uv2Transform.value.copy(_.matrix))}function s(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity}function o(y,x){y.dashSize.value=x.dashSize,y.totalSize.value=x.dashSize+x.gapSize,y.scale.value=x.scale}function a(y,x,w,b){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.size.value=x.size*w,y.scale.value=b*.5,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let _;x.map?_=x.map:x.alphaMap&&(_=x.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),y.uvTransform.value.copy(_.matrix))}function u(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.rotation.value=x.rotation,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let w;x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),y.uvTransform.value.copy(w.matrix))}function c(y,x){y.specular.value.copy(x.specular),y.shininess.value=Math.max(x.shininess,1e-4)}function f(y,x){x.gradientMap&&(y.gradientMap.value=x.gradientMap)}function h(y,x){y.roughness.value=x.roughness,y.metalness.value=x.metalness,x.roughnessMap&&(y.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(y.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(y.envMapIntensity.value=x.envMapIntensity)}function p(y,x,w){y.ior.value=x.ior,x.sheen>0&&(y.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),y.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(y.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(y.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(y.clearcoat.value=x.clearcoat,y.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(y.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),y.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===ks&&y.clearcoatNormalScale.value.negate())),x.transmission>0&&(y.transmission.value=x.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(y.transmissionMap.value=x.transmissionMap),y.thickness.value=x.thickness,x.thicknessMap&&(y.thicknessMap.value=x.thicknessMap),y.attenuationDistance.value=x.attenuationDistance,y.attenuationColor.value.copy(x.attenuationColor)),y.specularIntensity.value=x.specularIntensity,y.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(y.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(y.specularColorMap.value=x.specularColorMap)}function m(y,x){x.matcap&&(y.matcap.value=x.matcap)}function v(y,x){y.referencePosition.value.copy(x.referencePosition),y.nearDistance.value=x.nearDistance,y.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function Tee(){const n=Np("canvas");return n.style.display="block",n}function dn(n={}){const e=n.canvas!==void 0?n.canvas:Tee(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,u=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let f;t!==null?f=t.getContextAttributes().alpha:f=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=jo,this.physicallyCorrectLights=!1,this.toneMapping=Uo,this.toneMappingExposure=1;const y=this;let x=!1,w=0,b=0,_=null,S=-1,M=null;const C=new hn,A=new hn;let T=null,R=e.width,D=e.height,O=1,Y=null,ie=null;const U=new hn(0,0,R,D),G=new hn(0,0,R,D);let Z=!1;const te=new lm;let V=!1,K=!1,$=null;const re=new Ye,le=new ae,be=new B,Te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ke(){return _===null?O:1}let ue=t;function gt(z,ne){for(let ce=0;ce<z.length;ce++){const se=z[ce],ge=e.getContext(se,ne);if(ge!==null)return ge}return null}try{const z={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${cE}`),e.addEventListener("webglcontextlost",X,!1),e.addEventListener("webglcontextrestored",Ae,!1),ue===null){const ne=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&ne.shift(),ue=gt(ne,z),ue===null)throw gt(ne)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ue.getShaderPrecisionFormat===void 0&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}let Ve,Ze,Se,st,pe,he,we,We,Le,qe,ot,rt,kt,_t,H,N,de,_e,Ne,Be,Je,F,Me;function Xe(){Ve=new VQ(ue),Ze=new BQ(ue,Ve,n),Ve.init(Ze),F=new wee(ue,Ve,Ze),Se=new _ee(ue,Ve,Ze),st=new XQ,pe=new uee,he=new bee(ue,Ve,Se,pe,Ze,F,st),we=new zQ(y),We=new WQ(y),Le=new oZ(ue,Ze),Me=new NQ(ue,Ve,Le,Ze),qe=new GQ(ue,Le,st,Me),ot=new ZQ(ue,qe,Le,st),Ne=new YQ(ue,Ze,he),N=new FQ(pe),rt=new lee(y,we,We,Ve,Ze,Me,N),kt=new Eee(y,pe),_t=new dee,H=new vee(Ve,Ze),_e=new kQ(y,we,Se,ot,f,o),de=new tO(y,ot,Ze),Be=new OQ(ue,Ve,st,Ze),Je=new jQ(ue,Ve,st,Ze),st.programs=rt.programs,y.capabilities=Ze,y.extensions=Ve,y.properties=pe,y.renderLists=_t,y.shadowMap=de,y.state=Se,y.info=st}Xe();const Pe=new Mee(y,ue);this.xr=Pe,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){const z=Ve.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=Ve.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(z){z!==void 0&&(O=z,this.setSize(R,D,!1))},this.getSize=function(z){return z.set(R,D)},this.setSize=function(z,ne,ce){if(Pe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=z,D=ne,e.width=Math.floor(z*O),e.height=Math.floor(ne*O),ce!==!1&&(e.style.width=z+"px",e.style.height=ne+"px"),this.setViewport(0,0,z,ne)},this.getDrawingBufferSize=function(z){return z.set(R*O,D*O).floor()},this.setDrawingBufferSize=function(z,ne,ce){R=z,D=ne,O=ce,e.width=Math.floor(z*ce),e.height=Math.floor(ne*ce),this.setViewport(0,0,z,ne)},this.getCurrentViewport=function(z){return z.copy(C)},this.getViewport=function(z){return z.copy(U)},this.setViewport=function(z,ne,ce,se){z.isVector4?U.set(z.x,z.y,z.z,z.w):U.set(z,ne,ce,se),Se.viewport(C.copy(U).multiplyScalar(O).floor())},this.getScissor=function(z){return z.copy(G)},this.setScissor=function(z,ne,ce,se){z.isVector4?G.set(z.x,z.y,z.z,z.w):G.set(z,ne,ce,se),Se.scissor(A.copy(G).multiplyScalar(O).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(z){Se.setScissorTest(Z=z)},this.setOpaqueSort=function(z){Y=z},this.setTransparentSort=function(z){ie=z},this.getClearColor=function(z){return z.copy(_e.getClearColor())},this.setClearColor=function(){_e.setClearColor.apply(_e,arguments)},this.getClearAlpha=function(){return _e.getClearAlpha()},this.setClearAlpha=function(){_e.setClearAlpha.apply(_e,arguments)},this.clear=function(z=!0,ne=!0,ce=!0){let se=0;z&&(se|=16384),ne&&(se|=256),ce&&(se|=1024),ue.clear(se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",X,!1),e.removeEventListener("webglcontextrestored",Ae,!1),_t.dispose(),H.dispose(),pe.dispose(),we.dispose(),We.dispose(),ot.dispose(),Me.dispose(),rt.dispose(),Pe.dispose(),Pe.removeEventListener("sessionstart",ft),Pe.removeEventListener("sessionend",Wt),$&&($.dispose(),$=null),Ct.stop()};function X(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Ae(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const z=st.autoReset,ne=de.enabled,ce=de.autoUpdate,se=de.needsUpdate,ge=de.type;Xe(),st.autoReset=z,de.enabled=ne,de.autoUpdate=ce,de.needsUpdate=se,de.type=ge}function Ce(z){const ne=z.target;ne.removeEventListener("dispose",Ce),at(ne)}function at(z){Oe(z),pe.remove(z)}function Oe(z){const ne=pe.get(z).programs;ne!==void 0&&(ne.forEach(function(ce){rt.releaseProgram(ce)}),z.isShaderMaterial&&rt.releaseShaderCache(z))}this.renderBufferDirect=function(z,ne,ce,se,ge,ht){ne===null&&(ne=Te);const vt=ge.isMesh&&ge.matrixWorld.determinant()<0,Et=kf(z,ne,ce,se,ge);Se.setMaterial(se,vt);let wt=ce.index;const ye=ce.attributes.position;if(wt===null){if(ye===void 0||ye.count===0)return}else if(wt.count===0)return;let He=1;se.wireframe===!0&&(wt=qe.getWireframeAttribute(ce),He=2),Me.setup(ge,se,Et,ce,wt);let Ke,ut=Be;wt!==null&&(Ke=Le.get(wt),ut=Je,ut.setIndex(Ke));const bn=wt!==null?wt.count:ye.count,kn=ce.drawRange.start*He,It=ce.drawRange.count*He,rn=ht!==null?ht.start*He:0,it=ht!==null?ht.count*He:1/0,wn=Math.max(kn,rn),jt=Math.min(bn,kn+It,rn+it)-1,ur=Math.max(0,jt-wn+1);if(ur!==0){if(ge.isMesh)se.wireframe===!0?(Se.setLineWidth(se.wireframeLinewidth*ke()),ut.setMode(1)):ut.setMode(4);else if(ge.isLine){let ui=se.linewidth;ui===void 0&&(ui=1),Se.setLineWidth(ui*ke()),ge.isLineSegments?ut.setMode(1):ge.isLineLoop?ut.setMode(2):ut.setMode(3)}else ge.isPoints?ut.setMode(0):ge.isSprite&&ut.setMode(4);if(ge.isInstancedMesh)ut.renderInstances(wn,ur,ge.count);else if(ce.isInstancedBufferGeometry){const ui=Math.min(ce.instanceCount,ce._maxInstanceCount);ut.renderInstances(wn,ur,ui)}else ut.render(wn,ur)}},this.compile=function(z,ne){p=H.get(z),p.init(),v.push(p),z.traverseVisible(function(ce){ce.isLight&&ce.layers.test(ne.layers)&&(p.pushLight(ce),ce.castShadow&&p.pushShadow(ce))}),p.setupLights(y.physicallyCorrectLights),z.traverse(function(ce){const se=ce.material;if(se)if(Array.isArray(se))for(let ge=0;ge<se.length;ge++){const ht=se[ge];ja(ht,z,ce)}else ja(se,z,ce)}),v.pop(),p=null};let Qe=null;function Re(z){Qe&&Qe(z)}function ft(){Ct.stop()}function Wt(){Ct.start()}const Ct=new KN;Ct.setAnimationLoop(Re),typeof self!="undefined"&&Ct.setContext(self),this.setAnimationLoop=function(z){Qe=z,Pe.setAnimationLoop(z),z===null?Ct.stop():Ct.start()},Pe.addEventListener("sessionstart",ft),Pe.addEventListener("sessionend",Wt),this.render=function(z,ne){if(ne!==void 0&&ne.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;z.autoUpdate===!0&&z.updateMatrixWorld(),ne.parent===null&&ne.updateMatrixWorld(),Pe.enabled===!0&&Pe.isPresenting===!0&&(Pe.cameraAutoUpdate===!0&&Pe.updateCamera(ne),ne=Pe.getCamera()),z.isScene===!0&&z.onBeforeRender(y,z,ne,_),p=H.get(z,v.length),p.init(),v.push(p),re.multiplyMatrices(ne.projectionMatrix,ne.matrixWorldInverse),te.setFromProjectionMatrix(re),K=this.localClippingEnabled,V=N.init(this.clippingPlanes,K,ne),h=_t.get(z,m.length),h.init(),m.push(h),Ci(z,ne,0,y.sortObjects),h.finish(),y.sortObjects===!0&&h.sort(Y,ie),V===!0&&N.beginShadows();const ce=p.state.shadowsArray;if(de.render(ce,z,ne),V===!0&&N.endShadows(),this.info.autoReset===!0&&this.info.reset(),_e.render(h,z),p.setupLights(y.physicallyCorrectLights),ne.isArrayCamera){const se=ne.cameras;for(let ge=0,ht=se.length;ge<ht;ge++){const vt=se[ge];Ai(h,z,vt,vt.viewport)}}else Ai(h,z,ne);_!==null&&(he.updateMultisampleRenderTarget(_),he.updateRenderTargetMipmap(_)),z.isScene===!0&&z.onAfterRender(y,z,ne),Me.resetDefaultState(),S=-1,M=null,v.pop(),v.length>0?p=v[v.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function Ci(z,ne,ce,se){if(z.visible===!1)return;if(z.layers.test(ne.layers)){if(z.isGroup)ce=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(ne);else if(z.isLight)p.pushLight(z),z.castShadow&&p.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||te.intersectsSprite(z)){se&&be.setFromMatrixPosition(z.matrixWorld).applyMatrix4(re);const vt=ot.update(z),Et=z.material;Et.visible&&h.push(z,vt,Et,ce,be.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(z.isSkinnedMesh&&z.skeleton.frame!==st.render.frame&&(z.skeleton.update(),z.skeleton.frame=st.render.frame),!z.frustumCulled||te.intersectsObject(z))){se&&be.setFromMatrixPosition(z.matrixWorld).applyMatrix4(re);const vt=ot.update(z),Et=z.material;if(Array.isArray(Et)){const wt=vt.groups;for(let ye=0,He=wt.length;ye<He;ye++){const Ke=wt[ye],ut=Et[Ke.materialIndex];ut&&ut.visible&&h.push(z,vt,ut,ce,be.z,Ke)}}else Et.visible&&h.push(z,vt,Et,ce,be.z,null)}}const ht=z.children;for(let vt=0,Et=ht.length;vt<Et;vt++)Ci(ht[vt],ne,ce,se)}function Ai(z,ne,ce,se){const ge=z.opaque,ht=z.transmissive,vt=z.transparent;p.setupLightsView(ce),ht.length>0&&cc(ge,ne,ce),se&&Se.viewport(C.copy(se)),ge.length>0&&li(ge,ne,ce),ht.length>0&&li(ht,ne,ce),vt.length>0&&li(vt,ne,ce),Se.buffers.depth.setTest(!0),Se.buffers.depth.setMask(!0),Se.buffers.color.setMask(!0),Se.setPolygonOffset(!1)}function cc(z,ne,ce){const se=Ze.isWebGL2;$===null&&($=new Ht(1,1,{generateMipmaps:!0,type:Ve.has("EXT_color_buffer_half_float")?No:Ku,minFilter:am,samples:se&&s===!0?4:0})),y.getDrawingBufferSize(le),se?$.setSize(le.x,le.y):$.setSize(sy(le.x),sy(le.y));const ge=y.getRenderTarget();y.setRenderTarget($),y.clear();const ht=y.toneMapping;y.toneMapping=Uo,li(z,ne,ce),y.toneMapping=ht,he.updateMultisampleRenderTarget($),he.updateRenderTargetMipmap($),y.setRenderTarget(ge)}function li(z,ne,ce){const se=ne.isScene===!0?ne.overrideMaterial:null;for(let ge=0,ht=z.length;ge<ht;ge++){const vt=z[ge],Et=vt.object,wt=vt.geometry,ye=se===null?vt.material:se,He=vt.group;Et.layers.test(ce.layers)&&dc(Et,ne,ce,wt,ye,He)}}function dc(z,ne,ce,se,ge,ht){z.onBeforeRender(y,ne,ce,se,ge,ht),z.modelViewMatrix.multiplyMatrices(ce.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),ge.onBeforeRender(y,ne,ce,se,z,ht),ge.transparent===!0&&ge.side===zl?(ge.side=ks,ge.needsUpdate=!0,y.renderBufferDirect(ce,ne,se,ge,z,ht),ge.side=Pp,ge.needsUpdate=!0,y.renderBufferDirect(ce,ne,se,ge,z,ht),ge.side=zl):y.renderBufferDirect(ce,ne,se,ge,z,ht),z.onAfterRender(y,ne,ce,se,ge,ht)}function ja(z,ne,ce){ne.isScene!==!0&&(ne=Te);const se=pe.get(z),ge=p.state.lights,ht=p.state.shadowsArray,vt=ge.state.version,Et=rt.getParameters(z,ge.state,ht,ne,ce),wt=rt.getProgramCacheKey(Et);let ye=se.programs;se.environment=z.isMeshStandardMaterial?ne.environment:null,se.fog=ne.fog,se.envMap=(z.isMeshStandardMaterial?We:we).get(z.envMap||se.environment),ye===void 0&&(z.addEventListener("dispose",Ce),ye=new Map,se.programs=ye);let He=ye.get(wt);if(He!==void 0){if(se.currentProgram===He&&se.lightsStateVersion===vt)return fc(z,Et),He}else Et.uniforms=rt.getUniforms(z),z.onBuild(ce,Et,y),z.onBeforeCompile(Et,y),He=rt.acquireProgram(Et,wt),ye.set(wt,He),se.uniforms=Et.uniforms;const Ke=se.uniforms;(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(Ke.clippingPlanes=N.uniform),fc(z,Et),se.needsLights=eu(z),se.lightsStateVersion=vt,se.needsLights&&(Ke.ambientLightColor.value=ge.state.ambient,Ke.lightProbe.value=ge.state.probe,Ke.directionalLights.value=ge.state.directional,Ke.directionalLightShadows.value=ge.state.directionalShadow,Ke.spotLights.value=ge.state.spot,Ke.spotLightShadows.value=ge.state.spotShadow,Ke.rectAreaLights.value=ge.state.rectArea,Ke.ltc_1.value=ge.state.rectAreaLTC1,Ke.ltc_2.value=ge.state.rectAreaLTC2,Ke.pointLights.value=ge.state.point,Ke.pointLightShadows.value=ge.state.pointShadow,Ke.hemisphereLights.value=ge.state.hemi,Ke.directionalShadowMap.value=ge.state.directionalShadowMap,Ke.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,Ke.spotShadowMap.value=ge.state.spotShadowMap,Ke.spotShadowMatrix.value=ge.state.spotShadowMatrix,Ke.pointShadowMap.value=ge.state.pointShadowMap,Ke.pointShadowMatrix.value=ge.state.pointShadowMatrix);const ut=He.getUniforms(),bn=kl.seqWithValue(ut.seq,Ke);return se.currentProgram=He,se.uniformsList=bn,He}function fc(z,ne){const ce=pe.get(z);ce.outputEncoding=ne.outputEncoding,ce.instancing=ne.instancing,ce.skinning=ne.skinning,ce.morphTargets=ne.morphTargets,ce.morphNormals=ne.morphNormals,ce.morphColors=ne.morphColors,ce.morphTargetsCount=ne.morphTargetsCount,ce.numClippingPlanes=ne.numClippingPlanes,ce.numIntersection=ne.numClipIntersection,ce.vertexAlphas=ne.vertexAlphas,ce.vertexTangents=ne.vertexTangents,ce.toneMapping=ne.toneMapping}function kf(z,ne,ce,se,ge){ne.isScene!==!0&&(ne=Te),he.resetTextureUnits();const ht=ne.fog,vt=se.isMeshStandardMaterial?ne.environment:null,Et=_===null?y.outputEncoding:_.isXRRenderTarget===!0?_.texture.encoding:jo,wt=(se.isMeshStandardMaterial?We:we).get(se.envMap||vt),ye=se.vertexColors===!0&&!!ce.attributes.color&&ce.attributes.color.itemSize===4,He=!!se.normalMap&&!!ce.attributes.tangent,Ke=!!ce.morphAttributes.position,ut=!!ce.morphAttributes.normal,bn=!!ce.morphAttributes.color,kn=se.toneMapped?y.toneMapping:Uo,It=ce.morphAttributes.position||ce.morphAttributes.normal||ce.morphAttributes.color,rn=It!==void 0?It.length:0,it=pe.get(se),wn=p.state.lights;if(V===!0&&(K===!0||z!==M)){const ci=z===M&&se.id===S;N.setState(se,z,ci)}let jt=!1;se.version===it.__version?(it.needsLights&&it.lightsStateVersion!==wn.state.version||it.outputEncoding!==Et||ge.isInstancedMesh&&it.instancing===!1||!ge.isInstancedMesh&&it.instancing===!0||ge.isSkinnedMesh&&it.skinning===!1||!ge.isSkinnedMesh&&it.skinning===!0||it.envMap!==wt||se.fog===!0&&it.fog!==ht||it.numClippingPlanes!==void 0&&(it.numClippingPlanes!==N.numPlanes||it.numIntersection!==N.numIntersection)||it.vertexAlphas!==ye||it.vertexTangents!==He||it.morphTargets!==Ke||it.morphNormals!==ut||it.morphColors!==bn||it.toneMapping!==kn||Ze.isWebGL2===!0&&it.morphTargetsCount!==rn)&&(jt=!0):(jt=!0,it.__version=se.version);let ur=it.currentProgram;jt===!0&&(ur=ja(se,ne,ge));let ui=!1,ji=!1,ys=!1;const fn=ur.getUniforms(),Zo=it.uniforms;if(Se.useProgram(ur.program)&&(ui=!0,ji=!0,ys=!0),se.id!==S&&(S=se.id,ji=!0),ui||M!==z){if(fn.setValue(ue,"projectionMatrix",z.projectionMatrix),Ze.logarithmicDepthBuffer&&fn.setValue(ue,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),M!==z&&(M=z,ji=!0,ys=!0),se.isShaderMaterial||se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshStandardMaterial||se.envMap){const ci=fn.map.cameraPosition;ci!==void 0&&ci.setValue(ue,be.setFromMatrixPosition(z.matrixWorld))}(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial)&&fn.setValue(ue,"isOrthographic",z.isOrthographicCamera===!0),(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial||se.isShadowMaterial||ge.isSkinnedMesh)&&fn.setValue(ue,"viewMatrix",z.matrixWorldInverse)}if(ge.isSkinnedMesh){fn.setOptional(ue,ge,"bindMatrix"),fn.setOptional(ue,ge,"bindMatrixInverse");const ci=ge.skeleton;ci&&(Ze.floatVertexTextures?(ci.boneTexture===null&&ci.computeBoneTexture(),fn.setValue(ue,"boneTexture",ci.boneTexture,he),fn.setValue(ue,"boneTextureSize",ci.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const tu=ce.morphAttributes;return(tu.position!==void 0||tu.normal!==void 0||tu.color!==void 0&&Ze.isWebGL2===!0)&&Ne.update(ge,ce,se,ur),(ji||it.receiveShadow!==ge.receiveShadow)&&(it.receiveShadow=ge.receiveShadow,fn.setValue(ue,"receiveShadow",ge.receiveShadow)),ji&&(fn.setValue(ue,"toneMappingExposure",y.toneMappingExposure),it.needsLights&&Xa(Zo,ys),ht&&se.fog===!0&&kt.refreshFogUniforms(Zo,ht),kt.refreshMaterialUniforms(Zo,se,O,D,$),kl.upload(ue,it.uniformsList,Zo,he)),se.isShaderMaterial&&se.uniformsNeedUpdate===!0&&(kl.upload(ue,it.uniformsList,Zo,he),se.uniformsNeedUpdate=!1),se.isSpriteMaterial&&fn.setValue(ue,"center",ge.center),fn.setValue(ue,"modelViewMatrix",ge.modelViewMatrix),fn.setValue(ue,"normalMatrix",ge.normalMatrix),fn.setValue(ue,"modelMatrix",ge.matrixWorld),ur}function Xa(z,ne){z.ambientLightColor.needsUpdate=ne,z.lightProbe.needsUpdate=ne,z.directionalLights.needsUpdate=ne,z.directionalLightShadows.needsUpdate=ne,z.pointLights.needsUpdate=ne,z.pointLightShadows.needsUpdate=ne,z.spotLights.needsUpdate=ne,z.spotLightShadows.needsUpdate=ne,z.rectAreaLights.needsUpdate=ne,z.hemisphereLights.needsUpdate=ne}function eu(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(z,ne,ce){pe.get(z.texture).__webglTexture=ne,pe.get(z.depthTexture).__webglTexture=ce;const se=pe.get(z);se.__hasExternalTextures=!0,se.__hasExternalTextures&&(se.__autoAllocateDepthBuffer=ce===void 0,se.__autoAllocateDepthBuffer||Ve.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(z,ne){const ce=pe.get(z);ce.__webglFramebuffer=ne,ce.__useDefaultFramebuffer=ne===void 0},this.setRenderTarget=function(z,ne=0,ce=0){_=z,w=ne,b=ce;let se=!0;if(z){const wt=pe.get(z);wt.__useDefaultFramebuffer!==void 0?(Se.bindFramebuffer(36160,null),se=!1):wt.__webglFramebuffer===void 0?he.setupRenderTarget(z):wt.__hasExternalTextures&&he.rebindTextures(z,pe.get(z.texture).__webglTexture,pe.get(z.depthTexture).__webglTexture)}let ge=null,ht=!1,vt=!1;if(z){const wt=z.texture;(wt.isData3DTexture||wt.isDataArrayTexture)&&(vt=!0);const ye=pe.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(ge=ye[ne],ht=!0):Ze.isWebGL2&&z.samples>0&&he.useMultisampledRTT(z)===!1?ge=pe.get(z).__webglMultisampledFramebuffer:ge=ye,C.copy(z.viewport),A.copy(z.scissor),T=z.scissorTest}else C.copy(U).multiplyScalar(O).floor(),A.copy(G).multiplyScalar(O).floor(),T=Z;if(Se.bindFramebuffer(36160,ge)&&Ze.drawBuffers&&se&&Se.drawBuffers(z,ge),Se.viewport(C),Se.scissor(A),Se.setScissorTest(T),ht){const wt=pe.get(z.texture);ue.framebufferTexture2D(36160,36064,34069+ne,wt.__webglTexture,ce)}else if(vt){const wt=pe.get(z.texture),ye=ne||0;ue.framebufferTextureLayer(36160,36064,wt.__webglTexture,ce||0,ye)}S=-1},this.readRenderTargetPixels=function(z,ne,ce,se,ge,ht,vt){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Et=pe.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&vt!==void 0&&(Et=Et[vt]),Et){Se.bindFramebuffer(36160,Et);try{const wt=z.texture,ye=wt.format,He=wt.type;if(ye!==Is&&F.convert(ye)!==ue.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ke=He===No&&(Ve.has("EXT_color_buffer_half_float")||Ze.isWebGL2&&Ve.has("EXT_color_buffer_float"));if(He!==Ku&&F.convert(He)!==ue.getParameter(35738)&&!(He===co&&(Ze.isWebGL2||Ve.has("OES_texture_float")||Ve.has("WEBGL_color_buffer_float")))&&!Ke){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ne>=0&&ne<=z.width-se&&ce>=0&&ce<=z.height-ge&&ue.readPixels(ne,ce,se,ge,F.convert(ye),F.convert(He),ht)}finally{const wt=_!==null?pe.get(_).__webglFramebuffer:null;Se.bindFramebuffer(36160,wt)}}},this.copyFramebufferToTexture=function(z,ne,ce=0){if(ne.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const se=Math.pow(2,-ce),ge=Math.floor(ne.image.width*se),ht=Math.floor(ne.image.height*se);he.setTexture2D(ne,0),ue.copyTexSubImage2D(3553,ce,0,0,z.x,z.y,ge,ht),Se.unbindTexture()},this.copyTextureToTexture=function(z,ne,ce,se=0){const ge=ne.image.width,ht=ne.image.height,vt=F.convert(ce.format),Et=F.convert(ce.type);he.setTexture2D(ce,0),ue.pixelStorei(37440,ce.flipY),ue.pixelStorei(37441,ce.premultiplyAlpha),ue.pixelStorei(3317,ce.unpackAlignment),ne.isDataTexture?ue.texSubImage2D(3553,se,z.x,z.y,ge,ht,vt,Et,ne.image.data):ne.isCompressedTexture?ue.compressedTexSubImage2D(3553,se,z.x,z.y,ne.mipmaps[0].width,ne.mipmaps[0].height,vt,ne.mipmaps[0].data):ue.texSubImage2D(3553,se,z.x,z.y,vt,Et,ne.image),se===0&&ce.generateMipmaps&&ue.generateMipmap(3553),Se.unbindTexture()},this.copyTextureToTexture3D=function(z,ne,ce,se,ge=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ht=z.max.x-z.min.x+1,vt=z.max.y-z.min.y+1,Et=z.max.z-z.min.z+1,wt=F.convert(se.format),ye=F.convert(se.type);let He;if(se.isData3DTexture)he.setTexture3D(se,0),He=32879;else if(se.isDataArrayTexture)he.setTexture2DArray(se,0),He=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ue.pixelStorei(37440,se.flipY),ue.pixelStorei(37441,se.premultiplyAlpha),ue.pixelStorei(3317,se.unpackAlignment);const Ke=ue.getParameter(3314),ut=ue.getParameter(32878),bn=ue.getParameter(3316),kn=ue.getParameter(3315),It=ue.getParameter(32877),rn=ce.isCompressedTexture?ce.mipmaps[0]:ce.image;ue.pixelStorei(3314,rn.width),ue.pixelStorei(32878,rn.height),ue.pixelStorei(3316,z.min.x),ue.pixelStorei(3315,z.min.y),ue.pixelStorei(32877,z.min.z),ce.isDataTexture||ce.isData3DTexture?ue.texSubImage3D(He,ge,ne.x,ne.y,ne.z,ht,vt,Et,wt,ye,rn.data):ce.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ue.compressedTexSubImage3D(He,ge,ne.x,ne.y,ne.z,ht,vt,Et,wt,rn.data)):ue.texSubImage3D(He,ge,ne.x,ne.y,ne.z,ht,vt,Et,wt,ye,rn),ue.pixelStorei(3314,Ke),ue.pixelStorei(32878,ut),ue.pixelStorei(3316,bn),ue.pixelStorei(3315,kn),ue.pixelStorei(32877,It),ge===0&&se.generateMipmaps&&ue.generateMipmap(He),Se.unbindTexture()},this.initTexture=function(z){he.setTexture2D(z,0),Se.unbindTexture()},this.resetState=function(){w=0,b=0,_=null,Se.reset(),Me.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}dn.prototype.isWebGLRenderer=!0;class Cee extends dn{}Cee.prototype.isWebGL1Renderer=!0;class sx{constructor(e,t=1,r=1e3){this.name="",this.color=new De(e),this.near=t,this.far=r}clone(){return new sx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}sx.prototype.isFog=!0;class xE extends en{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}xE.prototype.isScene=!0;class cm{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Lp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ns()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ns()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ns()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}cm.prototype.isInterleavedBuffer=!0;const pi=new B;class Op{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix4(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)pi.fromBufferAttribute(this,t),pi.applyNormalMatrix(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)pi.fromBufferAttribute(this,t),pi.transformDirection(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new ar(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Op(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Op.prototype.isInterleavedBufferAttribute=!0;class ox extends Cr{constructor(e){super(),this.type="SpriteMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}ox.prototype.isSpriteMaterial=!0;let Kc;const fh=new B,Yc=new B,Zc=new B,Jc=new ae,hh=new ae,rO=new Ye,tv=new B,ph=new B,nv=new B,lD=new ae,_w=new ae,uD=new ae;class iO extends en{constructor(e){if(super(),this.type="Sprite",Kc===void 0){Kc=new Gt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new cm(t,5);Kc.setIndex([0,1,2,0,2,3]),Kc.setAttribute("position",new Op(r,3,0,!1)),Kc.setAttribute("uv",new Op(r,2,3,!1))}this.geometry=Kc,this.material=e!==void 0?e:new ox,this.center=new ae(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Yc.setFromMatrixScale(this.matrixWorld),rO.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Zc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Yc.multiplyScalar(-Zc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;rv(tv.set(-.5,-.5,0),Zc,o,Yc,i,s),rv(ph.set(.5,-.5,0),Zc,o,Yc,i,s),rv(nv.set(.5,.5,0),Zc,o,Yc,i,s),lD.set(0,0),_w.set(1,0),uD.set(1,1);let a=e.ray.intersectTriangle(tv,ph,nv,!1,fh);if(a===null&&(rv(ph.set(-.5,.5,0),Zc,o,Yc,i,s),_w.set(0,1),a=e.ray.intersectTriangle(tv,nv,ph,!1,fh),a===null))return;const u=e.ray.origin.distanceTo(fh);u<e.near||u>e.far||t.push({distance:u,point:fh.clone(),uv:hr.getUV(fh,tv,ph,nv,lD,_w,uD,new ae),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}iO.prototype.isSprite=!0;function rv(n,e,t,r,i,s){Jc.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(hh.x=s*Jc.x-i*Jc.y,hh.y=i*Jc.x+s*Jc.y):hh.copy(Jc),n.copy(e),n.x+=hh.x,n.y+=hh.y,n.applyMatrix4(rO)}const cD=new B,dD=new hn,fD=new hn,Aee=new B,hD=new Ye;class sO extends Qn{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ye,this.bindMatrixInverse=new Ye}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new hn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;dD.fromBufferAttribute(i.attributes.skinIndex,e),fD.fromBufferAttribute(i.attributes.skinWeight,e),cD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=fD.getComponent(s);if(o!==0){const a=dD.getComponent(s);hD.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Aee.copy(cD).applyMatrix4(hD),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}sO.prototype.isSkinnedMesh=!0;class _E extends en{constructor(){super(),this.type="Bone"}}_E.prototype.isBone=!0;class bE extends gr{constructor(e=null,t=1,r=1,i,s,o,a,u,c=Ft,f=Ft,h,p){super(null,o,a,u,c,f,i,s,h,p),this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}bE.prototype.isDataTexture=!0;const pD=new Ye,Ree=new Ye;class oO{constructor(e=[],t=[]){this.uuid=Ns(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ye)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Ye;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Ree;pD.multiplyMatrices(a,t[s]),pD.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new oO(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=WN(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new bE(t,e,e,Is,co);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new _E),this.bones.push(o),this.boneInverses.push(new Ye().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class nM extends ar{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}nM.prototype.isInstancedBufferAttribute=!0;const mD=new Ye,gD=new Ye,iv=[],mh=new Qn;class Pee extends Qn{constructor(e,t,r){super(e,t),this.instanceMatrix=new nM(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(mh.geometry=this.geometry,mh.material=this.material,mh.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,mD),gD.multiplyMatrices(r,mD),mh.matrixWorld=gD,mh.raycast(e,iv);for(let o=0,a=iv.length;o<a;o++){const u=iv[o];u.instanceId=s,u.object=this,t.push(u)}iv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new nM(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Pee.prototype.isInstancedMesh=!0;class Wa extends Cr{constructor(e){super(),this.type="LineBasicMaterial",this.color=new De(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}Wa.prototype.isLineBasicMaterial=!0;const vD=new B,yD=new B,xD=new Ye,bw=new Ha,sv=new xf;class wE extends en{constructor(e=new Gt,t=new Wa){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)vD.fromBufferAttribute(t,i-1),yD.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=vD.distanceTo(yD);e.setAttribute("lineDistance",new Rt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),sv.copy(r.boundingSphere),sv.applyMatrix4(i),sv.radius+=s,e.ray.intersectsSphere(sv)===!1)return;xD.copy(i).invert(),bw.copy(e.ray).applyMatrix4(xD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,c=new B,f=new B,h=new B,p=new B,m=this.isLineSegments?2:1;if(r.isBufferGeometry){const v=r.index,x=r.attributes.position;if(v!==null){const w=Math.max(0,o.start),b=Math.min(v.count,o.start+o.count);for(let _=w,S=b-1;_<S;_+=m){const M=v.getX(_),C=v.getX(_+1);if(c.fromBufferAttribute(x,M),f.fromBufferAttribute(x,C),bw.distanceSqToSegment(c,f,p,h)>u)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||t.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),b=Math.min(x.count,o.start+o.count);for(let _=w,S=b-1;_<S;_+=m){if(c.fromBufferAttribute(x,_),f.fromBufferAttribute(x,_+1),bw.distanceSqToSegment(c,f,p,h)>u)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}wE.prototype.isLine=!0;const _D=new B,bD=new B;class Zu extends wE{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)_D.fromBufferAttribute(t,i),bD.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+_D.distanceTo(bD);e.setAttribute("lineDistance",new Rt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Zu.prototype.isLineSegments=!0;class Dee extends wE{constructor(e,t){super(e,t),this.type="LineLoop"}}Dee.prototype.isLineLoop=!0;class SE extends Cr{constructor(e){super(),this.type="PointsMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}SE.prototype.isPointsMaterial=!0;const wD=new Ye,rM=new Ha,ov=new xf,av=new B;class Iee extends en{constructor(e=new Gt,t=new SE){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ov.copy(r.boundingSphere),ov.applyMatrix4(i),ov.radius+=s,e.ray.intersectsSphere(ov)===!1)return;wD.copy(i).invert(),rM.copy(e.ray).applyMatrix4(wD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a;if(r.isBufferGeometry){const c=r.index,h=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,y=m;v<y;v++){const x=c.getX(v);av.fromBufferAttribute(h,x),SD(av,x,u,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,y=m;v<y;v++)av.fromBufferAttribute(h,v),SD(av,v,u,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Iee.prototype.isPoints=!0;function SD(n,e,t,r,i,s,o){const a=rM.distanceSqToPoint(n);if(a<t){const u=new B;rM.closestPointToPoint(n,u),u.applyMatrix4(r);const c=i.ray.origin.distanceTo(u);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:u,index:e,face:null,object:o})}}class aO extends gr{constructor(e,t,r,i,s,o,a,u,c){super(e,t,r,i,s,o,a,u,c),this.minFilter=o!==void 0?o:Yn,this.magFilter=s!==void 0?s:Yn,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}aO.prototype.isVideoTexture=!0;class Lee extends gr{constructor(e,t,r){super({width:e,height:t}),this.format=r,this.magFilter=Ft,this.minFilter=Ft,this.generateMipmaps=!1,this.needsUpdate=!0}}Lee.prototype.isFramebufferTexture=!0;class kee extends gr{constructor(e,t,r,i,s,o,a,u,c,f,h,p){super(null,o,a,u,c,f,i,s,h,p),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}kee.prototype.isCompressedTexture=!0;class Nee extends gr{constructor(e,t,r,i,s,o,a,u,c){super(e,t,r,i,s,o,a,u,c),this.needsUpdate=!0}}Nee.prototype.isCanvasTexture=!0;class zs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,u=s-1,c;for(;a<=u;)if(i=Math.floor(a+(u-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)u=i-1;else{u=i;break}if(i=u,r[i]===o)return i/(s-1);const f=r[i],p=r[i+1]-f,m=(o-f)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),u=t||(o.isVector2?new ae:new B);return u.copy(a).sub(o).normalize(),u}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new B,i=[],s=[],o=[],a=new B,u=new Ye;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new B)}s[0]=new B,o[0]=new B;let c=Number.MAX_VALUE;const f=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=c&&(c=f,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(dr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(u.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(dr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(u.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ax extends zs{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,u=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=u}getPoint(e,t){const r=t||new ae,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=u-this.aX,m=c-this.aY;u=p*f-m*h+this.aX,c=p*h+m*f+this.aY}return r.set(u,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}ax.prototype.isEllipseCurve=!0;class lO extends ax{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.type="ArcCurve"}}lO.prototype.isArcCurve=!0;function ME(){let n=0,e=0,t=0,r=0;function i(s,o,a,u){n=s,e=a,t=-3*s+3*o-2*a-u,r=2*s-2*o+a+u}return{initCatmullRom:function(s,o,a,u,c){i(o,a,c*(a-s),c*(u-o))},initNonuniformCatmullRom:function(s,o,a,u,c,f,h){let p=(o-s)/c-(a-s)/(c+f)+(a-o)/f,m=(a-o)/f-(u-o)/(f+h)+(u-a)/h;p*=f,m*=f,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const lv=new B,ww=new ME,Sw=new ME,Mw=new ME;class uO extends zs{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new B){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),u=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:u===0&&a===s-1&&(a=s-2,u=1);let c,f;this.closed||a>0?c=i[(a-1)%s]:(lv.subVectors(i[0],i[1]).add(i[0]),c=lv);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(lv.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=lv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(f),m);y<1e-4&&(y=1),v<1e-4&&(v=y),x<1e-4&&(x=y),ww.initNonuniformCatmullRom(c.x,h.x,p.x,f.x,v,y,x),Sw.initNonuniformCatmullRom(c.y,h.y,p.y,f.y,v,y,x),Mw.initNonuniformCatmullRom(c.z,h.z,p.z,f.z,v,y,x)}else this.curveType==="catmullrom"&&(ww.initCatmullRom(c.x,h.x,p.x,f.x,this.tension),Sw.initCatmullRom(c.y,h.y,p.y,f.y,this.tension),Mw.initCatmullRom(c.z,h.z,p.z,f.z,this.tension));return r.set(ww.calc(u),Sw.calc(u),Mw.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new B().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}uO.prototype.isCatmullRomCurve3=!0;function MD(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,u=n*a;return(2*t-2*r+s+o)*u+(-3*t+3*r-2*s-o)*a+s*n+t}function Oee(n,e){const t=1-n;return t*t*e}function Bee(n,e){return 2*(1-n)*n*e}function Fee(n,e){return n*n*e}function Kh(n,e,t,r){return Oee(n,e)+Bee(n,t)+Fee(n,r)}function zee(n,e){const t=1-n;return t*t*t*e}function Uee(n,e){const t=1-n;return 3*t*t*n*e}function Hee(n,e){return 3*(1-n)*n*n*e}function Wee(n,e){return n*n*n*e}function Yh(n,e,t,r,i){return zee(n,e)+Uee(n,t)+Hee(n,r)+Wee(n,i)}class EE extends zs{constructor(e=new ae,t=new ae,r=new ae,i=new ae){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ae){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Yh(e,i.x,s.x,o.x,a.x),Yh(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}EE.prototype.isCubicBezierCurve=!0;class cO extends zs{constructor(e=new B,t=new B,r=new B,i=new B){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new B){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Yh(e,i.x,s.x,o.x,a.x),Yh(e,i.y,s.y,o.y,a.y),Yh(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}cO.prototype.isCubicBezierCurve3=!0;class lx extends zs{constructor(e=new ae,t=new ae){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ae){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new ae;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}lx.prototype.isLineCurve=!0;class Vee extends zs{constructor(e=new B,t=new B){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new B){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TE extends zs{constructor(e=new ae,t=new ae,r=new ae){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ae){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Kh(e,i.x,s.x,o.x),Kh(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}TE.prototype.isQuadraticBezierCurve=!0;class dO extends zs{constructor(e=new B,t=new B,r=new B){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new B){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Kh(e,i.x,s.x,o.x),Kh(e,i.y,s.y,o.y),Kh(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}dO.prototype.isQuadraticBezierCurve3=!0;class CE extends zs{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new ae){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,u=i[o===0?o:o-1],c=i[o],f=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(MD(a,u.x,c.x,f.x,h.x),MD(a,u.y,c.y,f.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ae().fromArray(i))}return this}}CE.prototype.isSplineCurve=!0;var fO=Object.freeze({__proto__:null,ArcCurve:lO,CatmullRomCurve3:uO,CubicBezierCurve:EE,CubicBezierCurve3:cO,EllipseCurve:ax,LineCurve:lx,LineCurve3:Vee,QuadraticBezierCurve:TE,QuadraticBezierCurve3:dO,SplineCurve:CE});class Gee extends zs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new lx(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],u=a.getLength(),c=u===0?0:1-o/u;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(a);for(let c=0;c<u.length;c++){const f=u[c];r&&r.equals(f)||(t.push(f),r=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new fO[i.type]().fromJSON(i))}return this}}class oy extends Gee{constructor(e){super(),this.type="Path",this.currentPoint=new ae,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new lx(this.currentPoint.clone(),new ae(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new TE(this.currentPoint.clone(),new ae(e,t),new ae(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new EE(this.currentPoint.clone(),new ae(e,t),new ae(r,i),new ae(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new CE(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+a,t+u,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,u){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,t+f,r,i,s,o,a,u),this}absellipse(e,t,r,i,s,o,a,u){const c=new ax(e,t,r,i,s,o,a,u);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class AE extends Gt{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],u=[],c=new B,f=new ae;o.push(0,0,0),a.push(0,0,1),u.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=r+h/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,u.push(f.x,f.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Rt(o,3)),this.setAttribute("normal",new Rt(a,3)),this.setAttribute("uv",new Rt(u,2))}static fromJSON(e){return new AE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ux extends Gt{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:u};const c=this;i=Math.floor(i),s=Math.floor(s);const f=[],h=[],p=[],m=[];let v=0;const y=[],x=r/2;let w=0;b(),o===!1&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(f),this.setAttribute("position",new Rt(h,3)),this.setAttribute("normal",new Rt(p,3)),this.setAttribute("uv",new Rt(m,2));function b(){const S=new B,M=new B;let C=0;const A=(t-e)/r;for(let T=0;T<=s;T++){const R=[],D=T/s,O=D*(t-e)+e;for(let Y=0;Y<=i;Y++){const ie=Y/i,U=ie*u+a,G=Math.sin(U),Z=Math.cos(U);M.x=O*G,M.y=-D*r+x,M.z=O*Z,h.push(M.x,M.y,M.z),S.set(G,A,Z).normalize(),p.push(S.x,S.y,S.z),m.push(ie,1-D),R.push(v++)}y.push(R)}for(let T=0;T<i;T++)for(let R=0;R<s;R++){const D=y[R][T],O=y[R+1][T],Y=y[R+1][T+1],ie=y[R][T+1];f.push(D,O,ie),f.push(O,Y,ie),C+=6}c.addGroup(w,C,0),w+=C}function _(S){const M=v,C=new ae,A=new B;let T=0;const R=S===!0?e:t,D=S===!0?1:-1;for(let Y=1;Y<=i;Y++)h.push(0,x*D,0),p.push(0,D,0),m.push(.5,.5),v++;const O=v;for(let Y=0;Y<=i;Y++){const U=Y/i*u+a,G=Math.cos(U),Z=Math.sin(U);A.x=R*Z,A.y=x*D,A.z=R*G,h.push(A.x,A.y,A.z),p.push(0,D,0),C.x=G*.5+.5,C.y=Z*.5*D+.5,m.push(C.x,C.y),v++}for(let Y=0;Y<i;Y++){const ie=M+Y,U=O+Y;S===!0?f.push(U,U+1,ie):f.push(U+1,U,ie),T+=3}c.addGroup(w,T,S===!0?1:2),w+=T}}static fromJSON(e){return new ux(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class RE extends ux{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new RE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class cx extends Gt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),f(),this.setAttribute("position",new Rt(s,3)),this.setAttribute("normal",new Rt(s.slice(),3)),this.setAttribute("uv",new Rt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){const _=new B,S=new B,M=new B;for(let C=0;C<t.length;C+=3)m(t[C+0],_),m(t[C+1],S),m(t[C+2],M),u(_,S,M,b)}function u(b,_,S,M){const C=M+1,A=[];for(let T=0;T<=C;T++){A[T]=[];const R=b.clone().lerp(S,T/C),D=_.clone().lerp(S,T/C),O=C-T;for(let Y=0;Y<=O;Y++)Y===0&&T===C?A[T][Y]=R:A[T][Y]=R.clone().lerp(D,Y/O)}for(let T=0;T<C;T++)for(let R=0;R<2*(C-T)-1;R++){const D=Math.floor(R/2);R%2===0?(p(A[T][D+1]),p(A[T+1][D]),p(A[T][D])):(p(A[T][D+1]),p(A[T+1][D+1]),p(A[T+1][D]))}}function c(b){const _=new B;for(let S=0;S<s.length;S+=3)_.x=s[S+0],_.y=s[S+1],_.z=s[S+2],_.normalize().multiplyScalar(b),s[S+0]=_.x,s[S+1]=_.y,s[S+2]=_.z}function f(){const b=new B;for(let _=0;_<s.length;_+=3){b.x=s[_+0],b.y=s[_+1],b.z=s[_+2];const S=x(b)/2/Math.PI+.5,M=w(b)/Math.PI+.5;o.push(S,1-M)}v(),h()}function h(){for(let b=0;b<o.length;b+=6){const _=o[b+0],S=o[b+2],M=o[b+4],C=Math.max(_,S,M),A=Math.min(_,S,M);C>.9&&A<.1&&(_<.2&&(o[b+0]+=1),S<.2&&(o[b+2]+=1),M<.2&&(o[b+4]+=1))}}function p(b){s.push(b.x,b.y,b.z)}function m(b,_){const S=b*3;_.x=e[S+0],_.y=e[S+1],_.z=e[S+2]}function v(){const b=new B,_=new B,S=new B,M=new B,C=new ae,A=new ae,T=new ae;for(let R=0,D=0;R<s.length;R+=9,D+=6){b.set(s[R+0],s[R+1],s[R+2]),_.set(s[R+3],s[R+4],s[R+5]),S.set(s[R+6],s[R+7],s[R+8]),C.set(o[D+0],o[D+1]),A.set(o[D+2],o[D+3]),T.set(o[D+4],o[D+5]),M.copy(b).add(_).add(S).divideScalar(3);const O=x(M);y(C,D+0,b,O),y(A,D+2,_,O),y(T,D+4,S,O)}}function y(b,_,S,M){M<0&&b.x===1&&(o[_]=b.x-1),S.x===0&&S.z===0&&(o[_]=M/2/Math.PI+.5)}function x(b){return Math.atan2(b.z,-b.x)}function w(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}static fromJSON(e){return new cx(e.vertices,e.indices,e.radius,e.details)}}new B;new B;new B;new hr;class Nl extends oy{constructor(e){super(e),this.uuid=Ns(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new oy().fromJSON(i))}return this}}const jee={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=hO(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,u,c,f,h,p,m;if(r&&(s=Zee(n,e,s,t)),n.length>80*t){a=c=n[0],u=f=n[1];for(let v=t;v<i;v+=t)h=n[v],p=n[v+1],h<a&&(a=h),p<u&&(u=p),h>c&&(c=h),p>f&&(f=p);m=Math.max(c-a,f-u),m=m!==0?1/m:0}return Bp(s,o,t,a,u,m),o}};function hO(n,e,t,r,i){let s,o;if(i===ate(n,e,t,r)>0)for(s=e;s<t;s+=r)o=ED(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=ED(s,n[s],n[s+1],o);return o&&dx(o,o.next)&&(zp(o),o=o.next),o}function Ul(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(dx(t,t.next)||Un(t.prev,t,t.next)===0)){if(zp(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Bp(n,e,t,r,i,s,o){if(!n)return;!o&&s&&tte(n,r,i,s);let a=n,u,c;for(;n.prev!==n.next;){if(u=n.prev,c=n.next,s?qee(n,r,i,s):Xee(n)){e.push(u.i/t),e.push(n.i/t),e.push(c.i/t),zp(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Kee(Ul(n),e,t),Bp(n,e,t,r,i,s,2)):o===2&&Yee(n,e,t,r,i,s):Bp(Ul(n),e,t,r,i,s,1);break}}}function Xee(n){const e=n.prev,t=n,r=n.next;if(Un(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(wd(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&Un(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function qee(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Un(i,s,o)>=0)return!1;const a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,u=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,c=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,f=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,h=iM(a,u,e,t,r),p=iM(c,f,e,t,r);let m=n.prevZ,v=n.nextZ;for(;m&&m.z>=h&&v&&v.z<=p;){if(m!==n.prev&&m!==n.next&&wd(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Un(m.prev,m,m.next)>=0||(m=m.prevZ,v!==n.prev&&v!==n.next&&wd(i.x,i.y,s.x,s.y,o.x,o.y,v.x,v.y)&&Un(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;m&&m.z>=h;){if(m!==n.prev&&m!==n.next&&wd(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&Un(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;v&&v.z<=p;){if(v!==n.prev&&v!==n.next&&wd(i.x,i.y,s.x,s.y,o.x,o.y,v.x,v.y)&&Un(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function Kee(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!dx(i,s)&&pO(i,r,r.next,s)&&Fp(i,s)&&Fp(s,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(s.i/t),zp(r),zp(r.next),r=n=s),r=r.next}while(r!==n);return Ul(r)}function Yee(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&ite(o,a)){let u=mO(o,a);o=Ul(o,o.next),u=Ul(u,u.next),Bp(o,e,t,r,i,s),Bp(u,e,t,r,i,s);return}a=a.next}o=o.next}while(o!==n)}function Zee(n,e,t,r){const i=[];let s,o,a,u,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,u=s<o-1?e[s+1]*r:n.length,c=hO(n,a,u,r,!1),c===c.next&&(c.steiner=!0),i.push(rte(c));for(i.sort(Jee),s=0;s<i.length;s++)Qee(i[s],t),t=Ul(t,t.next);return t}function Jee(n,e){return n.x-e.x}function Qee(n,e){if(e=$ee(n,e),e){const t=mO(e,n);Ul(e,e.next),Ul(t,t.next)}}function $ee(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const p=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=r&&p>s){if(s=p,p===r){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(r===s)return o;const a=o,u=o.x,c=o.y;let f=1/0,h;t=o;do r>=t.x&&t.x>=u&&r!==t.x&&wd(i<c?r:s,i,u,c,i<c?s:r,i,t.x,t.y)&&(h=Math.abs(i-t.y)/(r-t.x),Fp(t,n)&&(h<f||h===f&&(t.x>o.x||t.x===o.x&&ete(o,t)))&&(o=t,f=h)),t=t.next;while(t!==a);return o}function ete(n,e){return Un(n.prev,n,e.prev)<0&&Un(e.next,n,n.next)<0}function tte(n,e,t,r){let i=n;do i.z===null&&(i.z=iM(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,nte(i)}function nte(n){let e,t,r,i,s,o,a,u,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(u=c;a>0||u>0&&r;)a!==0&&(u===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,u--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function iM(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function rte(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function wd(n,e,t,r,i,s,o,a){return(i-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(r-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(i-o)*(r-a)>=0}function ite(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!ste(n,e)&&(Fp(n,e)&&Fp(e,n)&&ote(n,e)&&(Un(n.prev,n,e.prev)||Un(n,e.prev,e))||dx(n,e)&&Un(n.prev,n,n.next)>0&&Un(e.prev,e,e.next)>0)}function Un(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function dx(n,e){return n.x===e.x&&n.y===e.y}function pO(n,e,t,r){const i=cv(Un(n,e,t)),s=cv(Un(n,e,r)),o=cv(Un(t,r,n)),a=cv(Un(t,r,e));return!!(i!==s&&o!==a||i===0&&uv(n,t,e)||s===0&&uv(n,r,e)||o===0&&uv(t,n,r)||a===0&&uv(t,e,r))}function uv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function cv(n){return n>0?1:n<0?-1:0}function ste(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&pO(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Fp(n,e){return Un(n.prev,n,n.next)<0?Un(n,e,n.next)>=0&&Un(n,n.prev,e)>=0:Un(n,e,n.prev)<0||Un(n,n.next,e)<0}function ote(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function mO(n,e){const t=new sM(n.i,n.x,n.y),r=new sM(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function ED(n,e,t,r){const i=new sM(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function zp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function sM(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ate(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Da{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Da.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];TD(e),CD(r,e);let o=e.length;t.forEach(TD);for(let u=0;u<t.length;u++)i.push(o),o+=t[u].length,CD(r,t[u]);const a=jee.triangulate(r,i);for(let u=0;u<a.length;u+=3)s.push(a.slice(u,u+3));return s}}function TD(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function CD(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Hl extends Gt{constructor(e=new Nl([new ae(.5,.5),new ae(-.5,.5),new ae(-.5,-.5),new ae(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,u=e.length;a<u;a++){const c=e[a];o(c)}this.setAttribute("position",new Rt(i,3)),this.setAttribute("uv",new Rt(s,2)),this.computeVertexNormals();function o(a){const u=[],c=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1;let h=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:lte;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=t.amount);let _,S=!1,M,C,A,T;w&&(_=w.getSpacedPoints(f),S=!0,p=!1,M=w.computeFrenetFrames(f,!1),C=new B,A=new B,T=new B),p||(x=0,m=0,v=0,y=0);const R=a.extractPoints(c);let D=R.shape;const O=R.holes;if(!Da.isClockWise(D)){D=D.reverse();for(let pe=0,he=O.length;pe<he;pe++){const we=O[pe];Da.isClockWise(we)&&(O[pe]=we.reverse())}}const ie=Da.triangulateShape(D,O),U=D;for(let pe=0,he=O.length;pe<he;pe++){const we=O[pe];D=D.concat(we)}function G(pe,he,we){return he||console.error("THREE.ExtrudeGeometry: vec does not exist"),he.clone().multiplyScalar(we).add(pe)}const Z=D.length,te=ie.length;function V(pe,he,we){let We,Le,qe;const ot=pe.x-he.x,rt=pe.y-he.y,kt=we.x-pe.x,_t=we.y-pe.y,H=ot*ot+rt*rt,N=ot*_t-rt*kt;if(Math.abs(N)>Number.EPSILON){const de=Math.sqrt(H),_e=Math.sqrt(kt*kt+_t*_t),Ne=he.x-rt/de,Be=he.y+ot/de,Je=we.x-_t/_e,F=we.y+kt/_e,Me=((Je-Ne)*_t-(F-Be)*kt)/(ot*_t-rt*kt);We=Ne+ot*Me-pe.x,Le=Be+rt*Me-pe.y;const Xe=We*We+Le*Le;if(Xe<=2)return new ae(We,Le);qe=Math.sqrt(Xe/2)}else{let de=!1;ot>Number.EPSILON?kt>Number.EPSILON&&(de=!0):ot<-Number.EPSILON?kt<-Number.EPSILON&&(de=!0):Math.sign(rt)===Math.sign(_t)&&(de=!0),de?(We=-rt,Le=ot,qe=Math.sqrt(H)):(We=ot,Le=rt,qe=Math.sqrt(H/2))}return new ae(We/qe,Le/qe)}const K=[];for(let pe=0,he=U.length,we=he-1,We=pe+1;pe<he;pe++,we++,We++)we===he&&(we=0),We===he&&(We=0),K[pe]=V(U[pe],U[we],U[We]);const $=[];let re,le=K.concat();for(let pe=0,he=O.length;pe<he;pe++){const we=O[pe];re=[];for(let We=0,Le=we.length,qe=Le-1,ot=We+1;We<Le;We++,qe++,ot++)qe===Le&&(qe=0),ot===Le&&(ot=0),re[We]=V(we[We],we[qe],we[ot]);$.push(re),le=le.concat(re)}for(let pe=0;pe<x;pe++){const he=pe/x,we=m*Math.cos(he*Math.PI/2),We=v*Math.sin(he*Math.PI/2)+y;for(let Le=0,qe=U.length;Le<qe;Le++){const ot=G(U[Le],K[Le],We);gt(ot.x,ot.y,-we)}for(let Le=0,qe=O.length;Le<qe;Le++){const ot=O[Le];re=$[Le];for(let rt=0,kt=ot.length;rt<kt;rt++){const _t=G(ot[rt],re[rt],We);gt(_t.x,_t.y,-we)}}}const be=v+y;for(let pe=0;pe<Z;pe++){const he=p?G(D[pe],le[pe],be):D[pe];S?(A.copy(M.normals[0]).multiplyScalar(he.x),C.copy(M.binormals[0]).multiplyScalar(he.y),T.copy(_[0]).add(A).add(C),gt(T.x,T.y,T.z)):gt(he.x,he.y,0)}for(let pe=1;pe<=f;pe++)for(let he=0;he<Z;he++){const we=p?G(D[he],le[he],be):D[he];S?(A.copy(M.normals[pe]).multiplyScalar(we.x),C.copy(M.binormals[pe]).multiplyScalar(we.y),T.copy(_[pe]).add(A).add(C),gt(T.x,T.y,T.z)):gt(we.x,we.y,h/f*pe)}for(let pe=x-1;pe>=0;pe--){const he=pe/x,we=m*Math.cos(he*Math.PI/2),We=v*Math.sin(he*Math.PI/2)+y;for(let Le=0,qe=U.length;Le<qe;Le++){const ot=G(U[Le],K[Le],We);gt(ot.x,ot.y,h+we)}for(let Le=0,qe=O.length;Le<qe;Le++){const ot=O[Le];re=$[Le];for(let rt=0,kt=ot.length;rt<kt;rt++){const _t=G(ot[rt],re[rt],We);S?gt(_t.x,_t.y+_[f-1].y,_[f-1].x+we):gt(_t.x,_t.y,h+we)}}}Te(),ke();function Te(){const pe=i.length/3;if(p){let he=0,we=Z*he;for(let We=0;We<te;We++){const Le=ie[We];Ve(Le[2]+we,Le[1]+we,Le[0]+we)}he=f+x*2,we=Z*he;for(let We=0;We<te;We++){const Le=ie[We];Ve(Le[0]+we,Le[1]+we,Le[2]+we)}}else{for(let he=0;he<te;he++){const we=ie[he];Ve(we[2],we[1],we[0])}for(let he=0;he<te;he++){const we=ie[he];Ve(we[0]+Z*f,we[1]+Z*f,we[2]+Z*f)}}r.addGroup(pe,i.length/3-pe,0)}function ke(){const pe=i.length/3;let he=0;ue(U,he),he+=U.length;for(let we=0,We=O.length;we<We;we++){const Le=O[we];ue(Le,he),he+=Le.length}r.addGroup(pe,i.length/3-pe,1)}function ue(pe,he){let we=pe.length;for(;--we>=0;){const We=we;let Le=we-1;Le<0&&(Le=pe.length-1);for(let qe=0,ot=f+x*2;qe<ot;qe++){const rt=Z*qe,kt=Z*(qe+1),_t=he+We+rt,H=he+Le+rt,N=he+Le+kt,de=he+We+kt;Ze(_t,H,N,de)}}}function gt(pe,he,we){u.push(pe),u.push(he),u.push(we)}function Ve(pe,he,we){Se(pe),Se(he),Se(we);const We=i.length/3,Le=b.generateTopUV(r,i,We-3,We-2,We-1);st(Le[0]),st(Le[1]),st(Le[2])}function Ze(pe,he,we,We){Se(pe),Se(he),Se(We),Se(he),Se(we),Se(We);const Le=i.length/3,qe=b.generateSideWallUV(r,i,Le-6,Le-3,Le-2,Le-1);st(qe[0]),st(qe[1]),st(qe[3]),st(qe[1]),st(qe[2]),st(qe[3])}function Se(pe){i.push(u[pe*3+0]),i.push(u[pe*3+1]),i.push(u[pe*3+2])}function st(pe){s.push(pe.x),s.push(pe.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return ute(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new fO[i.type]().fromJSON(i)),new Hl(r,e.options)}}const lte={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],u=e[r*3+1],c=e[i*3],f=e[i*3+1];return[new ae(s,o),new ae(a,u),new ae(c,f)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],u=e[t*3+2],c=e[r*3],f=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],y=e[s*3],x=e[s*3+1],w=e[s*3+2];return Math.abs(a-f)<Math.abs(o-c)?[new ae(o,1-u),new ae(c,1-h),new ae(p,1-v),new ae(y,1-w)]:[new ae(a,1-u),new ae(f,1-h),new ae(m,1-v),new ae(x,1-w)]}};function ute(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class PE extends cx{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new PE(e.radius,e.detail)}}class DE extends Gt{constructor(e=new Nl([new ae(0,.5),new ae(-.5,-.5),new ae(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,u=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(a,u,f),a+=u,u=0;this.setIndex(r),this.setAttribute("position",new Rt(i,3)),this.setAttribute("normal",new Rt(s,3)),this.setAttribute("uv",new Rt(o,2));function c(f){const h=i.length/3,p=f.extractPoints(t);let m=p.shape;const v=p.holes;Da.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,w=v.length;x<w;x++){const b=v[x];Da.isClockWise(b)===!0&&(v[x]=b.reverse())}const y=Da.triangulateShape(m,v);for(let x=0,w=v.length;x<w;x++){const b=v[x];m=m.concat(b)}for(let x=0,w=m.length;x<w;x++){const b=m[x];i.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let x=0,w=y.length;x<w;x++){const b=y[x],_=b[0]+h,S=b[1]+h,M=b[2]+h;r.push(_,S,M),u+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return cte(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new DE(r,e.curveSegments)}}function cte(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class fx extends Gt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const u=Math.min(o+a,Math.PI);let c=0;const f=[],h=new B,p=new B,m=[],v=[],y=[],x=[];for(let w=0;w<=r;w++){const b=[],_=w/r;let S=0;w==0&&o==0?S=.5/t:w==r&&u==Math.PI&&(S=-.5/t);for(let M=0;M<=t;M++){const C=M/t;h.x=-e*Math.cos(i+C*s)*Math.sin(o+_*a),h.y=e*Math.cos(o+_*a),h.z=e*Math.sin(i+C*s)*Math.sin(o+_*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),y.push(p.x,p.y,p.z),x.push(C+S,1-_),b.push(c++)}f.push(b)}for(let w=0;w<r;w++)for(let b=0;b<t;b++){const _=f[w][b+1],S=f[w][b],M=f[w+1][b],C=f[w+1][b+1];(w!==0||o>0)&&m.push(_,S,C),(w!==r-1||u<Math.PI)&&m.push(S,M,C)}this.setIndex(m),this.setAttribute("position",new Rt(v,3)),this.setAttribute("normal",new Rt(y,3)),this.setAttribute("uv",new Rt(x,2))}static fromJSON(e){return new fx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class IE extends cx{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new IE(e.radius,e.detail)}}class LE extends Gt{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],u=[],c=[],f=new B,h=new B,p=new B;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const y=v/i*s,x=m/r*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(y),h.y=(e+t*Math.cos(x))*Math.sin(y),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),f.x=e*Math.cos(y),f.y=e*Math.sin(y),p.subVectors(h,f).normalize(),u.push(p.x,p.y,p.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const y=(i+1)*m+v-1,x=(i+1)*(m-1)+v-1,w=(i+1)*(m-1)+v,b=(i+1)*m+v;o.push(y,x,b),o.push(x,w,b)}this.setIndex(o),this.setAttribute("position",new Rt(a,3)),this.setAttribute("normal",new Rt(u,3)),this.setAttribute("uv",new Rt(c,2))}static fromJSON(e){return new LE(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class gO extends Cr{constructor(e){super(),this.type="ShadowMaterial",this.color=new De(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}gO.prototype.isShadowMaterial=!0;class vO extends Dt{constructor(e){super(e),this.type="RawShaderMaterial"}}vO.prototype.isRawShaderMaterial=!0;class lc extends Cr{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new De(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sc,this.normalScale=new ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}lc.prototype.isMeshStandardMaterial=!0;class yO extends lc{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ae(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return dr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new De(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new De(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new De(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}yO.prototype.isMeshPhysicalMaterial=!0;class xO extends Cr{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new De(16777215),this.specular=new De(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sc,this.normalScale=new ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}xO.prototype.isMeshPhongMaterial=!0;class kE extends Cr{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new De(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sc,this.normalScale=new ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}kE.prototype.isMeshToonMaterial=!0;class hx extends Cr{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sc,this.normalScale=new ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}hx.prototype.isMeshNormalMaterial=!0;class _O extends Cr{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}_O.prototype.isMeshLambertMaterial=!0;class bO extends Cr{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new De(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sc,this.normalScale=new ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}bO.prototype.isMeshMatcapMaterial=!0;class wO extends Wa{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}wO.prototype.isLineDashedMaterial=!0;const dte={ShadowMaterial:gO,SpriteMaterial:ox,RawShaderMaterial:vO,ShaderMaterial:Dt,PointsMaterial:SE,MeshPhysicalMaterial:yO,MeshStandardMaterial:lc,MeshPhongMaterial:xO,MeshToonMaterial:kE,MeshNormalMaterial:hx,MeshLambertMaterial:_O,MeshDepthMaterial:wf,MeshDistanceMaterial:yE,MeshBasicMaterial:Fa,MeshMatcapMaterial:bO,LineDashedMaterial:wO,LineBasicMaterial:Wa,Material:Cr};Cr.fromType=function(n){return new dte[n]};const In={arraySlice:function(n,e,t){return In.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let u=0;u!==e;++u)i[o++]=n[a+u]}return i},flattenJSON:function(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)},subclip:function(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let u=0;u<s.tracks.length;++u){const c=s.tracks[u],f=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<t||v>=r)){h.push(c.times[m]);for(let y=0;y<f;++y)p.push(c.values[m*f+y])}}h.length!==0&&(c.times=In.convertArray(h,c.times.constructor),c.values=In.convertArray(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let u=0;u<s.tracks.length;++u)a>s.tracks[u].times[0]&&(a=s.tracks[u].times[0]);for(let u=0;u<s.tracks.length;++u)s.tracks[u].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],u=a.ValueTypeName;if(u==="bool"||u==="string")continue;const c=n.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===u});if(c===void 0)continue;let f=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const w=f,b=h-f;y=In.arraySlice(a.values,w,b)}else if(s>=a.times[v]){const w=v*h+f,b=w+h-f;y=In.arraySlice(a.values,w,b)}else{const w=a.createInterpolant(),b=f,_=h-f;w.evaluate(s),y=In.arraySlice(w.resultBuffer,b,_)}u==="quaternion"&&new $n().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let w=0;w<x;++w){const b=w*m+p;if(u==="quaternion")$n.multiplyQuaternionsFlat(c.values,b,y,0,c.values,b);else{const _=m-p*2;for(let S=0;S<_;++S)c.values[b+S]-=y[S]}}}return n.blendMode=UN,n}};class Wl{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,s)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let u=r-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===u)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,s,e)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Wl.prototype.beforeStart_=Wl.prototype.copySampleValue_;Wl.prototype.afterEnd_=Wl.prototype.copySampleValue_;class fte extends Wl{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:xd,endingEnd:xd}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],u=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case _d:s=e,a=2*t-r;break;case ry:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(u===void 0)switch(this.getSettings_().endingEnd){case _d:o=e,u=2*r-t;break;case ry:o=1,u=r+i[1]-i[0];break;default:o=e-1,u=t}const c=(r-t)*.5,f=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(u-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),y=v*v,x=y*v,w=-p*x+2*p*y-p*v,b=(1+p)*x+(-1.5-2*p)*y+(-.5+p)*v+1,_=(-1-m)*x+(1.5+m)*y+.5*v,S=m*x-m*y;for(let M=0;M!==a;++M)s[M]=w*o[f+M]+b*o[c+M]+_*o[u+M]+S*o[h+M];return s}}class SO extends Wl{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,c=u-a,f=(r-t)/(i-t),h=1-f;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[u+p]*f;return s}}class hte extends Wl{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ko{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=In.convertArray(t,this.TimeBufferType),this.values=In.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:In.convertArray(e.times,Array),values:In.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new hte(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new SO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new fte(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ty:t=this.InterpolantFactoryMethodDiscrete;break;case ny:t=this.InterpolantFactoryMethodLinear;break;case jb:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ty;case this.InterpolantFactoryMethodLinear:return ny;case this.InterpolantFactoryMethodSmooth:return jb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=In.arraySlice(r,s,o),this.values=In.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const u=r[a];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,o),e=!1;break}o=u}if(i!==void 0&&In.isTypedArray(i))for(let a=0,u=i.length;a!==u;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=In.arraySlice(this.times),t=In.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===jb,s=e.length-1;let o=1;for(let a=1;a<s;++a){let u=!1;const c=e[a],f=e[a+1];if(c!==f&&(a!==1||c!==e[0]))if(i)u=!0;else{const h=a*r,p=h-r,m=h+r;for(let v=0;v!==r;++v){const y=t[h+v];if(y!==t[p+v]||y!==t[m+v]){u=!0;break}}}if(u){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,u=o*r,c=0;c!==r;++c)t[u+c]=t[a+c];++o}return o!==e.length?(this.times=In.arraySlice(e,0,o),this.values=In.arraySlice(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=In.arraySlice(this.times,0),t=In.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ko.prototype.TimeBufferType=Float32Array;Ko.prototype.ValueBufferType=Float32Array;Ko.prototype.DefaultInterpolation=ny;class Sf extends Ko{}Sf.prototype.ValueTypeName="bool";Sf.prototype.ValueBufferType=Array;Sf.prototype.DefaultInterpolation=ty;Sf.prototype.InterpolantFactoryMethodLinear=void 0;Sf.prototype.InterpolantFactoryMethodSmooth=void 0;class MO extends Ko{}MO.prototype.ValueTypeName="color";class Up extends Ko{}Up.prototype.ValueTypeName="number";class pte extends Wl{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=(r-t)/(i-t);let c=e*a;for(let f=c+a;c!==f;c+=4)$n.slerpFlat(s,0,o,c-a,o,c,u);return s}}class dm extends Ko{InterpolantFactoryMethodLinear(e){return new pte(this.times,this.values,this.getValueSize(),e)}}dm.prototype.ValueTypeName="quaternion";dm.prototype.DefaultInterpolation=ny;dm.prototype.InterpolantFactoryMethodSmooth=void 0;class Mf extends Ko{}Mf.prototype.ValueTypeName="string";Mf.prototype.ValueBufferType=Array;Mf.prototype.DefaultInterpolation=ty;Mf.prototype.InterpolantFactoryMethodLinear=void 0;Mf.prototype.InterpolantFactoryMethodSmooth=void 0;class ay extends Ko{}ay.prototype.ValueTypeName="vector";class oM{constructor(e,t=-1,r,i=dE){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Ns(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(gte(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Ko.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let u=[],c=[];u.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const f=In.getKeyframeOrder(u);u=In.sortedArray(u,1,f),c=In.sortedArray(c,1,f),!i&&u[0]===0&&(u.push(s),c.push(c[0])),o.push(new Up(".morphTargetInfluences["+t[a].name+"]",u,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,u=e.length;a<u;a++){const c=e[a],f=c.name.match(s);if(f&&f.length>1){const h=f[1];let p=i[h];p||(i[h]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,v,y){if(m.length!==0){const x=[],w=[];In.flattenJSON(m,x,w,v),x.length!==0&&y.push(new h(p,x,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let u=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)m[p[v].morphTargets[y]]=-1;for(const y in m){const x=[],w=[];for(let b=0;b!==p[v].morphTargets.length;++b){const _=p[v];x.push(_.time),w.push(_.morphTarget===y?1:0)}i.push(new Up(".morphTargetInfluence["+y+"]",x,w))}u=m.length*o}else{const m=".bones["+t[h].name+"]";r(ay,m+".position",p,"pos",i),r(dm,m+".quaternion",p,"rot",i),r(ay,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,u,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mte(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Up;case"vector":case"vector2":case"vector3":case"vector4":return ay;case"color":return MO;case"quaternion":return dm;case"bool":case"boolean":return Sf;case"string":return Mf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function gte(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=mte(n.type);if(n.times===void 0){const t=[],r=[];In.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const $d={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class vte{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,u;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return u?u(f):f},this.setURLModifier=function(f){return u=f,this},this.addHandler=function(f,h){return c.push(f,h),this},this.removeHandler=function(f){const h=c.indexOf(f);return h!==-1&&c.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(f))return v}return null}}}const yte=new vte;class Va{constructor(e){this.manager=e!==void 0?e:yte,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const fa={};class EO extends Va{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=$d.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(fa[e]!==void 0){fa[e].push({onLoad:t,onProgress:r,onError:i});return}fa[e]=[],fa[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,u=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||c.body===void 0||c.body.getReader===void 0)return c;const f=fa[e],h=c.body.getReader(),p=c.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let y=0;const x=new ReadableStream({start(w){b();function b(){h.read().then(({done:_,value:S})=>{if(_)w.close();else{y+=S.byteLength;const M=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let C=0,A=f.length;C<A;C++){const T=f[C];T.onProgress&&T.onProgress(M)}w.enqueue(S),b()}})}}});return new Response(x)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(u){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{$d.add(e,c);const f=fa[e];delete fa[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const f=fa[e];if(f===void 0)throw this.manager.itemError(e),c;delete fa[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class TO extends Va{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=$d.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Np("img");function u(){f(),$d.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){f(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",u,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",u,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class CO extends Va{constructor(e){super(e)}load(e,t,r,i){const s=new nx,o=new TO(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function u(c){o.load(e[c],function(f){s.images[c]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)u(c);return s}}class xte extends Va{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new bE,a=new EO(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(u){const c=s.parse(u);!c||(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:is,o.wrapT=c.wrapT!==void 0?c.wrapT:is,o.magFilter=c.magFilter!==void 0?c.magFilter:Yn,o.minFilter=c.minFilter!==void 0?c.minFilter:Yn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=am),c.mipmapCount===1&&(o.minFilter=Yn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class AO extends Va{constructor(e){super(e)}load(e,t,r,i){const s=new gr,o=new TO(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Xo extends en{constructor(e,t=1){super(),this.type="Light",this.color=new De(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}Xo.prototype.isLight=!0;class RO extends Xo{constructor(e,t,r){super(e,r),this.type="HemisphereLight",this.position.copy(en.DefaultUp),this.updateMatrix(),this.groundColor=new De(t)}copy(e){return Xo.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}RO.prototype.isHemisphereLight=!0;const AD=new Ye,RD=new B,PD=new B;class NE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ae(512,512),this.map=null,this.mapPass=null,this.matrix=new Ye,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lm,this._frameExtents=new ae(1,1),this._viewportCount=1,this._viewports=[new hn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;RD.setFromMatrixPosition(e.matrixWorld),t.position.copy(RD),PD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(PD),t.updateMatrixWorld(),AD.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(AD),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class PO extends NE{constructor(){super(new Sr(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,r=kp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}PO.prototype.isSpotLightShadow=!0;class DO extends Xo{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.type="SpotLight",this.position.copy(en.DefaultUp),this.updateMatrix(),this.target=new en,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.shadow=new PO}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}DO.prototype.isSpotLight=!0;const DD=new Ye,gh=new B,Ew=new B;class IO extends NE{constructor(){super(new Sr(90,1,.5,500)),this._frameExtents=new ae(4,2),this._viewportCount=6,this._viewports=[new hn(2,1,1,1),new hn(0,1,1,1),new hn(3,1,1,1),new hn(1,1,1,1),new hn(3,0,1,1),new hn(1,0,1,1)],this._cubeDirections=[new B(1,0,0),new B(-1,0,0),new B(0,0,1),new B(0,0,-1),new B(0,1,0),new B(0,-1,0)],this._cubeUps=[new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,0,1),new B(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),gh.setFromMatrixPosition(e.matrixWorld),r.position.copy(gh),Ew.copy(r.position),Ew.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(Ew),r.updateMatrixWorld(),i.makeTranslation(-gh.x,-gh.y,-gh.z),DD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DD)}}IO.prototype.isPointLightShadow=!0;class LO extends Xo{constructor(e,t,r=0,i=1){super(e,t),this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new IO}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}LO.prototype.isPointLight=!0;class kO extends NE{constructor(){super(new _f(-5,5,5,-5,.5,500))}}kO.prototype.isDirectionalLightShadow=!0;class NO extends Xo{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(en.DefaultUp),this.updateMatrix(),this.target=new en,this.shadow=new kO}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}NO.prototype.isDirectionalLight=!0;class _te extends Xo{constructor(e,t){super(e,t),this.type="AmbientLight"}}_te.prototype.isAmbientLight=!0;class bte extends Xo{constructor(e,t,r=10,i=10){super(e,t),this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}bte.prototype.isRectAreaLight=!0;class OO{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new B)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}OO.prototype.isSphericalHarmonics3=!0;class OE extends Xo{constructor(e=new OO,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}OE.prototype.isLightProbe=!0;class wte{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Ste extends Gt{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}Ste.prototype.isInstancedBufferGeometry=!0;class Mte extends Va{constructor(e){super(e),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=$d.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){$d.add(e,u),t&&t(u),s.manager.itemEnd(e)}).catch(function(u){i&&i(u),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}Mte.prototype.isImageBitmapLoader=!0;let dv;const BO={getContext:function(){return dv===void 0&&(dv=new(window.AudioContext||window.webkitAudioContext)),dv},setContext:function(n){dv=n}};class FO extends Va{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new EO(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const u=a.slice(0);BO.getContext().decodeAudioData(u,function(f){t(f)})}catch(u){i?i(u):console.error(u),s.manager.itemError(e)}},r,i)}}class Ete extends OE{constructor(e,t,r=1){super(void 0,r);const i=new De().set(e),s=new De().set(t),o=new B(i.r,i.g,i.b),a=new B(s.r,s.g,s.b),u=Math.sqrt(Math.PI),c=u*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(u),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}Ete.prototype.isHemisphereLightProbe=!0;class Tte extends OE{constructor(e,t=1){super(void 0,t);const r=new De().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}Tte.prototype.isAmbientLightProbe=!0;class BE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ID(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=ID();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function ID(){return(typeof performance=="undefined"?Date:performance).now()}const mu=new B,LD=new $n,Cte=new B,gu=new B;class Ate extends en{constructor(){super(),this.type="AudioListener",this.context=BO.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new BE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mu,LD,Cte),gu.set(0,0,-1).applyQuaternion(LD),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(mu.x,i),t.positionY.linearRampToValueAtTime(mu.y,i),t.positionZ.linearRampToValueAtTime(mu.z,i),t.forwardX.linearRampToValueAtTime(gu.x,i),t.forwardY.linearRampToValueAtTime(gu.y,i),t.forwardZ.linearRampToValueAtTime(gu.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(mu.x,mu.y,mu.z),t.setOrientation(gu.x,gu.y,gu.z,r.x,r.y,r.z)}}class Rte extends en{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class Pte{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const u=t*this._origIndex;this._mixBufferRegion(r,i,u,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let u=t,c=t+t;u!==c;++u)if(r[u]!==r[u+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){$n.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;$n.multiplyQuaternionsFlat(e,o,e,t,e,r),$n.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const u=t+a;e[u]=e[u]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const FE="\\[\\]\\.:\\/",Dte=new RegExp("["+FE+"]","g"),zE="[^"+FE+"]",Ite="[^"+FE.replace("\\.","")+"]",Lte=/((?:WC+[\/:])*)/.source.replace("WC",zE),kte=/(WCOD+)?/.source.replace("WCOD",Ite),Nte=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zE),Ote=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zE),Bte=new RegExp("^"+Lte+kte+Nte+Ote+"$"),Fte=["material","materials","bones"];class zte{constructor(e,t,r){const i=r||Jt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Jt{constructor(e,t,r){this.path=t,this.parsedPath=r||Jt.parseTrackName(t),this.node=Jt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Jt.Composite(e,t,r):new Jt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Dte,"")}static parseTrackName(e){const t=Bte.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Fte.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const u=r(a.children);if(u)return u}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Jt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Jt.Composite=zte;Jt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Jt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Jt.prototype.GetterByBindingType=[Jt.prototype._getValue_direct,Jt.prototype._getValue_array,Jt.prototype._getValue_arrayElement,Jt.prototype._getValue_toArray];Jt.prototype.SetterByBindingTypeAndVersioning=[[Jt.prototype._setValue_direct,Jt.prototype._setValue_direct_setNeedsUpdate,Jt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Jt.prototype._setValue_array,Jt.prototype._setValue_array_setNeedsUpdate,Jt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Jt.prototype._setValue_arrayElement,Jt.prototype._setValue_arrayElement_setNeedsUpdate,Jt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Jt.prototype._setValue_fromArray,Jt.prototype._setValue_fromArray_setNeedsUpdate,Jt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ute{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),u={endingStart:xd,endingEnd:xd};for(let c=0;c!==o;++c){const f=s[c].createInterpolant(null);a[c]=f,f.settings=u}this._interpolantSettings=u,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=QS,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const u=a.parameterPositions,c=a.sampleValues;return u[0]=s,u[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const u=(e-s)*r;if(u<0||r===0)return;this._startTime=null,t=r*u}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const u=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case UN:for(let f=0,h=u.length;f!==h;++f)u[f].evaluate(o),c[f].accumulateAdditive(a);break;case dE:default:for(let f=0,h=u.length;f!==h;++f)u[f].evaluate(o),c[f].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===wY;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===JS){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const u=this.repetitions-s;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=_d,i.endingEnd=_d):(e?i.endingStart=this.zeroSlopeAtStart?_d:xd:i.endingStart=ry,t?i.endingEnd=this.zeroSlopeAtEnd?_d:xd:i.endingEnd=ry)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,u=o.sampleValues;return a[0]=s,u[0]=t,a[1]=s+e,u[1]=r,this}}class zO extends Ql{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,u=r.uuid,c=this._bindingsByRootAndName;let f=c[u];f===void 0&&(f={},c[u]=f);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let v=f[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,u,m));continue}const y=t&&t._propertyBindings[h].binding.parsedPath;v=new Pte(Jt.create(r,m,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,u,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],u=a.knownActions,c=u[u.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,u[f]=c,u.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],u.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],u=t[t.length-1],c=e._cacheIndex;u._cacheIndex=c,t[c]=u,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new SO(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?oM.findByName(i,e):e;const a=o!==null?o.uuid:e,u=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=dE),u!==void 0){const h=u.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=u.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const f=new Ute(this,o,t,r);return this._bindAction(f,c),this._addInactiveAction(f,a,s),f}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?oM.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,u=this._nActiveBindings;for(let c=0;c!==u;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,u=o.length;a!==u;++a){const c=o[a];this._deactivateAction(c);const f=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=f,t[f]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,u=a[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}zO.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class UE{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new UE(this.value.clone===void 0?this.value:this.value.clone())}}class Hte extends cm{constructor(e,t,r=1){super(e,t),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}Hte.prototype.isInstancedInterleavedBuffer=!0;class Wte{constructor(e,t,r=0,i=1/0){this.ray=new Ha(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new mE,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return aM(e,this,r,t),r.sort(kD),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)aM(e[i],this,r,t);return r.sort(kD),r}}function kD(n,e){return n.distance-e.distance}function aM(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)aM(i[s],e,t,!0)}}class ND{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(dr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const OD=new ae;class fm{constructor(e=new ae(1/0,1/0),t=new ae(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=OD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return OD.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}fm.prototype.isBox2=!0;const BD=new B,fv=new B;class UO{constructor(e=new B,t=new B){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){BD.subVectors(e,this.start),fv.subVectors(this.end,this.start);const r=fv.dot(fv);let s=fv.dot(BD)/r;return t&&(s=dr(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const FD=new B;class Vte extends en{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new Gt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,u=32;o<u;o++,a++){const c=o/u*Math.PI*2,f=a/u*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Rt(i,3));const s=new Wa({fog:!1,toneMapped:!1});this.cone=new Zu(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),FD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(FD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const dl=new B,hv=new Ye,Tw=new Ye;class HO extends Zu{constructor(e){const t=WO(e),r=new Gt,i=[],s=[],o=new De(0,0,1),a=new De(0,1,0);for(let c=0;c<t.length;c++){const f=t[c];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Rt(i,3)),r.setAttribute("color",new Rt(s,3));const u=new Wa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,u),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");Tw.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(hv.multiplyMatrices(Tw,a.matrixWorld),dl.setFromMatrixPosition(hv),i.setXYZ(o,dl.x,dl.y,dl.z),hv.multiplyMatrices(Tw,a.parent.matrixWorld),dl.setFromMatrixPosition(hv),i.setXYZ(o+1,dl.x,dl.y,dl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function WO(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,WO(n.children[t]));return e}class Gte extends Qn{constructor(e,t,r){const i=new fx(t,4,2),s=new Fa({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}class VO extends Zu{constructor(e=10,t=10,r=4473924,i=8947848){r=new De(r),i=new De(i);const s=t/2,o=e/t,a=e/2,u=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){u.push(-a,0,v,a,0,v),u.push(v,0,-a,v,0,a);const y=p===s?r:i;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const f=new Gt;f.setAttribute("position",new Rt(u,3)),f.setAttribute("color",new Rt(c,3));const h=new Wa({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}}const pv=new B,jn=new tx;class jte extends Zu{constructor(e){const t=new Gt,r=new Wa({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={},a=new De(16755200),u=new De(16711680),c=new De(43775),f=new De(16777215),h=new De(3355443);p("n1","n2",a),p("n2","n4",a),p("n4","n3",a),p("n3","n1",a),p("f1","f2",a),p("f2","f4",a),p("f4","f3",a),p("f3","f1",a),p("n1","f1",a),p("n2","f2",a),p("n3","f3",a),p("n4","f4",a),p("p","n1",u),p("p","n2",u),p("p","n3",u),p("p","n4",u),p("u1","u2",c),p("u2","u3",c),p("u3","u1",c),p("c","t",f),p("p","c",h),p("cn1","cn2",h),p("cn3","cn4",h),p("cf1","cf2",h),p("cf3","cf4",h);function p(v,y,x){m(v,x),m(y,x)}function m(v,y){i.push(0,0,0),s.push(y.r,y.g,y.b),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new Rt(i,3)),t.setAttribute("color",new Rt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;jn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ir("c",t,e,jn,0,0,-1),ir("t",t,e,jn,0,0,1),ir("n1",t,e,jn,-r,-i,-1),ir("n2",t,e,jn,r,-i,-1),ir("n3",t,e,jn,-r,i,-1),ir("n4",t,e,jn,r,i,-1),ir("f1",t,e,jn,-r,-i,1),ir("f2",t,e,jn,r,-i,1),ir("f3",t,e,jn,-r,i,1),ir("f4",t,e,jn,r,i,1),ir("u1",t,e,jn,r*.7,i*1.1,-1),ir("u2",t,e,jn,-r*.7,i*1.1,-1),ir("u3",t,e,jn,0,i*2,-1),ir("cf1",t,e,jn,-r,0,1),ir("cf2",t,e,jn,r,0,1),ir("cf3",t,e,jn,0,-i,1),ir("cf4",t,e,jn,0,i,1),ir("cn1",t,e,jn,-r,0,-1),ir("cn2",t,e,jn,r,0,-1),ir("cn3",t,e,jn,0,-i,-1),ir("cn4",t,e,jn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ir(n,e,t,r,i,s,o){pv.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const u=t.getAttribute("position");for(let c=0,f=a.length;c<f;c++)u.setXYZ(a[c],pv.x,pv.y,pv.z)}}const mv=new Gi;class GO extends Zu{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Gt;s.setIndex(new ar(r,1)),s.setAttribute("position",new ar(i,3)),super(s,new Wa({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&mv.setFromObject(this.object),mv.isEmpty())return;const t=mv.min,r=mv.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Zu.prototype.copy.call(this,e),this.object=e.object,this}}class fae{constructor(){this.type="ShapePath",this.color=new De,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new oy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(b){const _=[];for(let S=0,M=b.length;S<M;S++){const C=b[S],A=new Nl;A.curves=C.curves,_.push(A)}return _}function i(b,_){const S=_.length;let M=!1;for(let C=S-1,A=0;A<S;C=A++){let T=_[C],R=_[A],D=R.x-T.x,O=R.y-T.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(T=_[A],D=-D,R=_[C],O=-O),b.y<T.y||b.y>R.y)continue;if(b.y===T.y){if(b.x===T.x)return!0}else{const Y=O*(b.x-T.x)-D*(b.y-T.y);if(Y===0)return!0;if(Y<0)continue;M=!M}}else{if(b.y!==T.y)continue;if(R.x<=b.x&&b.x<=T.x||T.x<=b.x&&b.x<=R.x)return!0}}return M}const s=Da.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return r(o);let a,u,c;const f=[];if(o.length===1)return u=o[0],c=new Nl,c.curves=u.curves,f.push(c),f;let h=!s(o[0].getPoints());h=e?!h:h;const p=[],m=[];let v=[],y=0,x;m[y]=void 0,v[y]=[];for(let b=0,_=o.length;b<_;b++)u=o[b],x=u.getPoints(),a=s(x),a=e?!a:a,a?(!h&&m[y]&&y++,m[y]={s:new Nl,p:x},m[y].s.curves=u.curves,h&&y++,v[y]=[]):v[y].push({h:u,p:x[0]});if(!m[0])return r(o);if(m.length>1){let b=!1,_=0;for(let S=0,M=m.length;S<M;S++)p[S]=[];for(let S=0,M=m.length;S<M;S++){const C=v[S];for(let A=0;A<C.length;A++){const T=C[A];let R=!0;for(let D=0;D<m.length;D++)i(T.p,m[D].p)&&(S!==D&&_++,R?(R=!1,p[D].push(T)):b=!0);R&&p[S].push(T)}}_>0&&b===!1&&(v=p)}let w;for(let b=0,_=m.length;b<_;b++){c=m[b].s,f.push(c),w=v[b];for(let S=0,M=w.length;S<M;S++)c.holes.push(w[S].h)}return f}}class gv{static toHalfFloat(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=dr(e,-65504,65504),zD[0]=e;const t=UD[0],r=t>>23&511;return no[r]+((t&8388607)>>ro[r])}static fromHalfFloat(e){const t=e>>10;return UD[0]=HE[XO[t]+(e&1023)]+Ef[t],zD[0]}}const jO=new ArrayBuffer(4),zD=new Float32Array(jO),UD=new Uint32Array(jO),no=new Uint32Array(512),ro=new Uint32Array(512);for(let n=0;n<256;++n){const e=n-127;e<-27?(no[n]=0,no[n|256]=32768,ro[n]=24,ro[n|256]=24):e<-14?(no[n]=1024>>-e-14,no[n|256]=1024>>-e-14|32768,ro[n]=-e-1,ro[n|256]=-e-1):e<=15?(no[n]=e+15<<10,no[n|256]=e+15<<10|32768,ro[n]=13,ro[n|256]=13):e<128?(no[n]=31744,no[n|256]=64512,ro[n]=24,ro[n|256]=24):(no[n]=31744,no[n|256]=64512,ro[n]=13,ro[n|256]=13)}const HE=new Uint32Array(2048),Ef=new Uint32Array(64),XO=new Uint32Array(64);for(let n=1;n<1024;++n){let e=n<<13,t=0;for(;(e&8388608)===0;)e<<=1,t-=8388608;e&=-8388609,t+=947912704,HE[n]=e|t}for(let n=1024;n<2048;++n)HE[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)Ef[n]=n<<23;Ef[31]=1199570944;Ef[32]=2147483648;for(let n=33;n<63;++n)Ef[n]=2147483648+(n-32<<23);Ef[63]=3347054592;for(let n=1;n<64;++n)n!==32&&(XO[n]=1024);zs.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(zs.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};oy.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};VO.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};HO.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Va.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),wte.extractUrlBase(n)};Va.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};fm.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};fm.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};fm.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};fm.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};Gi.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Gi.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Gi.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Gi.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Gi.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};$l.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};xf.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};lm.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};UO.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Jn.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Jn.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Jn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Jn.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Jn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Jn.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Ye.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Ye.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Ye.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new B().setFromMatrixColumn(this,3)};Ye.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Ye.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Ye.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ye.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ye.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Ye.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Ye.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ye.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Ye.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Ye.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Ye.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Ye.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Ye.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Ye.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Ye.prototype.makeFrustum=function(n,e,t,r,i,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,s)};Ye.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};ba.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};$n.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};$n.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Ha.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Ha.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};Ha.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};hr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};hr.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};hr.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};hr.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};hr.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};hr.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),hr.getBarycoord(n,e,t,r,i)};hr.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),hr.getNormal(n,e,t,r)};Nl.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};Nl.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Hl(this,n)};Nl.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new DE(this,n)};ae.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ae.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ae.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};B.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};B.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};B.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};B.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};B.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};B.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};B.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};B.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};B.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};hn.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};hn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};en.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};en.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};en.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};en.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};en.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(en.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Qn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Qn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),SY},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});sO.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Sr.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(Xo.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(ar.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===iy},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(iy)}}});ar.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?iy:Lp),this};ar.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},ar.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Gt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};Gt.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new ar(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};Gt.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};Gt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Gt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Gt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};Gt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Gt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});cm.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?iy:Lp),this};cm.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Hl.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Hl.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Hl.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};xE.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};UE.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Cr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new De}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===NN}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Dt.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});dn.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};dn.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};dn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};dn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};dn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};dn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};dn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};dn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};dn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};dn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};dn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};dn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};dn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};dn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};dn.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};dn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};dn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};dn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};dn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};dn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};dn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};dn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};dn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};dn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};dn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(dn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Dn:jo}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(tO.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Ht.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});Rte.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new FO().load(n,function(r){e.setBuffer(r)}),this};gE.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};gE.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};oc.crossOrigin=void 0;oc.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new AO;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};oc.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new CO;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};oc.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};oc.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:cE}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=cE);const[vv,Wn]=Or(),qO=100,yt=1/qO,ln=qO,hm=.1,pm=1e4,Xte=Number.EPSILON,ds=100*yt,Ia=ds*.5;var $s=new Sr(75,1,hm,pm),Er=new Sr(75,1,hm,pm);const[KO,ef]=Ie([Er]),qte=vf(KO,ef),HD=yf(KO,ef),[WD,Kte]=Ie(void 0),px=375,mx=667,WE=5,VE=175,yv=5.7,xv="https://unpkg.com/lingo3d-dummy@1.0.4/assets/",[Yte,wi]=Ie([px,mx]),Zte=([n,e])=>Yte([Math.max(n,1),Math.max(e,1)]),[hae,tf]=Ie(!1),[Cw,tt]=Ie(Er),lM=n=>{const[e,t]=wi(),r=e/t;return n instanceof Sr&&!tf()?(n.aspect=r,n.updateProjectionMatrix()):n instanceof _f&&([n.left,n.right,n.top,n.bottom]=[r*yv*-.5,r*yv*.5,yv*.5,yv*-.5],n.updateProjectionMatrix()),[e,t,r]},VD=(n,e,t)=>n+(e-n)*t;xt(()=>{const n=tt()===$s?$s:Kte(),e=Rp(ef()),t=e.userData.transition;if(!n||!t||n===e){Cw(e);return}Cw($s);const r=n.getWorldPosition(new B),i=n.getWorldQuaternion(new $n);$s.zoom=n.zoom,$s.fov=n.fov,lM($s);let s=0;const o=typeof t=="number"?t:1/0,a=Wn(()=>{const u=e.getWorldPosition(new B),c=e.getWorldQuaternion(new $n);$s.position.lerpVectors(r,u,s),$s.quaternion.slerpQuaternions(i,c,s),$s.zoom=VD(n.zoom,e.zoom,s),$s.fov=VD(n.fov,e.fov,s),$s.updateProjectionMatrix(),s=Math.min((1-s)*.1,o)+s,!(s<.999)&&(Cw(e),lM(e),a.cancel())});return()=>{a.cancel()}},[ef]);const[GE,Vl]=Ie([]),GD=vf(GE,Vl),Jte=yf(GE,Vl),jD=kK(GE,Vl),Qte=new WeakSet,[pae,YO]=Ie(!1),[$te,Us]=Ie(void 0),ly=n=>{!YO()&&$te(n)},[ene,Hp]=Or(),Aw=vs(ene,0,"trailing"),go=new Set;class tne extends PN{constructor(t){super();j(this,"outerObject3d");j(this,"parent");j(this,"children");this.outerObject3d=t,t.userData.manager=this,go.add(this),Aw()}get uuid(){return this.outerObject3d.uuid}_append(t){var r,i,s;go.delete(t),Aw(),(i=(r=t.parent)==null?void 0:r.children)==null||i.delete(t),t.parent=this,((s=this.children)!=null?s:this.children=new Set).add(t)}append(t){this._append(t),this.outerObject3d.add(t.outerObject3d)}attach(t){this._append(t),this.outerObject3d.attach(t.outerObject3d)}dispose(){var t,r,i;if(this.done)return this;if(super.dispose(),go.delete(this),Aw(),(r=(t=this.parent)==null?void 0:t.children)==null||r.delete(this),this.parent=void 0,(i=this.outerObject3d.parent)==null||i.remove(this.outerObject3d),this.children)for(const s of this.children)s.dispose();return this}}const[jE,Wp]=Ie([]),nne=vf(jE,Wp),rne=yf(jE,Wp),ine=new Set,gx=n=>{for(const e of n)ine.add(e)},Tf={onLoop:Function,proxy:Object};gx(["proxy"]);const Cf={onLoop:void 0,proxy:void 0},sne={...Tf,texture:String},one={...Cf,texture:void 0},[mae,ZO]=Ie(!1);var ane=!!window.chrome;const[lne,Vp]=Ie("#000000"),[une,uM]=Ie(!1),JO=()=>{const n=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(n)?!0:!!/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(n)},[cne,XD]=Ie(JO());window.addEventListener("resize",vs(()=>cne(JO()),100,"trailing"));const[dne,er]=Ie(void 0);xt(()=>{const n=new dn({powerPreference:"high-performance",alpha:Vp()==="transparent",logarithmicDepthBuffer:ane&&!XD()?uM():!1,antialias:!0});return dne(n),()=>{n.dispose()}},[Vp,uM,XD]);let XE=ZO();ZO(n=>XE=n);const fne=(n,e,t)=>{let r=0;const i=setInterval(()=>{document.hidden||XE||(t(),e!==-1&&++r>=e&&clearInterval(i))},n);return new un(()=>clearInterval(i))};let qD=0;const cM=new Set,hne=new BE;er(n=>{n==null||n.setAnimationLoop(()=>{const e=1/hne.getDelta();if(!(XE||++qD<Math.round(e/60))){qD=0;for(const t of cM)t()}})});const _v=n=>(cM.add(n),new un(()=>cM.delete(n)));class Ga extends tne{constructor(){super(...arguments);j(this,"_proxy");j(this,"handles");j(this,"_onLoop")}get proxy(){return this._proxy}set proxy(t){this._proxy!==t&&(this._proxy&&(this._proxy.__target=void 0),this._proxy=t,t&&(t.__target=this))}timer(t,r,i){return this.watch(fne(t,r,i))}beforeRender(t){return this.watch(Wn(t))}queueMicrotask(t){queueMicrotask(()=>!this.done&&t())}cancellable(t){return this.watch(new un(t))}createEffect(t,r){return this.watch(xt(t,r))}cancelHandle(t,r){var o,a;const i=(o=this.handles)!=null?o:this.handles=new Map;if((a=i.get(t))==null||a.cancel(),!r)return;const s=r();return i.set(t,s),s}dispose(){if(this.done)return this;if(super.dispose(),this.handles)for(const t of this.handles.values())t.cancel();return this}get onLoop(){return this._onLoop}set onLoop(t){this._onLoop=t,this.cancelHandle("onLoop",t&&(()=>Wn(t)))}}class t0 extends Ga{constructor(){super(new Vr);j(this,"_texture");nne(this)}dispose(){return this.done?this:(super.dispose(),rne(this),this)}get texture(){return this._texture}set texture(t){this._texture=t,jE([...Wp()])}}j(t0,"componentName","environment"),j(t0,"defaults",one),j(t0,"schema",sne);const[QO,qE]=Ie(0),$O=()=>QO(qE()+1),uy=()=>QO(qE()-1),eB=[0];var pne=eB;const tB=n=>eB[0]+=n.loaded;class mne extends xte{constructor(e){super(e),this.type=No}parse(e){const a=function(_,S){switch(_){case 1:console.error("THREE.RGBELoader Read Error: "+(S||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(S||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(S||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(S||""))}return-1},h=`
`,p=function(_,S,M){S=S||1024;let A=_.pos,T=-1,R=0,D="",O=String.fromCharCode.apply(null,new Uint16Array(_.subarray(A,A+128)));for(;0>(T=O.indexOf(h))&&R<S&&A<_.byteLength;)D+=O,R+=O.length,A+=128,O+=String.fromCharCode.apply(null,new Uint16Array(_.subarray(A,A+128)));return-1<T?(M!==!1&&(_.pos+=R+T+1),D+O.slice(0,T)):!1},m=function(_){const S=/^#\?(\S+)/,M=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,C=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,A=/^\s*FORMAT=(\S+)\s*$/,T=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,R={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let D,O;if(_.pos>=_.byteLength||!(D=p(_)))return a(1,"no header found");if(!(O=D.match(S)))return a(3,"bad initial token");for(R.valid|=1,R.programtype=O[1],R.string+=D+`
`;D=p(_),D!==!1;){if(R.string+=D+`
`,D.charAt(0)==="#"){R.comments+=D+`
`;continue}if((O=D.match(M))&&(R.gamma=parseFloat(O[1])),(O=D.match(C))&&(R.exposure=parseFloat(O[1])),(O=D.match(A))&&(R.valid|=2,R.format=O[1]),(O=D.match(T))&&(R.valid|=4,R.height=parseInt(O[1],10),R.width=parseInt(O[2],10)),R.valid&2&&R.valid&4)break}return R.valid&2?R.valid&4?R:a(3,"missing image size specifier"):a(3,"missing format specifier")},v=function(_,S,M){const C=S;if(C<8||C>32767||_[0]!==2||_[1]!==2||_[2]&128)return new Uint8Array(_);if(C!==(_[2]<<8|_[3]))return a(3,"wrong scanline width");const A=new Uint8Array(4*S*M);if(!A.length)return a(4,"unable to allocate buffer space");let T=0,R=0;const D=4*C,O=new Uint8Array(4),Y=new Uint8Array(D);let ie=M;for(;ie>0&&R<_.byteLength;){if(R+4>_.byteLength)return a(1);if(O[0]=_[R++],O[1]=_[R++],O[2]=_[R++],O[3]=_[R++],O[0]!=2||O[1]!=2||(O[2]<<8|O[3])!=C)return a(3,"bad rgbe scanline format");let U=0,G;for(;U<D&&R<_.byteLength;){G=_[R++];const te=G>128;if(te&&(G-=128),G===0||U+G>D)return a(3,"bad scanline data");if(te){const V=_[R++];for(let K=0;K<G;K++)Y[U++]=V}else Y.set(_.subarray(R,R+G),U),U+=G,R+=G}const Z=C;for(let te=0;te<Z;te++){let V=0;A[T]=Y[te+V],V+=C,A[T+1]=Y[te+V],V+=C,A[T+2]=Y[te+V],V+=C,A[T+3]=Y[te+V],T+=4}ie--}return A},y=function(_,S,M,C){const A=_[S+3],T=Math.pow(2,A-128)/255;M[C+0]=_[S+0]*T,M[C+1]=_[S+1]*T,M[C+2]=_[S+2]*T,M[C+3]=1},x=function(_,S,M,C){const A=_[S+3],T=Math.pow(2,A-128)/255;M[C+0]=gv.toHalfFloat(Math.min(_[S+0]*T,65504)),M[C+1]=gv.toHalfFloat(Math.min(_[S+1]*T,65504)),M[C+2]=gv.toHalfFloat(Math.min(_[S+2]*T,65504)),M[C+3]=gv.toHalfFloat(1)},w=new Uint8Array(e);w.pos=0;const b=m(w);if(b!==-1){const _=b.width,S=b.height,M=v(w.subarray(w.pos),_,S);if(M!==-1){let C,A,T,R;switch(this.type){case co:R=M.length/4;const D=new Float32Array(R*4);for(let Y=0;Y<R;Y++)y(M,Y*4,D,Y*4);C=D,T=co;break;case No:R=M.length/4;const O=new Uint16Array(R*4);for(let Y=0;Y<R;Y++)x(M,Y*4,O,Y*4);C=O,T=No;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:_,height:S,data:C,header:b.string,gamma:b.gamma,exposure:b.exposure,format:A,type:T}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case co:o.encoding=jo,o.minFilter=Yn,o.magFilter=Yn,o.generateMipmaps=!1,o.flipY=!0;break;case No:o.encoding=jo,o.minFilter=Yn,o.magFilter=Yn,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const gne=new Map,vne=new AO,yne=new mne,Rw=new DN;var ni=(n,e)=>(e&&Rw.once(n,()=>queueMicrotask(e)),Vo(gne,n,()=>($O(),(n.toLowerCase().toLowerCase().endsWith(".hdr")?yne:vne).load(n,i=>{i.wrapS=i.wrapT=Ip,Rw.setState(n),uy()},tB,()=>{Rw.setState(n),uy()}))));const[xne,Gp]=Ie("default"),[_ne,cy]=Ie(1);var nt=new xE;const n0=new t0;go.delete(n0);xt(()=>{var r;const n=(r=Rp(Wp()))==null?void 0:r.texture;if(!n)return;let e=!0;const t=ni(n,()=>e&&(nt.environment=t));return t.mapping=Dp,()=>{e=!1,nt.environment=null}},[Wp]);xt(()=>{const n=Gp();if(!n)return;if(typeof n=="string"&&n!=="default")return n==="studio"?n0.texture="https://unpkg.com/lingo3d-textures@1.0.0/assets/studio.jpg":n0.texture=n,()=>{n0.texture=void 0};const e=new RO(16777215,6710886);nt.add(e);const t=new NO(16777215,.5);t.position.set(0,1,1),nt.add(t);const r=cy(i=>{e.intensity=i,t.intensity=i*.5});return()=>{e.dispose(),nt.remove(e),t.dispose(),nt.remove(t),r.cancel()}},[Gp]);const[bne,dM]=Ie(void 0);xt(()=>{const n=dM();if(!!n)return nt.fog=new sx(n,0,100),()=>{nt.fog=null}},[dM]);const wne=new Map,Sne=new CO;var Mne=n=>Vo(wne,n.join(","),()=>($O(),Sne.load(n,uy,tB,uy)));const[Ene,fM]=Ie(void 0),[KE,jp]=Ie([]),Tne=vf(KE,jp),Cne=yf(KE,jp);xt(()=>{var r;const n=fM(),e=Vp(),t=(r=Rp(jp()))==null?void 0:r.texture;if(t)if(Array.isArray(t))nt.background=Mne(t);else{let i=!0;const s=ni(t,()=>i&&(nt.background=s));return s.mapping=Dp,()=>{i=!1}}else n?nt.background=ni(n):e?e==="transparent"?nt.background=null:nt.background=new De(e):nt.background=new De("black")},[Vp,fM,jp]);xt(()=>{var i;const n=Us();if(!n||tt()!==Er)return;const e=new GO((i=n.object3d)!=null?i:n.outerObject3d),t=requestAnimationFrame(()=>nt.add(e)),r=Wn(()=>e.update());return()=>{cancelAnimationFrame(t),nt.remove(e),r.cancel()}},[Us,tt]);xt(()=>{const n=Vl();if(!n.length||tt()!==Er)return;const e=[];for(const r of n){const i=new GO(r.outerObject3d);nt.add(i),e.push(i)}const t=Wn(()=>{for(const r of e)r.update()});return()=>{for(const r of e)nt.remove(r);t.cancel()}},[Vl,tt]);class nB{constructor(e,t){this.x=e,this.y=t}}class zu{constructor(e,t,r){this.x=e,this.y=t,this.z=r}}const Ir=180/Math.PI,xn=Math.PI/180,YE=(n,e,t,r,i,s)=>Math.sqrt((n-r)**2+(e-i)**2+(t-s)**2),Ane=(n,e,t)=>{const r=t*xn,i=n.x-e.x,s=n.y-e.y,o=i*Math.cos(r)-s*Math.sin(r),a=i*Math.sin(r)+s*Math.cos(r);return new nB(o+e.x,a+e.y)},Rne=(n,e,t,r)=>{const i=t*=xn;return new nB(n+r*Math.cos(i),e+r*Math.sin(i))},Kt=new B,Ol=new B,rB=new B,yl=new $n,Pne=new $n,hM=new B(ds,ds,ds);Object.freeze(hM);const iB=new B(Ia,Ia,Ia);Object.freeze(iB);const Ea=new Gi,sB=new Ha,Wr=new $l(0,0,0,"YXZ"),KD=new UO,oB=new Fa({wireframe:!0}),aB=new lm,Dne=new Ye,dy=n=>new zu(n.x*ln,n.y*ln,n.z*ln),ZE=n=>new B(n.x*yt,n.y*yt,n.z*yt),bv=new WeakMap;var mm=n=>{if(bv.has(n))return bv.get(n);const e=n instanceof _E?n.getWorldPosition(Kt).clone():Ea.setFromObject(n).getCenter(Kt).clone();return bv.set(n,e),setTimeout(()=>bv.delete(n)),e};const[Ine,r0]=Ie(1),[Lne,Xp]=Ie("balanced"),[kne,Ju]=Ie(1),[Nne,pM]=Ie(!1),[gae,mM]=Ie(void 0),fy={createButton(n,e){e&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');const t=document.createElement("button");function r(){let u=null;async function c(h){h.addEventListener("end",f),await n.xr.setSession(h),t.textContent="EXIT VR",u=h}function f(){u.removeEventListener("end",f),t.textContent="ENTER VR",u=null}t.style.display="",t.style.cursor="pointer",t.style.left="calc(50% - 50px)",t.style.width="100px",t.textContent="ENTER VR",t.onmouseenter=function(){t.style.opacity="1.0"},t.onmouseleave=function(){t.style.opacity="0.5"},t.onclick=function(){if(u===null){const h={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]};navigator.xr.requestSession("immersive-vr",h).then(c)}else u.end()}}function i(){t.style.display="",t.style.cursor="auto",t.style.left="calc(50% - 75px)",t.style.width="150px",t.onmouseenter=null,t.onmouseleave=null,t.onclick=null}function s(){i(),t.textContent="VR NOT SUPPORTED"}function o(u){i(),console.warn("Exception when trying to call xr.isSessionSupported",u),t.textContent="VR NOT ALLOWED"}function a(u){u.style.position="absolute",u.style.bottom="20px",u.style.padding="12px 6px",u.style.border="1px solid #fff",u.style.borderRadius="4px",u.style.background="rgba(0,0,0,0.1)",u.style.color="#fff",u.style.font="normal 13px sans-serif",u.style.textAlign="center",u.style.opacity="0.5",u.style.outline="none",u.style.zIndex="999"}if("xr"in navigator)return t.id="VRButton",t.style.display="none",a(t),navigator.xr.isSessionSupported("immersive-vr").then(function(u){u?r():s(),u&&fy.xrSessionIsGranted&&t.click()}).catch(o),t;{const u=document.createElement("a");return window.isSecureContext===!1?(u.href=document.location.href.replace(/^http:/,"https:"),u.innerHTML="WEBXR NEEDS HTTPS"):(u.href="https://immersiveweb.dev/",u.innerHTML="WEBXR NOT AVAILABLE"),u.style.left="calc(50% - 90px)",u.style.width="180px",u.style.textDecoration="none",a(u),u}},xrSessionIsGranted:!1,registerSessionGrantedListener(){if("xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{fy.xrSessionIsGranted=!0})}}};fy.registerSessionGrantedListener();const[One,gM]=Ie(!1),[Bne,Fne]=Or();vs(Bne,0,"trailing");const Do=document.createElement("div");Object.assign(Do.style,{position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%"});const lr=document.createElement("div");Object.assign(lr.style,{position:"absolute",left:"0px",top:"0px",width:"100%"});Do.appendChild(lr);mM(n=>lr.style.height=n?"50%":"100%");const lB=[lr.getBoundingClientRect()],Pw=n=>{LN(()=>{const e=()=>{lB[0]=lr.getBoundingClientRect(),Zte(n===document.body?[window.innerWidth,window.innerHeight]:[n.clientWidth,n.clientHeight])};e();const t=vs(e,100,"both");window.addEventListener("resize",t);const r=Fne(t);return()=>{window.removeEventListener("resize",e),r.cancel()}},[])};xt(()=>{const n=gM();if(!!n){if(typeof n=="string"){const e=document.querySelector(n);return e?(e.prepend(Do),Pw(e),()=>{e.removeChild(Do)}):void 0}return n===!0?(document.body.prepend(Do),Pw(document.body),()=>{document.body.removeChild(Do)}):(n.prepend(Do),Pw(n),()=>{n.removeChild(Do)})}},[gM]);xt(()=>{const n=er();if(!n)return;const e=n.domElement;return Do.prepend(e),Object.assign(e.style,{position:"absolute",left:"0px",top:"0px"}),()=>{Do.removeChild(e)}},[er]);xt(()=>{const n=er();if(!n)return;const[e,t]=wi();n.setSize(e,t),n.setPixelRatio(Ju())},[er,wi,Ju]);xt(()=>{const n=er();!n||(n.shadowMap.enabled=Xp()!=="speed")},[er,Xp]);xt(()=>{const n=er();!n||(n.physicallyCorrectLights=pM())},[er,pM]);xt(()=>{const n=er();if(!n)return;const e=Gp(),t=typeof e=="string"&&e!=="default"?r0()*cy()*(e==="studio"?2:1):r0();n.toneMapping=t!==1?FN:Uo,n.toneMappingExposure=t},[r0,er,Gp,cy]);xt(()=>{if(tf()!=="webxr")return;const n=er();if(!n)return;n.xr.enabled=!0;const e=fy.createButton(n);return lr.appendChild(e),e.ontouchstart=()=>{var t;return(t=e.onclick)==null?void 0:t.call(e,new MouseEvent("click"))},()=>{n.xr.enabled=!1,lr.removeChild(e)}},[tf,er]);class vM{constructor(e=0,t=0,r=0,i=0,s=0,o=0,a=0){j(this,"clientX");j(this,"clientY");j(this,"x");j(this,"y");j(this,"z");j(this,"xNorm");j(this,"yNorm");this.clientX=e,this.clientY=t,this.x=r,this.y=i,this.z=s,this.xNorm=o,this.yNorm=a}}class zne extends vM{constructor(t,r,i,s,o,a,u,c,f){super(i,s,o,t,r,a,u);j(this,"point");j(this,"distance");this.point=c,this.distance=f}}const Une={...Tf,onClick:Function,onRightClick:Function,onMouseMove:Function,onMouseDown:Function,onMouseUp:Function,onMousePress:Function},Hne={...Cf,onClick:void 0,onRightClick:void 0,onMouseMove:void 0,onMouseDown:void 0,onMouseUp:void 0,onMousePress:void 0},[vae,hy]=Ie(!0),[yae,Wne]=Ie("mouse");var Vne=(n,e)=>{const t=lB[0],r=n.clientX-t.x,i=n.clientY-t.y;if(Wne()==="camera"&&!e)return new vM(r,i);const s=r/t.width*2-1,o=-(i/t.height)*2+1,a=tt();Kt.set(s,o,.5),Kt.unproject(a),Kt.sub(a.position).normalize();const{x:u,y:c,z:f}=a.position.clone().add(Kt.multiplyScalar(5));return new vM(r,i,u,c,f,s,o)};const[xae,py]=Ie(!1),[Gne,nf]=Ie(!1);xt(()=>{Gne(py()&&tt()===Er)},[py,tt]);const si=new DN;let yM=0,xM=0,_M=0,bM=!1;lr.addEventListener("contextmenu",n=>{n.preventDefault(),bM=!0});si.on("down",n=>{yM=Date.now(),xM=n.clientX,_M=n.clientY});si.on("up",n=>{const e=Date.now(),t=e-yM,r=Math.abs(n.clientX-xM),i=Math.abs(n.clientY-_M);yM=e,xM=n.clientX,_M=n.clientY,t<300&&r<5&&i<5&&si.emit(bM?"rightClick":"click",n),bM=!1});const JE=RN(Vne,0,"leading");lr.addEventListener("pointermove",n=>{si.emit("move",JE(n))});let wM=!1;lr.addEventListener("pointerdown",n=>{wM=!0;const e=JE(n);si.emit("down",e),si.emit("move",e)});const QE=n=>{wM&&si.emit("up",JE(n)),wM=!1};lr.addEventListener("pointerup",QE);lr.addEventListener("pointercancel",QE);lr.addEventListener("pointerleave",QE);class i0 extends Ga{constructor(){super(new Vr);j(this,"onClick");j(this,"onRightClick");j(this,"onMouseMove");j(this,"onMouseDown");j(this,"onMouseUp");j(this,"onMousePress");let t={clientX:0,clientY:0};const[r,i]=Ie(!1);this.createEffect(()=>{const s=this.onMousePress;if(!i()||!s)return;const o=Wn(()=>s(t));return()=>{o.cancel()}},[i]),this.createEffect(()=>{if(nf()&&hy())return;const s=si.on("move",f=>{var h;(h=this.onMouseMove)==null||h.call(this,f),t=f}),o=si.on("click",f=>{var h;(h=this.onClick)==null||h.call(this,f),t=f}),a=si.on("rightClick",f=>{var h;(h=this.onRightClick)==null||h.call(this,f),t=f}),u=si.on("down",f=>{var h;(h=this.onMouseDown)==null||h.call(this,f),t=f,r(!0)}),c=si.on("up",f=>{var h;(h=this.onMouseUp)==null||h.call(this,f),t=f,r(!1)});return()=>{s.cancel(),o.cancel(),a.cancel(),u.cancel(),c.cancel()}},[nf,hy])}}j(i0,"componentName","mouse"),j(i0,"defaults",Hne),j(i0,"schema",Une);const jne=new i0;go.delete(jne);const[_ae,YD]=Ie(!1),[Xne,$E]=Or(),Oo=vs((n,e)=>!YO()&&Xne({target:n,rightClick:e}),0,"trailing");tt(()=>Oo());xt(()=>{const n=Us();if(!n)return;const e=Hp(()=>{!n.outerObject3d.parent&&Oo()});return()=>{e.cancel()}},[Us]);const[qne,Gl]=Ie(!1),[bae,Kne]=Or(),[wae,Yne]=Ie([new Set]),ZD=new Wte,SM=new Set,Dw=vs(()=>{const[n]=Yne();SM.clear(),nt.traverse(e=>{const{manager:t}=e.userData;t&&!n.has(t)&&SM.add(Af(t))})},0,"trailing"),Zne=(n,e,t)=>(ZD.setFromCamera({x:n,y:e},tt()),ZD.intersectObjects([...t])[0]),Mu=(n,e,t)=>si.on(n,r=>{const i=Zne(r.xNorm,r.yNorm,e);if(!i)return;const s=dy(i.point),o=i.distance*ln;t(i.object.userData.manager,new zne(r.clientX,r.clientY,r.x,r.y,r.z,r.xNorm,r.yNorm,s,o))}),uB=new Set,cB=new Set,dB=new Set,fB=new Set,hB=new Set,pB=new Set,JD=()=>{const n=new un;n.watch(Mu("click",uB,(r,i)=>{var s;return(s=r.onClick)==null?void 0:s.call(r,i)})),n.watch(Mu("down",cB,(r,i)=>{var s;return(s=r.onMouseDown)==null?void 0:s.call(r,i)})),n.watch(Mu("up",dB,(r,i)=>{var s;return(s=r.onMouseUp)==null?void 0:s.call(r,i)}));let e=new Set,t=new Set;return n.watch(Mu("move",fB,(r,i)=>{e.add(r),r.outerObject3d.userData.eMove=i})),n.watch(Mu("move",hB,(r,i)=>{e.add(r),r.outerObject3d.userData.eMove=i})),n.watch(Mu("move",pB,(r,i)=>{e.add(r),r.outerObject3d.userData.eMove=i})),n.watch(si.on("move",()=>{var r,i,s;for(const o of e)t.has(o)||(r=o.onMouseOver)==null||r.call(o,o.outerObject3d.userData.eMove),(i=o.onMouseMove)==null||i.call(o,o.outerObject3d.userData.eMove);for(const o of t)e.has(o)||(s=o.onMouseOut)==null||s.call(o,o.outerObject3d.userData.eMove);t=e,e=new Set})),n};xt(()=>{const n=py()&&tt()===Er,e=YD(),t=NK(!0);if(LN(()=>{!e&&(t.current=!0)},[e]),n&&!Gl()){const i=new un;Dw(),i.watch(Hp(Dw)),i.watch(Kne(()=>(Dw(),Oo()))),i.watch(si.on("click",()=>Oo()));let s=!1;return i.watch(si.on("rightClick",()=>{s=!0,queueMicrotask(()=>{!s||(s=!1,Oo(void 0,!0))})})),i.watch(Mu(["click","rightClick"],SM,o=>{Oo(o,s),s=!1})),i.watch($E(({target:o,rightClick:a})=>{if(e){if(!RM(o)||a)return;if(t.current){const u=Us();RM(u)&&GD(u)}t.current=!1,Vl().includes(o)?Jte(o):GD(o);return}jD(),ly(a?o:o===Us()?void 0:o)})),!e&&!hy()&&i.watch(JD()),()=>{i.cancel()}}if(n)return;jD(),ly(void 0);const r=JD();return()=>{r.cancel()}},[py,hy,Gl,tt,YD]);const Vt={c:null,u:[new B,new B,new B],e:[]},Zt={c:null,u:[new B,new B,new B],e:[]},On=[[],[],[]],Mt=[[],[],[]],Mn=[],vu=new B,yu=new B,xu=new B,br=new B,QD=new B,$D=new B,eo=new Jn,eI=new Gi,wv=new Ye,tI=new Ye,nI=new Ha;class eT{constructor(e=new B,t=new B,r=new Jn){this.center=e,this.halfSize=t,this.rotation=r}set(e,t,r){return this.center=e,this.halfSize=t,this.rotation=r,this}copy(e){return this.center.copy(e.center),this.halfSize.copy(e.halfSize),this.rotation.copy(e.rotation),this}clone(){return new this.constructor().copy(this)}getSize(e){return e.copy(this.halfSize).multiplyScalar(2)}clampPoint(e,t){const r=this.halfSize;br.subVectors(e,this.center),this.rotation.extractBasis(vu,yu,xu),t.copy(this.center);const i=qb.clamp(br.dot(vu),-r.x,r.x);t.add(vu.multiplyScalar(i));const s=qb.clamp(br.dot(yu),-r.y,r.y);t.add(yu.multiplyScalar(s));const o=qb.clamp(br.dot(xu),-r.z,r.z);return t.add(xu.multiplyScalar(o)),t}containsPoint(e){return br.subVectors(e,this.center),this.rotation.extractBasis(vu,yu,xu),Math.abs(br.dot(vu))<=this.halfSize.x&&Math.abs(br.dot(yu))<=this.halfSize.y&&Math.abs(br.dot(xu))<=this.halfSize.z}intersectsBox3(e){return this.intersectsOBB(Jne.fromBox3(e))}intersectsSphere(e){return this.clampPoint(e.center,$D),$D.distanceToSquared(e.center)<=e.radius*e.radius}intersectsOBB(e,t=Number.EPSILON){Vt.c=this.center,Vt.e[0]=this.halfSize.x,Vt.e[1]=this.halfSize.y,Vt.e[2]=this.halfSize.z,this.rotation.extractBasis(Vt.u[0],Vt.u[1],Vt.u[2]),Zt.c=e.center,Zt.e[0]=e.halfSize.x,Zt.e[1]=e.halfSize.y,Zt.e[2]=e.halfSize.z,e.rotation.extractBasis(Zt.u[0],Zt.u[1],Zt.u[2]);for(let s=0;s<3;s++)for(let o=0;o<3;o++)On[s][o]=Vt.u[s].dot(Zt.u[o]);br.subVectors(Zt.c,Vt.c),Mn[0]=br.dot(Vt.u[0]),Mn[1]=br.dot(Vt.u[1]),Mn[2]=br.dot(Vt.u[2]);for(let s=0;s<3;s++)for(let o=0;o<3;o++)Mt[s][o]=Math.abs(On[s][o])+t;let r,i;for(let s=0;s<3;s++)if(r=Vt.e[s],i=Zt.e[0]*Mt[s][0]+Zt.e[1]*Mt[s][1]+Zt.e[2]*Mt[s][2],Math.abs(Mn[s])>r+i)return!1;for(let s=0;s<3;s++)if(r=Vt.e[0]*Mt[0][s]+Vt.e[1]*Mt[1][s]+Vt.e[2]*Mt[2][s],i=Zt.e[s],Math.abs(Mn[0]*On[0][s]+Mn[1]*On[1][s]+Mn[2]*On[2][s])>r+i)return!1;return r=Vt.e[1]*Mt[2][0]+Vt.e[2]*Mt[1][0],i=Zt.e[1]*Mt[0][2]+Zt.e[2]*Mt[0][1],!(Math.abs(Mn[2]*On[1][0]-Mn[1]*On[2][0])>r+i||(r=Vt.e[1]*Mt[2][1]+Vt.e[2]*Mt[1][1],i=Zt.e[0]*Mt[0][2]+Zt.e[2]*Mt[0][0],Math.abs(Mn[2]*On[1][1]-Mn[1]*On[2][1])>r+i)||(r=Vt.e[1]*Mt[2][2]+Vt.e[2]*Mt[1][2],i=Zt.e[0]*Mt[0][1]+Zt.e[1]*Mt[0][0],Math.abs(Mn[2]*On[1][2]-Mn[1]*On[2][2])>r+i)||(r=Vt.e[0]*Mt[2][0]+Vt.e[2]*Mt[0][0],i=Zt.e[1]*Mt[1][2]+Zt.e[2]*Mt[1][1],Math.abs(Mn[0]*On[2][0]-Mn[2]*On[0][0])>r+i)||(r=Vt.e[0]*Mt[2][1]+Vt.e[2]*Mt[0][1],i=Zt.e[0]*Mt[1][2]+Zt.e[2]*Mt[1][0],Math.abs(Mn[0]*On[2][1]-Mn[2]*On[0][1])>r+i)||(r=Vt.e[0]*Mt[2][2]+Vt.e[2]*Mt[0][2],i=Zt.e[0]*Mt[1][1]+Zt.e[1]*Mt[1][0],Math.abs(Mn[0]*On[2][2]-Mn[2]*On[0][2])>r+i)||(r=Vt.e[0]*Mt[1][0]+Vt.e[1]*Mt[0][0],i=Zt.e[1]*Mt[2][2]+Zt.e[2]*Mt[2][1],Math.abs(Mn[1]*On[0][0]-Mn[0]*On[1][0])>r+i)||(r=Vt.e[0]*Mt[1][1]+Vt.e[1]*Mt[0][1],i=Zt.e[0]*Mt[2][2]+Zt.e[2]*Mt[2][0],Math.abs(Mn[1]*On[0][1]-Mn[0]*On[1][1])>r+i)||(r=Vt.e[0]*Mt[1][2]+Vt.e[1]*Mt[0][2],i=Zt.e[0]*Mt[2][1]+Zt.e[1]*Mt[2][0],Math.abs(Mn[1]*On[0][2]-Mn[0]*On[1][2])>r+i))}intersectsPlane(e){this.rotation.extractBasis(vu,yu,xu);const t=this.halfSize.x*Math.abs(e.normal.dot(vu))+this.halfSize.y*Math.abs(e.normal.dot(yu))+this.halfSize.z*Math.abs(e.normal.dot(xu)),r=e.normal.dot(this.center)-e.constant;return Math.abs(r)<=t}intersectRay(e,t){return this.getSize(QD),eI.setFromCenterAndSize(br.set(0,0,0),QD),wv.setFromMatrix3(this.rotation),wv.setPosition(this.center),tI.copy(wv).invert(),nI.copy(e).applyMatrix4(tI),nI.intersectBox(eI,t)?t.applyMatrix4(wv):null}intersectsRay(e){return this.intersectRay(e,br)!==null}fromBox3(e){return e.getCenter(this.center),e.getSize(this.halfSize).multiplyScalar(.5),this.rotation.identity(),this}equals(e){return e.center.equals(this.center)&&e.halfSize.equals(this.halfSize)&&e.rotation.equals(this.rotation)}applyMatrix4(e){const t=e.elements;let r=br.set(t[0],t[1],t[2]).length();const i=br.set(t[4],t[5],t[6]).length(),s=br.set(t[8],t[9],t[10]).length();e.determinant()<0&&(r=-r),eo.setFromMatrix4(e);const a=1/r,u=1/i,c=1/s;return eo.elements[0]*=a,eo.elements[1]*=a,eo.elements[2]*=a,eo.elements[3]*=u,eo.elements[4]*=u,eo.elements[5]*=u,eo.elements[6]*=c,eo.elements[7]*=c,eo.elements[8]*=c,this.rotation.multiply(eo),this.halfSize.x*=r,this.halfSize.y*=i,this.halfSize.z*=s,br.setFromMatrixPosition(e),this.center.add(br),this}}const Jne=new eT,ls={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );
			gl_FragColor.a *= opacity;


		}`};class Yo{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const Qne=new _f(-1,1,1,-1,0,1),tT=new Gt;tT.setAttribute("position",new Rt([-1,3,0,-1,-1,0,3,-1,0],3));tT.setAttribute("uv",new Rt([0,2,0,0,2,0],2));class uc{constructor(e){this._mesh=new Qn(tT,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Qne)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class my extends Yo{constructor(e,t){super(),this.textureID=t!==void 0?t:"tDiffuse",e instanceof Dt?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=pr.clone(e.uniforms),this.material=new Dt({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new uc(this.material)}render(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}class rI extends Yo{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,r){const i=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let o,a;this.inverse?(o=0,a=1):(o=1,a=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),s.buffers.stencil.setFunc(i.ALWAYS,o,4294967295),s.buffers.stencil.setClear(a),s.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(i.EQUAL,1,4294967295),s.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),s.buffers.stencil.setLocked(!0)}}class $ne extends Yo{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class MM{constructor(e,t){if(this.renderer=e,t===void 0){const r=e.getSize(new ae);this._pixelRatio=e.getPixelRatio(),this._width=r.width,this._height=r.height,t=new Ht(this._width*this._pixelRatio,this._height*this._pixelRatio),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],ls===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),my===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new my(ls),this.clock=new BE}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let r=!1;for(let i=0,s=this.passes.length;i<s;i++){const o=this.passes[i];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),o.needsSwap){if(r){const a=this.renderer.getContext(),u=this.renderer.state.buffers.stencil;u.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),u.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}rI!==void 0&&(o instanceof rI?r=!0:o instanceof $ne&&(r=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new ae);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const r=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(r,i),this.renderTarget2.setSize(r,i);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(r,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}new _f(-1,1,1,-1,0,1);const mB=new Gt;mB.setAttribute("position",new Rt([-1,3,0,-1,-1,0,3,-1,0],3));mB.setAttribute("uv",new Rt([0,2,0,0,2,0],2));const[ere,rf]=Ie(void 0);xt(()=>{const n=er();if(!n)return;const e=new MM(n);e.renderToScreen=!1,ere(e)},[er]);xt(()=>{const n=rf();if(!n)return;const[e,t]=wi();n.setSize(e,t),n.setPixelRatio(Ju())},[rf,wi,Ju]);const gB=[!1],vB=n=>{n.userData.bloom=!0,gB[0]=!0},yB=n=>{n.userData.bloom=!1};let EM;const xB=n=>{for(const e of n){if(e.userData.bloom){e.renderOrder=1;continue}!e.visible||(xB(e.children),e.material&&(e.material.colorWrite=!1),e.renderOrder=0)}},tre=()=>{xB(nt.children),nt.background&&(EM=nt.background,nt.background=null)},nre=n=>n.material&&(n.material.colorWrite=!0),rre=()=>{nt.traverse(nre),EM&&(nt.background=EM)};var ire=()=>{var n;tre(),(n=rf())==null||n.render(),rre()};const Sv=new WeakMap;var iI=n=>{if(Sv.has(n))return Sv.get(n);const e=mm(n),t=tt();e.project(t);const r=(e.x*.5+.5)*lr.clientWidth,i=(e.y*-.5+.5)*lr.clientHeight,s={x:r,y:i};return Sv.set(n,s),setTimeout(()=>Sv.delete(n)),s};const to={defines:{MAX_STEP:0,PERSPECTIVE_CAMERA:!0,DISTANCE_ATTENUATION:!0,FRESNEL:!0,INFINITE_THICK:!1,SELECTIVE:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new ae},cameraProjectionMatrix:{value:new Ye},cameraInverseProjectionMatrix:{value:new Ye},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},thickness:{value:.018}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float thickness;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef PERSPECTIVE_CAMERA
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef SELECTIVE
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef PERSPECTIVE_CAMERA
				vec3 viewIncidentDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidentDir,viewNormal);
			#else
				vec3 viewIncidentDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidentDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidentDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef PERSPECTIVE_CAMERA
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<float(MAX_STEP);i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef PERSPECTIVE_CAMERA
					// https://comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
				#endif

				// if(viewReflectRayZ>vZ) continue; // will cause "npm run make-screenshot webgl_postprocessing_ssr" high probability hang.
				// https://github.com/mrdoob/three.js/pull/21539#issuecomment-821061164
				if(viewReflectRayZ<=vZ){

					bool hit;
					#ifdef INFINITE_THICK
						hit=true;
					#else
						float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

						float minThickness;
						vec2 xyNeighbor=xy;
						xyNeighbor.x+=1.;
						vec2 uvNeighbor=xyNeighbor/resolution;
						vec3 vPNeighbor=getViewPosition(uvNeighbor,d,cW);
						minThickness=vPNeighbor.x-vP.x;
						minThickness*=3.;
						float tk=max(minThickness,thickness);

						hit=away<=tk;
					#endif

					if(hit){
						vec3 vN=getViewNormal( uv );
						if(dot(viewReflectDir,vN)>=0.) continue;
						float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
						if(distance>maxDistance) break;
						float op=opacity;
						#ifdef DISTANCE_ATTENUATION
							float ratio=1.-(distance/maxDistance);
							float attenuation=ratio*ratio;
							op=opacity*attenuation;
						#endif
						#ifdef FRESNEL
							float fresnelCoe=(dot(viewIncidentDir,viewReflectDir)+1.)/2.;
							op*=fresnelCoe;
						#endif
						vec4 reflectColor=texture2D(tDiffuse,uv);
						gl_FragColor.xyz=reflectColor.xyz;
						gl_FragColor.a=op;
						break;
					}
				}
			}
		}
	`},Mv={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`

		uniform sampler2D tDepth;

		uniform float cameraNear;
		uniform float cameraFar;

		varying vec2 vUv;

		#include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

		void main() {

			float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
			gl_FragColor = vec4( vec3( d ), 1.0 );

		}

	`},fl={uniforms:{tDiffuse:{value:null},resolution:{value:new ae},opacity:{value:.5}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec2 resolution;
		varying vec2 vUv;
		void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

			vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`};class wa extends Yo{constructor({renderer:e,scene:t,camera:r,width:i,height:s,selects:o,bouncing:a=!1,groundReflector:u}){super(),this.width=i!==void 0?i:512,this.height=s!==void 0?s:512,this.clear=!0,this.renderer=e,this.scene=t,this.camera=r,this.groundReflector=u,this.opacity=to.uniforms.opacity.value,this.output=0,this.maxDistance=to.uniforms.maxDistance.value,this.thickness=to.uniforms.thickness.value,this.tempColor=new De,this._selects=o,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(f){this._selects!==f&&(this._selects=f,Array.isArray(f)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=a,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(f){this._bouncing!==f&&(this._bouncing=f,f?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=to.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(f){this._distanceAttenuation!==f&&(this._distanceAttenuation=f,this.ssrMaterial.defines.DISTANCE_ATTENUATION=f,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=to.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(f){this._fresnel!==f&&(this._fresnel=f,this.ssrMaterial.defines.FRESNEL=f,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=to.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(f){this._infiniteThick!==f&&(this._infiniteThick=f,this.ssrMaterial.defines.INFINITE_THICK=f,this.ssrMaterial.needsUpdate=!0)}});const c=new ix;c.type=Yu,c.minFilter=Ft,c.magFilter=Ft,this.beautyRenderTarget=new Ht(this.width,this.height,{minFilter:Ft,magFilter:Ft,depthTexture:c,depthBuffer:!0}),this.prevRenderTarget=new Ht(this.width,this.height,{minFilter:Ft,magFilter:Ft}),this.normalRenderTarget=new Ht(this.width,this.height,{minFilter:Ft,magFilter:Ft,type:No}),this.metalnessRenderTarget=new Ht(this.width,this.height,{minFilter:Ft,magFilter:Ft}),this.ssrRenderTarget=new Ht(this.width,this.height,{minFilter:Ft,magFilter:Ft}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),to===void 0&&console.error("THREE.SSRPass: The pass relies on SSRShader."),this.ssrMaterial=new Dt({defines:Object.assign({},to.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:pr.clone(to.uniforms),vertexShader:to.vertexShader,fragmentShader:to.fragmentShader,blending:$t}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new hx,this.normalMaterial.blending=$t,this.metalnessOnMaterial=new Fa({color:"white"}),this.metalnessOffMaterial=new Fa({color:"black"}),this.blurMaterial=new Dt({defines:Object.assign({},fl.defines),uniforms:pr.clone(fl.uniforms),vertexShader:fl.vertexShader,fragmentShader:fl.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new Dt({defines:Object.assign({},fl.defines),uniforms:pr.clone(fl.uniforms),vertexShader:fl.vertexShader,fragmentShader:fl.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new Dt({defines:Object.assign({},Mv.defines),uniforms:pr.clone(Mv.uniforms),vertexShader:Mv.vertexShader,fragmentShader:Mv.fragmentShader,blending:$t}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new Dt({uniforms:pr.clone(ls.uniforms),vertexShader:ls.vertexShader,fragmentShader:ls.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:$0,blendDst:ey,blendEquation:Lo,blendSrcAlpha:$0,blendDstAlpha:ey,blendEquationAlpha:Lo}),this.fsQuad=new uc(null),this.originalClearColor=new De}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(e,t){switch(e.setRenderTarget(this.beautyRenderTarget),e.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),e.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(e,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(e,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(e,this.blurMaterial,this.blurRenderTarget),this.renderPass(e,this.blurMaterial2,this.blurRenderTarget2)),this.output){case wa.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=$t,this.renderPass(e,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Pa,this.renderPass(e,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=$t,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=$t,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Pa,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t));break;case wa.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=$t,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=$t,this.renderPass(e,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Pa,this.renderPass(e,this.copyMaterial,this.prevRenderTarget));break;case wa.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=$t,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case wa.OUTPUT.Depth:this.renderPass(e,this.depthRenderMaterial,this.renderToScreen?null:t);break;case wa.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=$t,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case wa.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=$t,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(e,t,r,i,s){this.originalClearColor.copy(e.getClearColor(this.tempColor));const o=e.getClearAlpha(this.tempColor),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,t,r,i,s){this.originalClearColor.copy(e.getClearColor(this.tempColor));const o=e.getClearAlpha(this.tempColor),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=t.clearColor||i,s=t.clearAlpha||s,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderMetalness(e,t,r,i,s){this.originalClearColor.copy(e.getClearColor(this.tempColor));const o=e.getClearAlpha(this.tempColor),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=t.clearColor||i,s=t.clearAlpha||s,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.scene.traverseVisible(u=>{u._SSRPassBackupMaterial=u.material,this._selects.includes(u)?u.material=this.metalnessOnMaterial:u.material=this.metalnessOffMaterial}),e.render(this.scene,this.camera),this.scene.traverseVisible(u=>{u.material=u._SSRPassBackupMaterial}),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,t){this.width=e,this.height=t,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(e*e+t*t),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(e,t),this.prevRenderTarget.setSize(e,t),this.ssrRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.metalnessRenderTarget.setSize(e,t),this.blurRenderTarget.setSize(e,t),this.blurRenderTarget2.setSize(e,t),this.ssrMaterial.uniforms.resolution.value.set(e,t),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(e,t),this.blurMaterial2.uniforms.resolution.value.set(e,t)}}wa.OUTPUT={Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7};const _B=[!1],nT=[],bB=n=>{n.userData.ssr||(n.userData.ssr=!0,nT.push(n),_B[0]=!0)},wB=n=>{!n.userData.ssr||(n.userData.ssr=!1,lE(nT,n))},rT=new wa({renderer:void 0,scene:nt,camera:tt(),width:px,height:mx,groundReflector:null,selects:nT});er(n=>n&&(rT.renderer=n));tt(n=>rT.camera=n);class El extends Yo{constructor(e,t,r,i){super(),this.renderScene=t,this.renderCamera=r,this.selectedObjects=i!==void 0?i:[],this.visibleEdgeColor=new De(1,1,1),this.hiddenEdgeColor=new De(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=new Map,this.resolution=e!==void 0?new ae(e.x,e.y):new ae(256,256);const s=Math.round(this.resolution.x/this.downSampleRatio),o=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new Ht(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new wf,this.depthMaterial.side=zl,this.depthMaterial.depthPacking=$y,this.depthMaterial.blending=$t,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=zl,this.prepareMaskMaterial.fragmentShader=f(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new Ht(this.resolution.x,this.resolution.y),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new Ht(s,o),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new Ht(s,o),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new Ht(Math.round(s/2),Math.round(o/2)),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new Ht(s,o),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new Ht(Math.round(s/2),Math.round(o/2)),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;const a=4,u=4;this.separableBlurMaterial1=this.getSeperableBlurMaterial(a),this.separableBlurMaterial1.uniforms.texSize.value.set(s,o),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(u),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(s/2),Math.round(o/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=u,this.overlayMaterial=this.getOverlayMaterial(),ls===void 0&&console.error("THREE.OutlinePass relies on CopyShader");const c=ls;this.copyUniforms=pr.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Dt({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:$t,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new De,this.oldClearAlpha=1,this.fsQuad=new uc(null),this.tempPulseColor1=new De,this.tempPulseColor2=new De,this.textureMatrix=new Ye;function f(h,p){const m=p.isPerspectiveCamera?"perspective":"orthographic";return h.replace(/DEPTH_TO_VIEW_Z/g,m+"DepthToViewZ")}}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()}setSize(e,t){this.renderTargetMaskBuffer.setSize(e,t),this.renderTargetDepthBuffer.setSize(e,t);let r=Math.round(e/this.downSampleRatio),i=Math.round(t/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(r,i),this.renderTargetBlurBuffer1.setSize(r,i),this.renderTargetEdgeBuffer1.setSize(r,i),this.separableBlurMaterial1.uniforms.texSize.value.set(r,i),r=Math.round(r/2),i=Math.round(i/2),this.renderTargetBlurBuffer2.setSize(r,i),this.renderTargetEdgeBuffer2.setSize(r,i),this.separableBlurMaterial2.uniforms.texSize.value.set(r,i)}changeVisibilityOfSelectedObjects(e){const t=this._visibilityCache;function r(i){i.isMesh&&(e===!0?i.visible=t.get(i):(t.set(i,i.visible),i.visible=e))}for(let i=0;i<this.selectedObjects.length;i++)this.selectedObjects[i].traverse(r)}changeVisibilityOfNonSelectedObjects(e){const t=this._visibilityCache,r=[];function i(o){o.isMesh&&r.push(o)}for(let o=0;o<this.selectedObjects.length;o++)this.selectedObjects[o].traverse(i);function s(o){if(o.isMesh||o.isSprite){let a=!1;for(let u=0;u<r.length;u++)if(r[u].id===o.id){a=!0;break}if(a===!1){const u=o.visible;(e===!1||t.get(o)===!0)&&(o.visible=e),t.set(o,u)}}else(o.isPoints||o.isLine)&&(e===!0?o.visible=t.get(o):(t.set(o,o.visible),o.visible=e))}this.renderScene.traverse(s)}updateTextureMatrix(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}render(e,t,r,i,s){if(this.selectedObjects.length>0){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const o=e.autoClear;e.autoClear=!1,s&&e.state.buffers.stencil.setTest(!1),e.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);const a=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this.renderScene.background=a,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this.fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const u=.625+Math.cos(performance.now()*.01/this.pulsePeriod)*.75/2;this.tempPulseColor1.multiplyScalar(u),this.tempPulseColor2.multiplyScalar(u)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=El.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=El.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=El.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=El.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,s&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(r),this.fsQuad.render(e),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=r.texture,e.setRenderTarget(null),this.fsQuad.render(e))}getPrepareMaskMaterial(){return new Dt({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new ae(.5,.5)},textureMatrix:{value:null}},vertexShader:`#include <morphtarget_pars_vertex>
				#include <skinning_pars_vertex>

				varying vec4 projTexCoord;
				varying vec4 vPosition;
				uniform mat4 textureMatrix;

				void main() {

					#include <skinbase_vertex>
					#include <begin_vertex>
					#include <morphtarget_vertex>
					#include <skinning_vertex>
					#include <project_vertex>

					vPosition = mvPosition;
					vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );
					projTexCoord = textureMatrix * worldPosition;

				}`,fragmentShader:`#include <packing>
				varying vec4 vPosition;
				varying vec4 projTexCoord;
				uniform sampler2D depthTexture;
				uniform vec2 cameraNearFar;

				void main() {

					float depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));
					float viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );
					float depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;
					gl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);

				}`})}getEdgeDetectionMaterial(){return new Dt({uniforms:{maskTexture:{value:null},texSize:{value:new ae(.5,.5)},visibleEdgeColor:{value:new B(1,1,1)},hiddenEdgeColor:{value:new B(1,1,1)}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform vec2 texSize;
				uniform vec3 visibleEdgeColor;
				uniform vec3 hiddenEdgeColor;

				void main() {
					vec2 invSize = 1.0 / texSize;
					vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);
					vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);
					vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);
					vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);
					vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);
					float diff1 = (c1.r - c2.r)*0.5;
					float diff2 = (c3.r - c4.r)*0.5;
					float d = length( vec2(diff1, diff2) );
					float a1 = min(c1.g, c2.g);
					float a2 = min(c3.g, c4.g);
					float visibilityFactor = min(a1, a2);
					vec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;
					gl_FragColor = vec4(edgeColor, 1.0) * vec4(d);
				}`})}getSeperableBlurMaterial(e){return new Dt({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new ae(.5,.5)},direction:{value:new ae(.5,.5)},kernelRadius:{value:1}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;
				uniform float kernelRadius;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}

				void main() {
					vec2 invSize = 1.0 / texSize;
					float weightSum = gaussianPdf(0.0, kernelRadius);
					vec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;
					vec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);
					vec2 uvOffset = delta;
					for( int i = 1; i <= MAX_RADIUS; i ++ ) {
						float w = gaussianPdf(uvOffset.x, kernelRadius);
						vec4 sample1 = texture2D( colorTexture, vUv + uvOffset);
						vec4 sample2 = texture2D( colorTexture, vUv - uvOffset);
						diffuseSum += ((sample1 + sample2) * w);
						weightSum += (2.0 * w);
						uvOffset += delta;
					}
					gl_FragColor = diffuseSum/weightSum;
				}`})}getOverlayMaterial(){return new Dt({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform sampler2D edgeTexture1;
				uniform sampler2D edgeTexture2;
				uniform sampler2D patternTexture;
				uniform float edgeStrength;
				uniform float edgeGlow;
				uniform bool usePatternTexture;

				void main() {
					vec4 edgeValue1 = texture2D(edgeTexture1, vUv);
					vec4 edgeValue2 = texture2D(edgeTexture2, vUv);
					vec4 maskColor = texture2D(maskTexture, vUv);
					vec4 patternColor = texture2D(patternTexture, 6.0 * vUv);
					float visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;
					vec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;
					vec4 finalColor = edgeStrength * maskColor.r * edgeValue;
					if(usePatternTexture)
						finalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);
					gl_FragColor = finalColor;
				}`,blending:Q0,depthTest:!1,depthWrite:!1,transparent:!0})}}El.BlurDirectionX=new ae(1,0);El.BlurDirectionY=new ae(0,1);const[sre,TM]=Ie("#ffffff"),[ore,CM]=Ie(void 0),[are,AM]=Ie(void 0),[lre,SB]=Ie(0),[ure,MB]=Ie(3),[cre,EB]=Ie(1),TB=[!1],iT=[],CB=n=>{n.userData.outline||(n.userData.outline=!0,iT.push(n),TB[0]=!0)},AB=n=>{!n.userData.outline||(n.userData.outline=!1,lE(iT,n))},Ho=new El(new ae,nt,tt(),iT);tt(n=>Ho.renderCamera=n);xt(()=>{var t;const n=TM(),e=(t=CM())!=null?t:n;Ho.visibleEdgeColor=new De(n),Ho.hiddenEdgeColor=new De(e)},[TM,CM]);xt(()=>{const n=AM();if(!!n)return Ho.patternTexture=ni(n),Ho.usePatternTexture=!0,()=>{Ho.usePatternTexture=!1}},[AM]);SB(n=>Ho.pulsePeriod=n*.001);MB(n=>Ho.edgeStrength=n);EB(n=>Ho.edgeThickness=n);const dre=new WeakMap,sI=new WeakMap,Iw=new WeakMap,fre=1/60;class qp extends PN{constructor(t,r){super();j(this,"clip");j(this,"name");j(this,"mixer");j(this,"action");this.mixer=Vo(dre,r,()=>new zO(r)),typeof t=="string"?this.name=t:(this.name=t.name,this.loadClip(t))}retarget(t){const r=this.clip.clone(),i=t.name+".";return r.tracks=r.tracks.filter(s=>s.name.startsWith(i)),new qp(r,t)}dispose(){return this.done?this:(super.dispose(),this.stop(),this)}get duration(){var t,r;return(r=(t=this.clip)==null?void 0:t.duration)!=null?r:0}loadClip(t){this.clip=t,this.action=this.mixer.clipAction(t)}setTracks(t){const r=Object.entries(t).map(([i,s])=>new Up("."+i,Object.keys(s).map(o=>Number(o)),Object.values(s)));this.clip&&this.mixer.uncacheClip(this.clip),this.loadClip(new oM(this.name,-1,r))}play({crossFade:t=.25,repeat:r=!0,onFinish:i}={}){var f,h;const[s,o]=(f=sI.get(this.mixer))!=null?f:[];if((s==null?void 0:s.isRunning())&&this.action===s){r!==o&&s.setLoop(r?QS:JS,1/0);return}(h=Iw.get(this.mixer))==null||h.cancel();const a=this.watch(Wn(()=>this.mixer.update(fre)));Iw.set(this.mixer,a);const{action:u}=this;if(!u)return;s&&t?(u.time=0,u.enabled=!0,u.crossFadeFrom(s,t,!0)):this.mixer.stopAllAction(),sI.set(this.mixer,[u,r]),u.setLoop(r?QS:JS,1/0),u.clampWhenFinished=!0;const c=()=>i==null?void 0:i();this.mixer.addEventListener("finished",c),a.then(()=>this.mixer.removeEventListener("finished",c)),u.paused&&u.stop(),u.play()}stop(){var t;this.action&&(this.action.paused=!0),(t=Iw.get(this.mixer))==null||t.cancel()}getPaused(){var t;return(t=this.action)==null?void 0:t.paused}setPaused(t){this.action&&(this.action.paused=t)}update(t){this.mixer.time=0,this.action&&(this.action.time=0),this.mixer.update(t)}}const hre=vs(n=>{const e=Object.entries(n);let t=0;for(const[,{length:o}]of e)o>t&&(t=o);const i=1e3*.001/t,s={};for(const[o,a]of e)s[o]=Object.fromEntries(a.map((u,c)=>[(c*i).toFixed(2),u]));return s},0,"trailingPromise");class pre extends Ga{constructor(){super(...arguments);j(this,"animationManagers");j(this,"loadingAnims");j(this,"animationManager");j(this,"animationRepeat");j(this,"onAnimationFinish");j(this,"animationName");j(this,"_animation")}get animations(){var t;return(t=this.animationManagers)!=null?t:this.animationManagers={}}set animations(t){this.animationManagers=t}createAnimation(t){if(t in this.animations){const i=this.animations[t];if(typeof i!="string")return i}const r=this.watch(new qp(t,this));return this.animations[t]=r,r}buildAnimation(t){hre(t).then(r=>{const i="lingo3d-animation";this.createAnimation(i).setTracks(r),this.playAnimation(i)})}makeAnimationProxy(t){return new Proxy(t,{get:(r,i)=>r[i],set:(r,i,s)=>(r[i]=s,this.buildAnimation(r),!0)})}async loadingAnimsAsync(){await new Promise(t=>setTimeout(t)),this.loadingAnims&&(await Promise.all(this.loadingAnims),this.loadingAnims=void 0)}get animationPaused(){var t;return(t=this.animationManager)==null?void 0:t.getPaused()}set animationPaused(t){this.loadingAnimsAsync().then(()=>{var r;this.done||(r=this.animationManager)==null||r.setPaused(!!t)})}async playAnimation(t,r){var i;await this.loadingAnimsAsync(),!this.done&&(this.animationManager=typeof t=="string"?this.animations[t]:Object.values(this.animations)[t!=null?t:0],(i=this.animationManager)==null||i.play(r))}async stopAnimation(){var t;await this.loadingAnimsAsync(),!this.done&&((t=this.animationManager)==null||t.stop())}setAnimation(t,r){if(this._animation=t,typeof t=="string"||typeof t=="number"){this.animationName=t,this.playAnimation(t,r);return}if(typeof t=="boolean"){t?this.playAnimation(void 0,r):this.stopAnimation();return}if(!t){this.stopAnimation();return}this._animation=this.makeAnimationProxy(t),this.buildAnimation(t)}get animation(){return this._animation}set animation(t){if(Array.isArray(t)){let r=0;const i={onFinish:()=>{var s;if(++r>=t.length){if(this.animationRepeat===!1){(s=this.onAnimationFinish)==null||s.call(this);return}r=0}this.setAnimation(t[r],i)},repeat:!1};this.setAnimation(t[0],i);return}this.queueMicrotask(()=>this.setAnimation(t,{repeat:this.animationRepeat,onFinish:this.onAnimationFinish}))}}const mre=["name","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","alphaToCoverage","premultipliedAlpha","visible","toneMapped"];var RB=(n,e)=>{for(const i of mre){const s=n[i];s!=null&&(e[i]=s)}const t=n.clippingPlanes;let r=null;if(t){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}e.clippingPlanes=r};const gre=["roughness","metalness","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveMap","emissiveIntensity","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","alphaMap","envMap","envMapIntensity","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","flatShading","fog"];var PB=(n,e)=>{RB(n,e);for(const t of gre){const r=n[t];r!=null&&(e[t]=r)}e.defines={STANDARD:""},n.color&&e.color.copy(n.color),n.emissive&&e.emissive.copy(n.emissive),n.normalScale&&e.normalScale.copy(n.normalScale)};const vre=["map","gradientMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveMap","emissiveIntensity","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","alphaMap","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","fog"];var yre=(n,e)=>{RB(n,e);for(const t of vre){const r=n[t];r!=null&&(e[t]=r)}n.color&&e.color.copy(n.color),n.emissive&&e.emissive.copy(n.emissive),n.normalScale&&e.normalScale.copy(n.normalScale)},xre=(n,e)=>n.clone().multiply(e.clone().invert());const Lw=new eT,vh=new eT,_re=RN(()=>{const n=tt();aB.setFromProjectionMatrix(Dne.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse))},200,"leading"),DB=new WeakSet,Qc=(n,e,t)=>{var i,s;const r=(s=(i=n.userData)[e])!=null?s:i[e]=n.material[e];n.material[e]=t===void 0?r:(r||(DB.has(n.material)?1:0))*t},oI=(n,e,t)=>{var i,s;const r=(s=(i=n.userData)[e])!=null?s:i[e]=n.material[e];n.material[e]=t===void 0?r:t},Ld=new Map,bre=()=>new Set;class vx extends Ga{constructor(t){super(t);j(this,"object3d");j(this,"_id");j(this,"_onClick");j(this,"_onMouseDown");j(this,"_onMouseUp");j(this,"_onMouseOver");j(this,"_onMouseOut");j(this,"_onMouseMove");j(this,"_visible");j(this,"_refreshFactors");j(this,"_metalnessFactor");j(this,"_roughnessFactor");j(this,"_opacityFactor");j(this,"_toon");j(this,"_pbr");j(this,"onLookToEnd");this.object3d=t}dispose(){return this.done?this:(super.dispose(),this._id!==void 0&&Ld.get(this._id).delete(this),this)}get id(){return this._id}set id(t){this._id!==void 0&&Ld.get(this._id).delete(this),this._id=t,t!==void 0&&Vo(Ld,t,bre).add(this)}addToRaycastSet(t){return t.add(this.object3d),new un(()=>t.delete(this.object3d))}get onClick(){return this._onClick}set onClick(t){this._onClick=t,this.cancelHandle("onClick",t&&(()=>this.addToRaycastSet(uB)))}get onMouseDown(){return this._onMouseDown}set onMouseDown(t){this._onMouseDown=t,this.cancelHandle("onMouseDown",t&&(()=>this.addToRaycastSet(cB)))}get onMouseUp(){return this._onMouseUp}set onMouseUp(t){this._onMouseUp=t,this.cancelHandle("onMouseUp",t&&(()=>this.addToRaycastSet(dB)))}get onMouseOver(){return this._onMouseOver}set onMouseOver(t){this._onMouseOver=t,this.cancelHandle("onMouseOver",t&&(()=>this.addToRaycastSet(fB)))}get onMouseOut(){return this._onMouseOut}set onMouseOut(t){this._onMouseOut=t,this.cancelHandle("onMouseOut",t&&(()=>this.addToRaycastSet(hB)))}get onMouseMove(){return this._onMouseMove}set onMouseMove(t){this._onMouseMove=t,this.cancelHandle("onMouseMove",t&&(()=>this.addToRaycastSet(pB)))}get name(){return this.outerObject3d.name}set name(t){this.outerObject3d.name=Jt.sanitizeNodeName(t)}getRay(){return sB.set(this.object3d.getWorldPosition(Ol),this.object3d.getWorldDirection(Kt))}pointAt(t){return dy(this.getRay().at(t*yt,Kt))}rayIntersectsAt(t,r){if(this.done||t.done||this===t)return;vh.set(t.object3d.getWorldPosition(rB),iB,new Jn().setFromMatrix4(t.object3d.matrixWorld));const i=vh.intersectRay(this.getRay(),Kt);if(!!i){if(r){const{x:s,y:o,z:a}=this.object3d.getWorldPosition(Ol);if(YE(i.x,i.y,i.z,s,o,a)*ln>r)return}return dy(i)}}rayIntersects(t){return!!this.rayIntersectsAt(t)}intersects(t){return this.done||t.done||this===t?!1:(Lw.set(this.object3d.getWorldPosition(Kt),hM.clone(),new Jn),Lw.applyMatrix4(this.object3d.matrixWorld),vh.set(t.object3d.getWorldPosition(Ol),hM.clone(),new Jn),vh.applyMatrix4(t.object3d.matrixWorld),Lw.intersectsOBB(vh,0))}get clientX(){return iI(this.object3d).x}get clientY(){return iI(this.object3d).y}get reflection(){return!!this.object3d.userData.ssr}set reflection(t){t&&bB(this.object3d),this.cancelHandle("reflection",t&&(()=>new un(()=>wB(this.object3d))))}get bloom(){return!!this.outerObject3d.userData.bloom}set bloom(t){t&&vB(this.outerObject3d),this.cancelHandle("bloom",t&&(()=>new un(()=>yB(this.outerObject3d))))}get outline(){return!!this.object3d.userData.outline}set outline(t){t&&CB(this.object3d),this.cancelHandle("outline",t&&(()=>new un(()=>AB(this.object3d))))}get visible(){return this._visible!==!1}set visible(t){this._visible=t,this.outerObject3d.visible=t}get frustumCulled(){return this.outerObject3d.frustumCulled}set frustumCulled(t){this.outerObject3d.traverse(r=>r.frustumCulled=t)}refreshFactors(){if(this._refreshFactors){this._refreshFactors.set({});return}this._refreshFactors=new Cn({}),this.createEffect(()=>{const t=new un,{_toon:r,_pbr:i,_metalnessFactor:s,_roughnessFactor:o,_opacityFactor:a}=this;return this.outerObject3d.traverse(u=>{let{material:c}=u;!c||(Array.isArray(c)&&(c=c[0]),r?(u.material=new kE,yre(c,u.material)):i&&(DB.add(u.material=new lc),PB(c,u.material)),s!==void 0&&s!==0&&Qc(u,"metalness",s),o!==void 0&&o!==1&&Qc(u,"roughness",o),a!==void 0&&a!==1&&(Qc(u,"opacity",a),oI(u,"transparent",a<1)),t.then(()=>{if(u.material===c){Qc(u,"metalness",void 0),Qc(u,"roughness",void 0),Qc(u,"opacity",void 0),oI(u,"transparent",void 0);return}u.material.dispose(),u.material=c}))}),()=>{t.cancel()}},[this._refreshFactors.get])}get metalnessFactor(){var t;return(t=this._metalnessFactor)!=null?t:0}set metalnessFactor(t){this._metalnessFactor=t,this.refreshFactors()}get roughnessFactor(){var t;return(t=this._roughnessFactor)!=null?t:1}set roughnessFactor(t){this._roughnessFactor=t,this.refreshFactors()}get opacityFactor(){var t;return(t=this._opacityFactor)!=null?t:1}set opacityFactor(t){this._opacityFactor=t,this.refreshFactors()}get toon(){var t;return(t=this._toon)!=null?t:!1}set toon(t){this._toon=t,this.refreshFactors()}get pbr(){var t;return(t=this._pbr)!=null?t:!1}set pbr(t){this._pbr=t,this.refreshFactors()}get frustumVisible(){return _re(),aB.containsPoint(mm(this.object3d))}lookAt(t,r,i){if(typeof t=="number"){this.lookAt(new zu(t,r===void 0?this.outerObject3d.position.y*ln:r,i));return}"outerObject3d"in t?this.outerObject3d.lookAt(Af(t).getWorldPosition(Kt)):this.outerObject3d.lookAt(ZE(t))}lookTo(t,r,i,s){if(typeof t=="number"){this.lookTo(new zu(t,r===void 0?this.outerObject3d.position.y*ln:r,i),s);return}const{quaternion:o}=this.outerObject3d,a=o.clone();this.lookAt(t);const u=o.clone();o.copy(a),this.cancelHandle("lookTo",()=>Wn(()=>{var p;o.slerp(u,r);const{x:c,y:f,z:h}=xre(o,u);Math.abs(c)+Math.abs(f)+Math.abs(h)<.001&&(this.cancelHandle("lookTo",void 0),(p=this.onLookToEnd)==null||p.call(this),o.copy(u))}))}}qo(vx,[pre]);const wre=n=>!!n&&(RM(n)||n instanceof vx),Af=n=>"object3d"in n?n.object3d:n.outerObject3d;class sT extends Ga{get x(){return this.outerObject3d.position.x*ln}set x(e){this.outerObject3d.position.x=e*yt}get y(){return this.outerObject3d.position.y*ln}set y(e){this.outerObject3d.position.y=e*yt}get z(){return this.outerObject3d.position.z*ln}set z(e){this.outerObject3d.position.z=e*yt}getWorldPosition(){return dy(Af(this).getWorldPosition(Kt))}}const RM=n=>n instanceof Ga&&"getWorldPosition"in n,Sre="modulepreload",aI={},Mre="/character-controls/",us=function(e,t){return!t||t.length===0?e():Promise.all(t.map(r=>{if(r=`${Mre}${r}`,r in aI)return;aI[r]=!0;const i=r.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":Sre,i||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),i)return new Promise((a,u)=>{o.addEventListener("load",a),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},Ev=new WeakMap;var IB=n=>{if(Ev.has(n))return Ev.get(n);const e=Af(n).scale.clone().multiply(n.outerObject3d.scale);return Ev.set(n,e),setTimeout(()=>Ev.delete(n)),e};const[Ere,LB]=Ie(20),[Tre,lI]=Ie(void 0);var kB=ic(async()=>{const{World:n,GSSolver:e,SplitSolver:t,NaiveBroadphase:r,Material:i,ContactMaterial:s,Body:o,Vec3:a,Box:u,Sphere:c,Cylinder:f}=await us(()=>import("./cannon-es.85c455b5.js"),[]),h=new n;LB(y=>h.gravity.set(0,-y,0)),h.quatNormalizeSkip=0,h.quatNormalizeFast=!1;const p=new e;h.defaultContactMaterial.contactEquationStiffness=1e9,h.defaultContactMaterial.contactEquationRelaxation=4,p.iterations=7,p.tolerance=.1,h.solver=new t(p),h.broadphase=new r;const[m]=h.defaultContactMaterial.materials,v=new i("slipperyMaterial");return h.addContactMaterial(new s(v,v,{friction:0,restitution:0})),h.addContactMaterial(new s(v,m,{friction:.001,restitution:0})),Tre(h),{world:h,defaultMaterial:m,slipperyMaterial:v,Body:o,Vec3:a,Box:u,Sphere:c,Cylinder:f}});async function NB(){const{Box:n}=await kB();this.cannonBody.addShape(new n(IB(this).multiplyScalar(.5)))}class Cre extends sT{constructor(){super(...arguments);j(this,"_mAV");j(this,"_mV");j(this,"physicsUpdate");j(this,"cannonBody");j(this,"_noTumble");j(this,"_slippery");j(this,"_mass");j(this,"_physicsGroup");j(this,"_ignorePhysicsGroups");j(this,"_physicsShape");j(this,"bvhVelocity");j(this,"bvhOnGround");j(this,"bvhRadius");j(this,"bvhHalfHeight");j(this,"bvhMap");j(this,"bvhCharacter");j(this,"_physics")}getMAV(){var t;return(t=this._mAV)!=null?t:this._mAV=new zu(1/0,1/0,1/0)}get maxAngularVelocityX(){var t,r;return(r=(t=this._mAV)==null?void 0:t.x)!=null?r:1/0}set maxAngularVelocityX(t){this.getMAV().x=t}get maxAngularVelocityY(){var t,r;return(r=(t=this._mAV)==null?void 0:t.y)!=null?r:1/0}set maxAngularVelocityY(t){this.getMAV().y=t}get maxAngularVelocityZ(){var t,r;return(r=(t=this._mAV)==null?void 0:t.z)!=null?r:1/0}set maxAngularVelocityZ(t){this.getMAV().z=t}getMV(){var t;return(t=this._mV)!=null?t:this._mV=new zu(1/0,1/0,1/0)}get maxVelocityX(){var t,r;return(r=(t=this._mV)==null?void 0:t.x)!=null?r:1/0}set maxVelocityX(t){this.getMV().x=t}get maxVelocityY(){var t,r;return(r=(t=this._mV)==null?void 0:t.y)!=null?r:1/0}set maxVelocityY(t){this.getMV().y=t}get maxVelocityZ(){var t,r;return(r=(t=this._mV)==null?void 0:t.z)!=null?r:1/0}set maxVelocityZ(t){this.getMV().z=t}physicsRotate(){var r,i;if(!this.physicsUpdate)return;const t=(i=(r=this.physicsUpdate).rotation)!=null?i:r.rotation={};t.x=!0,t.y=!0,t.z=!0}physicsMove(){var r,i;if(!this.physicsUpdate)return;const t=(i=(r=this.physicsUpdate).position)!=null?i:r.position={};t.x=!0,t.y=!0,t.z=!0}physicsMoveXZ(){var r,i;if(!this.physicsUpdate)return;const t=(i=(r=this.physicsUpdate).position)!=null?i:r.position={};t.x=!0,t.z=!0}applyForce(t,r,i){setTimeout(()=>{var s;return(s=this.cannonBody)==null?void 0:s.applyForce({x:t,y:r,z:i})})}applyImpulse(t,r,i){setTimeout(()=>{var s;return(s=this.cannonBody)==null?void 0:s.applyImpulse({x:t,y:r,z:i})})}applyLocalForce(t,r,i){setTimeout(()=>{var s;return(s=this.cannonBody)==null?void 0:s.applyLocalForce({x:t,y:r,z:i})})}applyLocalImpulse(t,r,i){setTimeout(()=>{var s;return(s=this.cannonBody)==null?void 0:s.applyLocalImpulse({x:t,y:r,z:i})})}applyTorque(t,r,i){setTimeout(()=>{var s;return(s=this.cannonBody)==null?void 0:s.applyTorque({x:t,y:r,z:i})})}get velocity(){return this.bvhVelocity?this.bvhVelocity:this.cannonBody?this.cannonBody.velocity:new zu(0,0,0)}set velocity(t){this.bvhVelocity?Object.assign(this.bvhVelocity,t):this.cannonBody&&Object.assign(this.cannonBody.velocity,t)}refreshCannon(){var t;this.physicsUpdate&&(this.physics=(t=this._physics)!=null?t:!1)}get noTumble(){return this._noTumble}set noTumble(t){this._noTumble=t,this.refreshCannon()}get slippery(){return this._slippery}set slippery(t){this._slippery=t,this.refreshCannon()}get mass(){return this._mass}set mass(t){this._mass=t,this.refreshCannon()}get physicsGroup(){return this._physicsGroup}set physicsGroup(t){this._physicsGroup=t,this.refreshCannon()}get ignorePhysicsGroups(){return this._ignorePhysicsGroups}set ignorePhysicsGroups(t){this._ignorePhysicsGroups=t,this.refreshCannon()}get physicsShape(){var t;return(t=this._physicsShape)!=null?t:this._physicsShape=NB}set physicsShape(t){this._physicsShape=t,this.refreshCannon()}initPhysics(t,r){if(!(!t||r.done))switch(t){case!0:case"2d":us(()=>import("./enableCannon.3a9b0792.js"),[]).then(i=>i.default.call(this,r));break;case"map":this.bvhMap=!0,us(()=>import("./enableBVHMap.54a12222.js"),["assets/enableBVHMap.54a12222.js","assets/computeBVH.6289c5a1.js"]).then(i=>i.default.call(this,r,!1));break;case"map-debug":this.bvhMap=!0,us(()=>import("./enableBVHMap.54a12222.js"),["assets/enableBVHMap.54a12222.js","assets/computeBVH.6289c5a1.js"]).then(i=>i.default.call(this,r,!0));break;case"character":this.bvhCharacter=!0,us(()=>import("./enableBVHCharacter.51dc5483.js"),["assets/enableBVHCharacter.51dc5483.js","assets/computeBVH.6289c5a1.js"]).then(i=>i.default.call(this,r));break;default:CN(t)}}get physics(){var t;return(t=this._physics)!=null?t:!1}set physics(t){this._physics!==t&&(this._physics=t,this.initPhysics(t,this.cancelHandle("physics",()=>new un)))}}var uI=new Map;const Are=new Set,gy=new Map,cI=new WeakSet,Rre=()=>new WeakSet,Pre=1/60;xt(function(){if(nf())return;const n=lI();if(!n)return;const e=Wn(()=>{for(const t of Are){const r=t.cannonBody;if("_mAV"in t){const{x:o,y:a,z:u}=t._mAV,{angularVelocity:c}=r;c.x>o?c.x=o:c.x<-o&&(c.x=-o),c.y>a?c.y=a:c.y<-a&&(c.y=-a),c.z>u?c.z=u:c.z<-u&&(c.z=-u)}if("_mV"in t){const{x:o,y:a,z:u}=t._mV,{velocity:c}=r;c.x>o?c.x=o:c.x<-o&&(c.x=-o),c.y>a?c.y=a:c.y<-a&&(c.y=-a),c.z>u?c.z=u:c.z<-u&&(c.z=-u)}const{position:i,rotation:s}=t.physicsUpdate;t.physicsUpdate={},i&&(i.x&&(r.position.x=t.outerObject3d.position.x,r.velocity.x=0,r.force.x=0),i.y&&(r.position.y=t.outerObject3d.position.y,r.velocity.y=0,r.force.y=0),i.z&&(r.position.z=t.outerObject3d.position.z,r.velocity.z=0,r.force.z=0)),t.outerObject3d.position.copy(r.position),s?(s.x&&(r.angularVelocity.x=0,r.torque.x=0),s.y&&(r.angularVelocity.y=0,r.torque.y=0),s.z&&(r.angularVelocity.z=0,r.torque.z=0),r.quaternion.copy(t.outerObject3d.quaternion)):t.outerObject3d.quaternion.copy(r.quaternion)}n.step(Pre),gy.clear();for(const t of n.contacts)Vo(gy,t.bi,Rre).add(t.bj)});return()=>{e.cancel()}},[lI,nf]);const dI=new WeakMap,fI=(n,e)=>{const t=dI.get(n);if(t)return t;const r=YE(n.x,n.y,n.z,e.x*ln,e.y*ln,e.z*ln);return dI.set(n,r),r};class Rf extends vx{constructor(){super(...arguments);j(this,"onIntersectState");j(this,"onIntersectOutState");j(this,"intersectIdsState");j(this,"onMoveToEnd")}getRayIntersectionsAt(t,r){var s;const i=[];for(const o of(s=Ld.get(t))!=null?s:[]){if(o===this)continue;const a=this.rayIntersectsAt(o,r);a&&i.push([o,a])}return this.object3d.getWorldPosition(Ol),i.sort((o,a)=>fI(o[1],Ol)-fI(a[1],Ol))}getRayIntersections(t,r){return this.getRayIntersectionsAt(t,r).map(i=>i[0])}listenToRayIntersection(t,r,i){return this.beforeRender(()=>{for(const[s,o]of this.getRayIntersectionsAt(t,i))r(s,o)})}getIntersections(t){var i;const r=[];for(const s of(i=Ld.get(t))!=null?i:[])s!==this&&this.intersects(s)&&r.push(s);return r}listenToIntersection(t,r,i){let s=[];return this.beforeRender(()=>{const o=this.getIntersections(t);if(r)for(const a of o)s.includes(a)||r(a);if(i)for(const a of s)o.includes(a)||i(a);s=o})}initIntersect(){this.onIntersectState||(this.onIntersectState=new Cn(void 0),this.onIntersectOutState=new Cn(void 0),this.intersectIdsState=new Cn(void 0),this.createEffect(()=>{const{onIntersect:t,onIntersectOut:r,intersectIds:i}=this;if(!i||!t&&!r)return;const s=[];for(const o of i)s.push(this.listenToIntersection(o,t,r));return()=>{for(const o of s)o.cancel()}},[this.onIntersectState.get,this.onIntersectOutState.get,this.intersectIdsState.get]))}get onIntersect(){var t;return(t=this.onIntersectState)==null?void 0:t.get()}set onIntersect(t){var r;this.initIntersect(),(r=this.onIntersectState)==null||r.set(t)}get onIntersectOut(){var t;return(t=this.onIntersectOutState)==null?void 0:t.get()}set onIntersectOut(t){var r;this.initIntersect(),(r=this.onIntersectOutState)==null||r.set(t)}get intersectIds(){var t;return(t=this.intersectIdsState)==null?void 0:t.get()}set intersectIds(t){var r;this.initIntersect(),(r=this.intersectIdsState)==null||r.set(t)}intersects(t){var r,i,s,o;if(this.done||t.done||this===t)return!1;if(t instanceof Rf){if(this.bvhMap&&t.bvhCharacter||this.bvhCharacter&&t.bvhMap)return((r=uI.get(this))==null?void 0:r.has(t))||((i=uI.get(t))==null?void 0:i.has(this))||!1;if(this.cannonBody&&t.cannonBody)return cI.add(this.cannonBody),cI.add(t.cannonBody),((s=gy.get(this.cannonBody))==null?void 0:s.has(t.cannonBody))||((o=gy.get(t.cannonBody))==null?void 0:o.has(this.cannonBody))||!1}return super.intersects(t)}get width(){return this.object3d.scale.x*ln}set width(t){this.object3d.scale.x=t*yt}get height(){return this.object3d.scale.y*ln}set height(t){this.object3d.scale.y=t*yt}get depth(){return this.object3d.scale.z*ln}set depth(t){this.object3d.scale.z=t*yt}get x(){return this.outerObject3d.position.x*ln}set x(t){var r,i;this.outerObject3d.position.x=t*yt,this.physicsUpdate&&(((i=(r=this.physicsUpdate).position)!=null?i:r.position={}).x=!0)}get y(){return this.outerObject3d.position.y*ln}set y(t){var r,i;this.outerObject3d.position.y=t*yt,this.physicsUpdate&&(((i=(r=this.physicsUpdate).position)!=null?i:r.position={}).y=!0)}get z(){return this.outerObject3d.position.z*ln}set z(t){var r,i;this.outerObject3d.position.z=t*yt,this.physicsUpdate&&(((i=(r=this.physicsUpdate).position)!=null?i:r.position={}).z=!0)}get scaleX(){return this.outerObject3d.scale.x}set scaleX(t){this.outerObject3d.scale.x=t}get scaleY(){return this.outerObject3d.scale.y}set scaleY(t){this.outerObject3d.scale.y=t}get scaleZ(){return this.outerObject3d.scale.z}set scaleZ(t){this.outerObject3d.scale.z=t}get scale(){return this.scaleX}set scale(t){this.scaleX=t,this.scaleY=t,this.scaleZ=t}get rotationX(){return this.outerObject3d.rotation.x*Ir}set rotationX(t){var r,i;this.outerObject3d.rotation.x=t*xn,this.physicsUpdate&&(((i=(r=this.physicsUpdate).rotation)!=null?i:r.rotation={}).x=!0)}get rotationY(){return this.outerObject3d.rotation.y*Ir}set rotationY(t){var r,i;this.outerObject3d.rotation.y=t*xn,this.physicsUpdate&&(((i=(r=this.physicsUpdate).rotation)!=null?i:r.rotation={}).y=!0)}get rotationZ(){return this.outerObject3d.rotation.z*Ir}set rotationZ(t){var r,i;this.outerObject3d.rotation.z=t*xn,this.physicsUpdate&&(((i=(r=this.physicsUpdate).rotation)!=null?i:r.rotation={}).z=!0)}get rotation(){return this.rotationZ}set rotation(t){this.rotationZ=t}get innerVisible(){return this.object3d.visible}set innerVisible(t){this.object3d.visible=t}lookAt(t,r,i){super.lookAt(t,r,i),this.physicsRotate()}translateX(t){this.outerObject3d.translateX(t*yt),this.physicsMove()}translateY(t){this.outerObject3d.translateY(t*yt),this.physicsMove()}translateZ(t){this.outerObject3d.translateZ(t*yt),this.physicsMove()}placeAt(t){"outerObject3d"in t?(this.outerObject3d.position.copy(mm(Af(t))),this.outerObject3d.quaternion.copy(t.outerObject3d.getWorldQuaternion(yl))):this.outerObject3d.position.copy(ZE(t)),this.physicsMove(),this.physicsRotate()}moveForward(t){t!==0&&(Kt.setFromMatrixColumn(this.outerObject3d.matrix,0),Kt.crossVectors(this.outerObject3d.up,Kt),this.outerObject3d.position.addScaledVector(Kt,t*yt),this.physicsMoveXZ())}moveRight(t){t!==0&&(Kt.setFromMatrixColumn(this.outerObject3d.matrix,0),this.outerObject3d.position.addScaledVector(Kt,t*yt),this.physicsMoveXZ())}lerpTo(t,r,i,s){const o=new B(this.x,this.y,this.z),a=new B(t,r,i);this.cancelHandle("lerpTo",()=>Wn(()=>{var h;const{x:u,y:c,z:f}=o.lerp(a,s);Math.abs(this.x-u)<.1&&Math.abs(this.y-c)<.1&&Math.abs(this.z-f)<.1&&(this.cancelHandle("lerpTo",void 0),(h=this.onMoveToEnd)==null||h.call(this)),this.x=u,this.y=c,this.z=f,this.physicsMove()}))}moveTo(t,r,i,s){const{x:o,y:a,z:u}=new B(t-this.x,r===void 0?0:r-this.y,i-this.z).normalize(),c=s*o,f=s*a,h=s*u;let p=1/0;this.cancelHandle("lerpTo",()=>Wn(()=>{var v;this.x+=c,r!==void 0&&(this.y+=f),this.z+=h;let m=YE(this.x,r===void 0?0:this.y,this.z,t,r===void 0?0:r,i);m>=p&&(this.cancelHandle("lerpTo",void 0),(v=this.onMoveToEnd)==null||v.call(this),this.x=t,r!==void 0&&(this.y=r),this.z=i),p=m,r===void 0?this.physicsMoveXZ():this.physicsMove()}))}}qo(Rf,[sT,Cre]);const Dre={animations:Object,animation:[String,Number,Array,Boolean,Object],animationPaused:Boolean,animationRepeat:Boolean,onAnimationFinish:Function},Ire={animations:{},animation:void 0,animationPaused:[void 0,!1],animationRepeat:[void 0,!0],onAnimationFinish:void 0},OB={...Tf,...Dre,onClick:Function,onMouseDown:Function,onMouseUp:Function,onMouseOver:Function,onMouseOut:Function,onMouseMove:Function,onLookToEnd:Function,name:String,id:String,bloom:Boolean,reflection:Boolean,outline:Boolean,visible:Boolean,frustumCulled:Boolean,metalnessFactor:Number,roughnessFactor:Number,opacityFactor:Number,toon:Boolean,pbr:Boolean},BB={...Cf,...Ire,onClick:void 0,onMouseDown:void 0,onMouseUp:void 0,onMouseOver:void 0,onMouseOut:void 0,onMouseMove:void 0,onLookToEnd:void 0,name:"",id:void 0,bloom:!1,reflection:!1,outline:!1,visible:!0,frustumCulled:!0,metalnessFactor:0,roughnessFactor:1,opacityFactor:1,toon:!1,pbr:!1},yx={color:String,fog:Boolean,opacity:Number,texture:[String,Object],videoTexture:[String,Object],alphaMap:String,textureRepeat:[Object,Number]},xx={color:"#ffffff",fog:!0,opacity:1,texture:void 0,videoTexture:void 0,alphaMap:void 0,textureRepeat:[void 0,{x:1,y:1}]},oT={color:String,wireframe:Boolean,envMap:String,aoMap:String,aoMapIntensity:Number,bumpMap:String,bumpScale:Number,displacementMap:String,displacementScale:Number,displacementBias:Number,emissiveColor:String,emissiveMap:String,emissiveIntensity:Number,lightMap:String,lightMapIntensity:Number,metalnessMap:String,metalness:Number,roughnessMap:String,roughness:Number,normalMap:String,normalScale:[Object,Number],normalMapType:String},aT={color:"#ffffff",wireframe:!1,envMap:void 0,aoMap:void 0,aoMapIntensity:1,bumpMap:void 0,bumpScale:1,displacementMap:void 0,displacementScale:1,displacementBias:0,emissiveColor:"#000000",emissiveMap:void 0,emissiveIntensity:1,lightMap:void 0,lightMapIntensity:1,metalnessMap:void 0,metalness:0,roughnessMap:void 0,roughness:1,normalMap:void 0,normalScale:{x:1,y:1},normalMapType:void 0},Lre={...OB,...yx,...oT},kre={...BB,...xx,...aT},FB=[n=>n],Nre=["map","alphaMap"],PM=new Map,Ore=vs(function(){for(const[n,e]of PM)for(const t of Nre){const r=n.material[t];r&&(r.repeat=e)}PM.clear()},0,"trailing");class _x{constructor(){j(this,"_opacity");j(this,"videoTextureState");j(this,"textureState");j(this,"_alphaMap");j(this,"_textureRepeat")}get color(){return"#"+this.material.color.getHexString()}set color(e){this.material.color=new De(e)}get fog(){return this.material.fog}set fog(e){this.material.fog=e}get opacity(){var e;return(e=this._opacity)!=null?e:this._opacity=1}set opacity(e){var t;this._opacity=e,this.material.opacity=e,this.material.transparent=(t=this.transparent)!=null?t:e<1,this.object3d.visible=!!e}basicTextureRepeat(){this.material.needsUpdate=!0,this._textureRepeat&&(PM.set(this,this._textureRepeat),Ore())}initTexture(){var r,i;if(this.textureState)return;const e=(r=this.videoTextureState)!=null?r:this.videoTextureState=new Cn(void 0),t=(i=this.textureState)!=null?i:this.textureState=new Cn(void 0);this.createEffect(()=>{const s=t.get();let o=e.get();if(!o&&(typeof s=="string"&&FB[0](s).toLowerCase().endsWith(".mp4")||s&&s instanceof HTMLVideoElement)&&(o=s),o){let c;o instanceof HTMLVideoElement?c=o:(c=document.createElement("video"),c.crossOrigin="anonymous",c.src=o,c.loop=!0,c.autoplay=!0,c.muted=!0,c.playsInline=!0,c.play());const f=new aO(c);f.wrapS=f.wrapT=Ip;const{material:h}=this,{map:p}=h;return h.map=f,h.needsUpdate=!0,this.basicTextureRepeat(),()=>{c.pause(),f.dispose(),h.map=p,h.needsUpdate=!0}}if(!s)return;const{material:a}=this,{map:u}=a;return a.map=ni(s),this.basicTextureRepeat(),()=>{a.map=u,this.material.needsUpdate=!0}},[e.get,t.get])}get videoTexture(){var e;return(e=this.videoTextureState)==null?void 0:e.get()}set videoTexture(e){this.initTexture(),this.videoTextureState.set(e)}get texture(){var e;return(e=this.textureState)==null?void 0:e.get()}set texture(e){this.initTexture(),this.textureState.set(e)}get alphaMap(){return this._alphaMap}set alphaMap(e){this._alphaMap=e,this.material.alphaMap=e?ni(e):null,this.basicTextureRepeat()}get textureRepeat(){return this._textureRepeat}set textureRepeat(e){typeof e=="number"&&(e=new ae(e,e)),this._textureRepeat=e,this.basicTextureRepeat()}}const Bre=["map","alphaMap","envMap","aoMap","bumpMap","displacementMap","emissiveMap","lightMap","metalnessMap","roughnessMap","normalMap"],DM=new Map,Fre=vs(function(){for(const[n,e]of DM)for(const t of Bre){const r=n.material[t];r&&(r.repeat=e)}DM.clear()},0,"trailing");class lT{constructor(){j(this,"_envMap");j(this,"_aoMap");j(this,"_bumpMap");j(this,"_displacementMap");j(this,"_emissiveMap");j(this,"_lightMap");j(this,"_metalnessMap");j(this,"_roughnessMap");j(this,"_normalMap");j(this,"_normalMapType")}get color(){return"#"+this.material.color.getHexString()}set color(e){this.material.color=new De(e)}get wireframe(){return this.material.wireframe}set wireframe(e){this.material.wireframe=e}standardTextureRepeat(){this.material.needsUpdate=!0,this._textureRepeat&&(DM.set(this,this._textureRepeat),Fre())}get envMap(){return this._envMap}set envMap(e){this._envMap=e,this.material.envMap=e?ni(e):null,this.standardTextureRepeat()}get aoMap(){return this._aoMap}set aoMap(e){this._aoMap=e,this.material.aoMap=e?ni(e):null,this.standardTextureRepeat()}get aoMapIntensity(){return this.material.aoMapIntensity}set aoMapIntensity(e){this.material.aoMapIntensity=e}get bumpMap(){return this._bumpMap}set bumpMap(e){this._bumpMap=e,this.material.bumpMap=e?ni(e):null,this.standardTextureRepeat()}get bumpScale(){return this.material.bumpScale}set bumpScale(e){this.material.bumpScale=e}get displacementMap(){return this._displacementMap}set displacementMap(e){this._displacementMap=e,this.material.displacementMap=e?ni(e):null,this.standardTextureRepeat()}get displacementScale(){return this.material.displacementScale}set displacementScale(e){this.material.displacementScale=e}get displacementBias(){return this.material.displacementBias}set displacementBias(e){this.material.displacementBias=e}get emissiveColor(){return"#"+this.material.emissive.getHexString()}set emissiveColor(e){this.material.emissive=new De(e)}get emissiveMap(){return this._emissiveMap}set emissiveMap(e){this._emissiveMap=e,this.material.emissiveMap=e?ni(e):null,this.standardTextureRepeat()}get emissiveIntensity(){return this.material.emissiveIntensity}set emissiveIntensity(e){this.material.emissiveIntensity=e}get lightMap(){return this._lightMap}set lightMap(e){this._lightMap=e,this.material.lightMap=e?ni(e):null,this.standardTextureRepeat()}get lightMapIntensity(){return this.material.lightMapIntensity}set lightMapIntensity(e){this.material.lightMapIntensity=e}get metalnessMap(){return this._metalnessMap}set metalnessMap(e){this._metalnessMap=e,this.material.metalnessMap=e?ni(e):null,this.standardTextureRepeat()}get metalness(){return this.material.metalness}set metalness(e){this.material.metalness=e}get roughnessMap(){return this._roughnessMap}set roughnessMap(e){this._roughnessMap=e,this.material.roughnessMap=e?ni(e):null,this.standardTextureRepeat()}get roughness(){return this.material.roughness}set roughness(e){this.material.roughness=e}get normalMap(){return this._normalMap}set normalMap(e){this._normalMap=e,this.material.normalMap=e?ni(e):null,this.standardTextureRepeat()}get normalScale(){return this.material.normalScale}set normalScale(e){typeof e=="number"?this.material.normalScale=new ae(e,e):this.material.normalScale=e}get normalMapType(){return this._normalMapType}set normalMapType(e){this._normalMapType=e,this.material.normalMapType=e==="objectSpace"?HN:sc}}class kd extends vx{constructor(t){var r;super(t);j(this,"material");j(this,"model");j(this,"managerSet");this.material=(r=t.material)!=null?r:t.material=new lc,go.delete(this)}retargetAnimations(){var t;if(!!((t=this.model)!=null&&t.animationManagers)){for(const r of Object.values(this.model.animationManagers))this.animations[r.name]=this.watch(r.retarget(this.object3d));this.model=void 0}}get animation(){return super.animation}set animation(t){this.retargetAnimations(),super.animation=t}dispose(){return this.done?this:(super.dispose(),this.material.dispose(),this)}addToRaycastSet(t){return this.managerSet||(this.managerSet=!0,this.object3d.traverse(r=>r.userData.manager=this)),t.add(this.object3d),new un(()=>t.delete(this.object3d))}}j(kd,"componentName","find"),j(kd,"defaults",kre),j(kd,"schema",Lre);qo(kd,[lT,_x]);class Pf extends Rf{constructor(e){super(e);const t=this.outerObject3d=new Vr;t.userData.manager=this,nt.add(t),t.add(e)}get innerRotationX(){return this.object3d.rotation.x*Ir}set innerRotationX(e){this.object3d.rotation.x=e*xn}get innerRotationY(){return this.object3d.rotation.y*Ir}set innerRotationY(e){this.object3d.rotation.y=e*xn}get innerRotationZ(){return this.object3d.rotation.z*Ir}set innerRotationZ(e){this.object3d.rotation.z=e*xn}get innerRotation(){return this.innerRotationZ}set innerRotation(e){this.innerRotationZ=e}get innerX(){return this.object3d.position.x*ln}set innerX(e){this.object3d.position.x=e*yt}get innerY(){return this.object3d.position.y*ln}set innerY(e){this.object3d.position.y=e*yt}get innerZ(){return this.object3d.position.z*ln}set innerZ(e){this.object3d.position.z=e*yt}find(e,t){var s,o;const r=this.outerObject3d.getObjectByName(Jt.sanitizeNodeName(e));if(!r)return;const i=(o=(s=r.userData).manager)!=null?o:s.manager=new kd(r);return!t&&this._append(i),i}findAll(e){const t=[];return this.outerObject3d.traverse(r=>{var i,s;r.name===e&&t.push((s=(i=r.userData).manager)!=null?s:i.manager=new kd(r))}),t}}const zre={maxAngularVelocityX:Number,maxAngularVelocityY:Number,maxAngularVelocityZ:Number,maxVelocityX:Number,maxVelocityY:Number,maxVelocityZ:Number,velocity:Object,noTumble:Boolean,slippery:Boolean,mass:Number,physicsGroup:Number,ignorePhysicsGroups:Array,physics:[String,Boolean],physicsShape:Function};gx(["maxAngularVelocityX","maxAngularVelocityY","maxAngularVelocityZ","maxVelocityX","maxVelocityY","maxVelocityZ","velocity","noTumble","slippery","mass","physicsGroup","ignorePhysicsGroups","physicsShape"]);const Ure={maxAngularVelocityX:1/0,maxAngularVelocityY:1/0,maxAngularVelocityZ:1/0,maxVelocityX:1/0,maxVelocityY:1/0,maxVelocityZ:1/0,velocity:{x:0,y:0,z:0},noTumble:[void 0,!1],slippery:[void 0,!1],mass:[void 0,1],physicsGroup:void 0,ignorePhysicsGroups:void 0,physics:!1,physicsShape:NB},zB={...Tf,x:Number,y:Number,z:Number},UB={...Cf,x:0,y:0,z:0},Hre={...OB,...zB,...zre,onIntersect:Function,onIntersectOut:Function,onMoveToEnd:Function,intersectIds:Array,width:Number,height:Number,depth:Number,scaleX:Number,scaleY:Number,scaleZ:Number,scale:Number,rotationX:Number,rotationY:Number,rotationZ:Number,rotation:Number,innerVisible:Boolean};gx(["intersectIds"]);const Wre={...BB,...UB,...Ure,onIntersect:void 0,onIntersectOut:void 0,onMoveToEnd:void 0,intersectIds:void 0,width:100,height:100,depth:100,scaleX:1,scaleY:1,scaleZ:1,scale:1,rotationX:0,rotationY:0,rotationZ:0,rotation:0,innerVisible:!0},Df={...Hre,innerRotationX:Number,innerRotationY:Number,innerRotationZ:Number,innerRotation:Number,innerX:Number,innerY:Number,innerZ:Number},If={...Wre,innerRotationX:0,innerRotationY:0,innerRotationZ:0,innerRotation:0,innerX:0,innerY:0,innerZ:0},uT={...Df,...yx,...oT},cT={...If,...xx,...aT};class Kp extends Pf{constructor(t,r){const i=new lc(r?{transparent:!0}:void 0),s=new Qn(t,i);super(s);j(this,"material");j(this,"transparent");this.material=i,this.transparent=r}dispose(){return this.done?this:(super.dispose(),this.material.dispose(),this)}}j(Kp,"defaults",cT),j(Kp,"schema",uT);qo(Kp,[lT,_x]);const HB=new ac(ds,ds,ds,1,1,1);class WB extends Kp{constructor(){super(HB)}}j(WB,"componentName","cube");const s0=new WeakMap,VB=n=>{s0.has(n)&&(s0.get(n)(),s0.delete(n))},hI=(n,e)=>{VB(n);const t=n(e);t&&s0.set(n,t)};class Vre{constructor(){j(this,"done");j(this,"value");j(this,"callbacks",[])}then(e){return this.callbacks.push(e),this.done&&hI(e,this.value),new un(()=>{lE(this.callbacks,e),VB(e)})}resolve(e){this.done=!0,this.value=e;for(const t of this.callbacks)hI(t,e)}}class dT extends Pf{constructor(){super(new Qn(HB,oB));j(this,"loadedGroup",new Vr);j(this,"loaded",new Vre);j(this,"_src");j(this,"srcCount",0);j(this,"_onLoad");j(this,"widthSet");j(this,"heightSet");j(this,"depthSet");j(this,"_boxVisible");j(this,"_outline");j(this,"_bloom");j(this,"_reflection");j(this,"managerSet");this.outerObject3d.add(this.loadedGroup)}get src(){return this._src}set src(t){if(this._src===t)return;this._src=t;const r=++this.srcCount;this.loaded.done&&this.loadedGroup.clear(),t&&this.load(t).then(i=>{if(r!==this.srcCount||this.done)return;const s=this.resolveLoaded(i);this.loadedGroup.add(s),this.loaded.resolve(s),this.object3d.visible=!!this._boxVisible})}get onLoad(){return this._onLoad}set onLoad(t){this._onLoad=t,this.cancelHandle("onLoad",t&&(()=>this.loaded.then(t)))}get width(){return super.width}set width(t){super.width=t,this.widthSet=!0}get height(){return super.height}set height(t){super.height=t,this.heightSet=!0}get depth(){return super.depth}set depth(t){super.depth=t,this.depthSet=!0}get innerRotationX(){return super.innerRotationX}set innerRotationX(t){super.innerRotationX=t,this.loadedGroup.rotation.x=this.object3d.rotation.x}get innerRotationY(){return super.innerRotationY}set innerRotationY(t){super.innerRotationY=t,this.loadedGroup.rotation.y=this.object3d.rotation.y}get innerRotationZ(){return super.innerRotationZ}set innerRotationZ(t){super.innerRotationZ=t,this.loadedGroup.rotation.z=this.object3d.rotation.z}get innerX(){return super.innerX}set innerX(t){super.innerX=t,this.loadedGroup.position.x=this.object3d.position.x}get innerY(){return super.innerY}set innerY(t){super.innerY=t,this.loadedGroup.position.y=this.object3d.position.y}get innerZ(){return super.innerZ}set innerZ(t){super.innerZ=t,this.loadedGroup.position.z=this.object3d.position.z}get innerVisible(){return this.loadedGroup.visible}set innerVisible(t){this.loadedGroup.visible=t}get frustumCulled(){return this.outerObject3d.frustumCulled}set frustumCulled(t){this.outerObject3d.frustumCulled!==t&&(this.outerObject3d.frustumCulled=t,this.cancelHandle("frustumCulled",()=>this.loaded.then(()=>{super.frustumCulled=t})))}get physics(){var t;return(t=this._physics)!=null?t:!1}set physics(t){if(this._physics===t)return;this._physics=t;const r=this.cancelHandle("physics",()=>this.loaded.then(()=>{this.initPhysics(t,r)}))}get boxVisible(){var t;return(t=this._boxVisible)!=null?t:this.object3d.visible}set boxVisible(t){this._boxVisible=t,this.object3d.visible=t}get outline(){return!!this._outline}set outline(t){this._outline!==t&&(this._outline=t,this.cancelHandle("outline",()=>this.loaded.then(r=>{if(!!t)return CB(r),()=>{AB(r)}})))}get bloom(){return!!this._bloom}set bloom(t){this._bloom!==t&&(this._bloom=t,this.cancelHandle("bloom",()=>this.loaded.then(r=>{if(!!t)return vB(r),()=>{yB(r)}})))}get reflection(){return!!this._reflection}set reflection(t){this._reflection!==t&&(this._reflection=t,this.cancelHandle("reflection",()=>this.loaded.then(r=>{if(!!t)return bB(r),()=>{wB(r)}})))}addToRaycastSet(t){return this.loaded.then(r=>(this.managerSet||(this.managerSet=!0,r.traverse(i=>{var s,o;return(o=(s=i.userData).manager)!=null?o:s.manager=this})),t.add(r),()=>{t.delete(r)}))}refreshFactors(){this.cancelHandle("refreshFactors",()=>this.loaded.then(()=>super.refreshFactors()))}}function Gre(n){const e=new Map,t=new Map,r=n.clone();return GB(n,r,function(i,s){e.set(s,i),t.set(i,s)}),r.traverse(function(i){if(!i.isSkinnedMesh)return;const s=i,o=e.get(i),a=o.skeleton.bones;s.skeleton=o.skeleton.clone(),s.bindMatrix.copy(o.bindMatrix),s.skeleton.bones=a.map(function(u){return t.get(u)}),s.bind(s.skeleton,s.bindMatrix)}),r}function GB(n,e,t){t(n,e);for(let r=0;r<n.children.length;r++)GB(n.children[r],e.children[r],t)}const jB=new WeakSet;var Sae=(n,e,t=n.animations)=>{const r=e?n.clone():Gre(n);return!e&&jB.add(r),r.animations=t,r};xt(()=>{const n=Us();if(!(n instanceof dT)||tt()!==Er)return;const e=n.loadedGroup.children[0];if(!jB.has(e))return;const t=new HO(e);return nt.add(t),()=>{nt.remove(t)}},[Us,tt]);const[jre,Qu]=Ie(!1),[Mae,Xre]=Ie(!0),pI={type:"change"},kw={type:"start"},mI={type:"end"};class qre extends Ql{constructor(e,t){super(),t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new B,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Ic.ROTATE,MIDDLE:Ic.DOLLY,RIGHT:Ic.PAN},this.touches={ONE:Lc.ROTATE,TWO:Lc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(F){F.addEventListener("keydown",_t),this._domElementKeyEvents=F},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(pI),r.update(),s=i.NONE},this.update=function(){const F=new B,Me=new $n().setFromUnitVectors(e.up,new B(0,1,0)),Xe=Me.clone().invert(),Pe=new B,X=new $n,Ae=2*Math.PI;return function(){const at=r.object.position;F.copy(at).sub(r.target),F.applyQuaternion(Me),a.setFromVector3(F),r.autoRotate&&s===i.NONE&&R(A()),r.enableDamping?(a.theta+=u.theta*r.dampingFactor,a.phi+=u.phi*r.dampingFactor):(a.theta+=u.theta,a.phi+=u.phi);let Oe=r.minAzimuthAngle,Qe=r.maxAzimuthAngle;return isFinite(Oe)&&isFinite(Qe)&&(Oe<-Math.PI?Oe+=Ae:Oe>Math.PI&&(Oe-=Ae),Qe<-Math.PI?Qe+=Ae:Qe>Math.PI&&(Qe-=Ae),Oe<=Qe?a.theta=Math.max(Oe,Math.min(Qe,a.theta)):a.theta=a.theta>(Oe+Qe)/2?Math.max(Oe,a.theta):Math.min(Qe,a.theta)),a.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(r.minDistance,Math.min(r.maxDistance,a.radius)),r.enableDamping===!0?r.target.addScaledVector(f,r.dampingFactor):r.target.add(f),F.setFromSpherical(a),F.applyQuaternion(Xe),at.copy(r.target).add(F),r.object.lookAt(r.target),r.enableDamping===!0?(u.theta*=1-r.dampingFactor,u.phi*=1-r.dampingFactor,f.multiplyScalar(1-r.dampingFactor)):(u.set(0,0,0),f.set(0,0,0)),c=1,h||Pe.distanceToSquared(r.object.position)>o||8*(1-X.dot(r.object.quaternion))>o?(r.dispatchEvent(pI),Pe.copy(r.object.position),X.copy(r.object.quaternion),h=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",de),r.domElement.removeEventListener("pointerdown",we),r.domElement.removeEventListener("pointercancel",qe),r.domElement.removeEventListener("wheel",kt),r.domElement.removeEventListener("pointermove",We),r.domElement.removeEventListener("pointerup",Le),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",_t)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=i.NONE;const o=1e-6,a=new ND,u=new ND;let c=1;const f=new B;let h=!1;const p=new ae,m=new ae,v=new ae,y=new ae,x=new ae,w=new ae,b=new ae,_=new ae,S=new ae,M=[],C={};function A(){return 2*Math.PI/60/60*r.autoRotateSpeed}function T(){return Math.pow(.95,r.zoomSpeed)}function R(F){u.theta-=F}function D(F){u.phi-=F}const O=function(){const F=new B;return function(Xe,Pe){F.setFromMatrixColumn(Pe,0),F.multiplyScalar(-Xe),f.add(F)}}(),Y=function(){const F=new B;return function(Xe,Pe){r.screenSpacePanning===!0?F.setFromMatrixColumn(Pe,1):(F.setFromMatrixColumn(Pe,0),F.crossVectors(r.object.up,F)),F.multiplyScalar(Xe),f.add(F)}}(),ie=function(){const F=new B;return function(Xe,Pe){const X=r.domElement;if(r.object.isPerspectiveCamera){const Ae=r.object.position;F.copy(Ae).sub(r.target);let Ce=F.length();Ce*=Math.tan(r.object.fov/2*Math.PI/180),O(2*Xe*Ce/X.clientHeight,r.object.matrix),Y(2*Pe*Ce/X.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(O(Xe*(r.object.right-r.object.left)/r.object.zoom/X.clientWidth,r.object.matrix),Y(Pe*(r.object.top-r.object.bottom)/r.object.zoom/X.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function U(F){r.object.isPerspectiveCamera?c/=F:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*F)),r.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function G(F){r.object.isPerspectiveCamera?c*=F:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/F)),r.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Z(F){p.set(F.clientX,F.clientY)}function te(F){b.set(F.clientX,F.clientY)}function V(F){y.set(F.clientX,F.clientY)}function K(F){m.set(F.clientX,F.clientY),v.subVectors(m,p).multiplyScalar(r.rotateSpeed);const Me=r.domElement;R(2*Math.PI*v.x/Me.clientHeight),D(2*Math.PI*v.y/Me.clientHeight),p.copy(m),r.update()}function $(F){_.set(F.clientX,F.clientY),S.subVectors(_,b),S.y>0?U(T()):S.y<0&&G(T()),b.copy(_),r.update()}function re(F){x.set(F.clientX,F.clientY),w.subVectors(x,y).multiplyScalar(r.panSpeed),ie(w.x,w.y),y.copy(x),r.update()}function le(F){F.deltaY<0?G(T()):F.deltaY>0&&U(T()),r.update()}function be(F){let Me=!1;switch(F.code){case r.keys.UP:ie(0,r.keyPanSpeed),Me=!0;break;case r.keys.BOTTOM:ie(0,-r.keyPanSpeed),Me=!0;break;case r.keys.LEFT:ie(r.keyPanSpeed,0),Me=!0;break;case r.keys.RIGHT:ie(-r.keyPanSpeed,0),Me=!0;break}Me&&(F.preventDefault(),r.update())}function Te(){if(M.length===1)p.set(M[0].pageX,M[0].pageY);else{const F=.5*(M[0].pageX+M[1].pageX),Me=.5*(M[0].pageY+M[1].pageY);p.set(F,Me)}}function ke(){if(M.length===1)y.set(M[0].pageX,M[0].pageY);else{const F=.5*(M[0].pageX+M[1].pageX),Me=.5*(M[0].pageY+M[1].pageY);y.set(F,Me)}}function ue(){const F=M[0].pageX-M[1].pageX,Me=M[0].pageY-M[1].pageY,Xe=Math.sqrt(F*F+Me*Me);b.set(0,Xe)}function gt(){r.enableZoom&&ue(),r.enablePan&&ke()}function Ve(){r.enableZoom&&ue(),r.enableRotate&&Te()}function Ze(F){if(M.length==1)m.set(F.pageX,F.pageY);else{const Xe=Je(F),Pe=.5*(F.pageX+Xe.x),X=.5*(F.pageY+Xe.y);m.set(Pe,X)}v.subVectors(m,p).multiplyScalar(r.rotateSpeed);const Me=r.domElement;R(2*Math.PI*v.x/Me.clientHeight),D(2*Math.PI*v.y/Me.clientHeight),p.copy(m)}function Se(F){if(M.length===1)x.set(F.pageX,F.pageY);else{const Me=Je(F),Xe=.5*(F.pageX+Me.x),Pe=.5*(F.pageY+Me.y);x.set(Xe,Pe)}w.subVectors(x,y).multiplyScalar(r.panSpeed),ie(w.x,w.y),y.copy(x)}function st(F){const Me=Je(F),Xe=F.pageX-Me.x,Pe=F.pageY-Me.y,X=Math.sqrt(Xe*Xe+Pe*Pe);_.set(0,X),S.set(0,Math.pow(_.y/b.y,r.zoomSpeed)),U(S.y),b.copy(_)}function pe(F){r.enableZoom&&st(F),r.enablePan&&Se(F)}function he(F){r.enableZoom&&st(F),r.enableRotate&&Ze(F)}function we(F){r.enabled!==!1&&(M.length===0&&(r.domElement.setPointerCapture(F.pointerId),r.domElement.addEventListener("pointermove",We),r.domElement.addEventListener("pointerup",Le)),_e(F),F.pointerType==="touch"?H(F):ot(F))}function We(F){r.enabled!==!1&&(F.pointerType==="touch"?N(F):rt(F))}function Le(F){Ne(F),M.length===0&&(r.domElement.releasePointerCapture(F.pointerId),r.domElement.removeEventListener("pointermove",We),r.domElement.removeEventListener("pointerup",Le)),r.dispatchEvent(mI),s=i.NONE}function qe(F){Ne(F)}function ot(F){let Me;switch(F.button){case 0:Me=r.mouseButtons.LEFT;break;case 1:Me=r.mouseButtons.MIDDLE;break;case 2:Me=r.mouseButtons.RIGHT;break;default:Me=-1}switch(Me){case Ic.DOLLY:if(r.enableZoom===!1)return;te(F),s=i.DOLLY;break;case Ic.ROTATE:if(F.ctrlKey||F.metaKey||F.shiftKey){if(r.enablePan===!1)return;V(F),s=i.PAN}else{if(r.enableRotate===!1)return;Z(F),s=i.ROTATE}break;case Ic.PAN:if(F.ctrlKey||F.metaKey||F.shiftKey){if(r.enableRotate===!1)return;Z(F),s=i.ROTATE}else{if(r.enablePan===!1)return;V(F),s=i.PAN}break;default:s=i.NONE}s!==i.NONE&&r.dispatchEvent(kw)}function rt(F){if(r.enabled!==!1)switch(s){case i.ROTATE:if(r.enableRotate===!1)return;K(F);break;case i.DOLLY:if(r.enableZoom===!1)return;$(F);break;case i.PAN:if(r.enablePan===!1)return;re(F);break}}function kt(F){r.enabled===!1||r.enableZoom===!1||s!==i.NONE||(F.preventDefault(),r.dispatchEvent(kw),le(F),r.dispatchEvent(mI))}function _t(F){r.enabled===!1||r.enablePan===!1||be(F)}function H(F){switch(Be(F),M.length){case 1:switch(r.touches.ONE){case Lc.ROTATE:if(r.enableRotate===!1)return;Te(),s=i.TOUCH_ROTATE;break;case Lc.PAN:if(r.enablePan===!1)return;ke(),s=i.TOUCH_PAN;break;default:s=i.NONE}break;case 2:switch(r.touches.TWO){case Lc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;gt(),s=i.TOUCH_DOLLY_PAN;break;case Lc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ve(),s=i.TOUCH_DOLLY_ROTATE;break;default:s=i.NONE}break;default:s=i.NONE}s!==i.NONE&&r.dispatchEvent(kw)}function N(F){switch(Be(F),s){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ze(F),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;Se(F),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;pe(F),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;he(F),r.update();break;default:s=i.NONE}}function de(F){r.enabled!==!1&&F.preventDefault()}function _e(F){M.push(F)}function Ne(F){delete C[F.pointerId];for(let Me=0;Me<M.length;Me++)if(M[Me].pointerId==F.pointerId){M.splice(Me,1);return}}function Be(F){let Me=C[F.pointerId];Me===void 0&&(Me=new ae,C[F.pointerId]=Me),Me.set(F.pageX,F.pageY)}function Je(F){const Me=F.pointerId===M[0].pointerId?M[1]:M[0];return C[Me.pointerId]}r.domElement.addEventListener("contextmenu",de),r.domElement.addEventListener("pointerdown",we),r.domElement.addEventListener("pointercancel",qe),r.domElement.addEventListener("wheel",kt,{passive:!1}),this.update()}}const[Tv,bx]=Ie({}),wx=!1,[Kre,gI]=Ie(wx);xt(()=>{var n;Kre((n=tt().userData.bokeh)!=null?n:wx)},[tt,bx]);const Sx=.025,[Yre,Zre]=Ie(Sx);xt(()=>{var n;Yre((n=tt().userData.bokehAperture)!=null?n:Sx)},[tt,bx]);const Mx=1,[Jre,Qre]=Ie(Mx);xt(()=>{var n;Jre((n=tt().userData.bokehFocus)!=null?n:Mx)},[tt,bx]);const Ex=.01,[$re,eie]=Ie(Ex);xt(()=>{var n;$re((n=tt().userData.bokehMaxBlur)!=null?n:Ex)},[tt,bx]);const[XB,qB]=Ie([]),tie=vf(XB,qB),nie=yf(XB,qB),rie={...Df,...yx},iie={...If,...xx,scaleZ:0,depth:0};class Nd extends Pf{constructor(){const t=new ox({transparent:!0});super(new iO(t));j(this,"material");this.material=t}dispose(){return this.done?this:(super.dispose(),this.material.dispose(),this)}get depth(){return 0}set depth(t){}get scaleZ(){return 0}set scaleZ(t){}}j(Nd,"componentName","sprite"),j(Nd,"defaults",iie),j(Nd,"schema",rie);qo(Nd,[_x]);var sie=()=>{const n=new Nd;return n.texture="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAABnNJREFUaEPtWVmoVlUU/r5zNItModEGQinLMkqbyDLqoR6K0gZMEsxIkh6iEYSEZiR9iDTyoZEkqeylsoFeKmkwKOhGRaE5VIo0kVOIej37i3XY62f7e+//n//e44DcA//DvXuftde3hm+tvQ5xiDzcVzgk5QBMvno4w/8fSPa03rFatQORZDJJMlTRRlJWdW8rebUCSZWSdHUI4SoAx0XPmB5mfTtzW5ZlKwAsNY+Y90gWVYD3tqc2IOYJV0rSGwCmVFCsi+Qkkhv665k6gZQhEkJ4G8ANALoBDG4BZieAIQB+JjmO5C43RgUD7LWlFiAeGpKuk/QegF0ADgNglv4IwKB4sp23yxQHcBGAHQAOJ3kfyYWSBpHcfSCBDCbZHUJ4B8BkV1DSk3meP9KsmKTxkr4FYHlh7Laa5BkxNMsQ7RTMXh6xWAVgPxfWTqglareksZJ+iMlchhXJOSSfkmTesf9Z+BWSxkj6Ke41D5gnHiI5L9K2E0MznpIRTbdmctgDSF/ZQ9JwSR8AuCxa2RTIJb2eZdl0AEdEwxiQ/yTdImkpAKNoV844expJI4q2T6R5e6c0dAOIs4akU41xQgjnkTzWYjihzd4OOBfAMVEx82b6/BVDLfXyCTGHfJ/Tsv1tIbcpRkXz+k5JG7Mse5+kkQqcIEogSbLeFKnTQqHTx6zbDCJVsJ08D+FKBCRpSZ7n0xtAEv4/WtKvAI6KrGNKVRIaAaR7DZT9nK2aQfi6tzHpuq21yktbs5/l4N0kF5Vs55QnaaqkNyvwfzvLlsmbbFoHYCOALQCOB3AKgBHJujNXO7npur/TlWXZ+aUzJJXUKelhSU8AaFak6gFp4q4j+SyAjwGstGLXCHZpGIBxIYSpJO+K3uz0TA/ZP0iONgJpeKQoimesMPURSCM/JM3PsuxRkla5y2SMHrJQtW7XaLh8JI2W9AKAKzs814FsJjmK5OYUyAKS93YosNQn4fYbSb4blTS26+6pGbRwNnp2sEVRvEzyjqRAtouCfQKk9AbJ6SSXxOJnBau0vKRLAFwAYDiAfwF8TdIo1taGOJikR6sSZg5kC8mRdXikPFTSK3mez7R8i1V3d2xDFgGY0IN5l1t+kFzpYCQNlbQagNWYnqg8FVMrEBe2neRZJH83b8Qu1ptHO9yp1hXxFmgnyQkkuyRZ47hD0ixJz1cIsVqBuDcW53l+ewJilKSVsYXvrZX37ng9ybEkt3leRa+c3MYrtQIpuZzkZJLLPESKoniV5IwK9agE4x2ye6UoipdIzmxDOrUBcUE7Yvu9Plp0mKRfYuFr1554HqwhOcY7Wkl3RkpulfS1AXElNpA8k+T2COQcSd8n05NWLY4rY7kyhqS1R8ZkkyQZhbeq+LUDsQpuie7Fb5ykrnZFwOthBGw3xrNJrolArpH04f4C0piGxBbhz6jECEmrYuPZLrR8/W+Sp5PcGmXcJmnx/gLSqOgkLyX5lfdsIYRPK7YcJaPZtSHP82kJWcy1m+X+SnYD4vT7eJ7njyW1wGuIrXvNaI62RsEjOZ7kd96FhxCs6o/fn/Trylh3a7XA7uLloK0oiqdJPhC1L+/qCQHYe+WYiOT9JBck1X2ipM8r3EhrS3a3sA8O/ILT6J0kzZY0r5fLmSX4gySfi8MOm5wUIYTPAFze38relzY+bVMsRFaZdePsykaho0MIs0hOBHAkgK2SlmdZ9iLJ3+LExLxowzkDPr8CiLTjrrWNT2dTF5PcFJtHs3J6odpjXmU5BcBqiAGeIumtJlpuxeItQ2s+ydl9uI80Et8miyRvJflFpFLLDRtkGFjLjfKO7nUn7pkjaW4HIFKP/EPyNKPu9M5+j6SFfQRiwhuV2CYcWZZZqJb3juZHkoXZtZKMZm18mipXpZ460ayNXUG3ASmZRtKFkr6JQHqablQ9oDFwA/CjpBVZltkAYlMI4SQANhq9AsCJUaAZoJOJjb1WDsAlvZbnuRXQQT7XKuM3hLAMwPWR/tqNZVoBc+XaTePt/OZZWBWD2VXZ8stam7XlcDHGqX/bGBpCsPvzzTGeqwg9EHusY55B8kuPqL1GphHYSAA2BjX3G7tUHdTta1D2GWItgE/s80M6q24eYnf0/W9fa92Sf5s+1/Voaa+2B5EnUkxWQ/b6GnywhEy/nTsApN8mrFnAgEdqNmi/xQ14pN8mrFnAgEdqNmi/xR0yHvkfVPFBbg9BWmoAAAAASUVORK5CYII=",go.delete(n),n.scale=.5,n};class KB extends Ga{initCamera(){this.camera.userData.manager=this,this.camera.rotation.y=Math.PI,tie(this.camera),this.then(()=>{this.active&&WD(void 0),HD(this.camera),nie(this.camera)}),this.createEffect(()=>{if(tt()!==Er||tt()===this.camera)return;const e=new jte(this.camera);nt.add(e);const t=sie();e.add(t.outerObject3d);const r=$E(({target:i})=>{i===t&&Oo(this)});return()=>{e.dispose(),nt.remove(e),t.dispose(),r.cancel()}},[tt])}get fov(){return this.camera.fov}set fov(e){var t,r;this.camera.fov=e,(r=(t=this.camera).updateProjectionMatrix)==null||r.call(t)}get zoom(){return this.camera.zoom}set zoom(e){var t,r;this.camera.zoom=e,(r=(t=this.camera).updateProjectionMatrix)==null||r.call(t)}get near(){return this.camera.near}set near(e){var t,r;this.camera.near=e,(r=(t=this.camera).updateProjectionMatrix)==null||r.call(t)}get far(){return this.camera.far}set far(e){var t,r;this.camera.far=e,(r=(t=this.camera).updateProjectionMatrix)==null||r.call(t)}activate(){const e=Rp(ef());e!==this.camera&&(HD(this.camera),qte(this.camera),WD(e))}get active(){return Rp(ef())===this.camera}set active(e){e&&this.activate()}get transition(){return this.camera.userData.transition}set transition(e){this.camera.userData.transition=e}get bokeh(){var e;return(e=this.camera.userData.bokeh)!=null?e:wx}set bokeh(e){this.camera.userData.bokeh=e,Tv({})}get bokehFocus(){var e;return(e=this.camera.userData.bokehFocus)!=null?e:Mx}set bokehFocus(e){this.camera.userData.bokehFocus=e,Tv({})}get bokehMaxBlur(){var e;return(e=this.camera.userData.bokehMaxBlur)!=null?e:Ex}set bokehMaxBlur(e){this.camera.userData.bokehMaxBlur=e,Tv({})}get bokehAperture(){var e;return(e=this.camera.userData.bokehAperture)!=null?e:Sx}set bokehAperture(e){this.camera.userData.bokehAperture=e,Tv({})}}const YB={fov:Number,zoom:Number,near:Number,far:Number,active:Boolean,transition:[Boolean,Number],bokeh:Boolean,bokehFocus:Number,bokehMaxBlur:Number,bokehAperture:Number,minPolarAngle:Number,maxPolarAngle:Number},ZB={fov:75,zoom:1,near:hm,far:pm,active:!1,transition:void 0,bokeh:wx,bokehFocus:Mx,bokehMaxBlur:Ex,bokehAperture:Sx,minPolarAngle:WE,maxPolarAngle:VE},oie={...zB,...YB,targetX:Number,targetY:Number,targetZ:Number,targetId:String,enabled:Boolean,enableDamping:Boolean,enablePan:Boolean,enableZoom:Boolean,autoRotate:Boolean,autoRotateSpeed:Number,minAzimuthAngle:Number,maxAzimuthAngle:Number,azimuthAngle:Number,polarAngle:Number,distance:Number},aie={...UB,...ZB,targetX:0,targetY:0,targetZ:0,targetId:void 0,z:500,enabled:!0,enableDamping:!1,enablePan:!1,enableZoom:!1,autoRotate:!1,autoRotateSpeed:2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,azimuthAngle:0,polarAngle:0,distance:500},[gm,fT]=Or();window.addEventListener("blur",()=>gm());window.addEventListener("focus",()=>gm());document.addEventListener("visibilitychange",()=>gm());const Zh=new Set;fT(()=>Zh.clear());let IM=!1;document.addEventListener("keydown",n=>{(n.key==="Shift"||n.key==="Meta")&&Zh.add(n.key),Zh.has("Meta")&&Zh.has("Shift")&&(gm(),IM=!0)});document.addEventListener("keyup",n=>{(n.key==="Shift"||n.key==="Meta")&&Zh.delete(n.key)});document.addEventListener("mousedown",()=>{IM&&(IM=!1,gm())});class Jh extends sT{constructor(t=new Sr(75,1,hm,pm)){super(t);j(this,"camera");j(this,"controls");j(this,"_targetX");j(this,"_targetY");j(this,"_targetZ");j(this,"targetState",new Cn(void 0));j(this,"targetIdState",new Cn(void 0));j(this,"enableZoomState",new Cn(!1));j(this,"enableFlyState",new Cn(!1));j(this,"enabledState",new Cn(!0));j(this,"_minPolarAngle",WE*xn);j(this,"_maxPolarAngle",VE*xn);j(this,"_minAzimuthAngle",-1/0);j(this,"_maxAzimuthAngle",1/0);this.camera=t,this.initCamera(),this.createEffect(()=>{const i=this.targetState.get();if(console.log(i),!i){const a=Wn(()=>this.controls.update());return()=>{a.cancel()}}const s=Wn(()=>{this.controls.target.copy(mm(Af(i))),this.controls.update()}),o=Hp(()=>i.parent!==this&&this.targetState.set(void 0));return()=>{s.cancel,o.cancel()}},[this.targetState.get]),this.createEffect(()=>{const i=this.targetIdState.get();if(!i)return;const s=new un;return setTimeout(()=>{if(s.done)return;const o=()=>{var u;const[a]=(u=Ld.get(i))!=null?u:[void 0];return a&&this.targetState.set(a),a};o()||s.watch(Hp(()=>setTimeout(()=>o()&&s.cancel())))}),()=>{s.cancel()}},[this.targetIdState.get]);const r=this.controls=new qre(t,lr);r.enabled=!1,r.enablePan=!1,r.enableZoom=!1,r.minPolarAngle=this._minPolarAngle,r.maxPolarAngle=this._maxPolarAngle,r.minAzimuthAngle=this._minAzimuthAngle,r.maxAzimuthAngle=this._maxAzimuthAngle,t.position.z=5,r.update(),this.createEffect(()=>{if(Gl()||tt()!==t||!this.enabledState.get())return;const i=new un;if(r.enabled=!0,this.enableZoomState.get()){const s=o=>{o.preventDefault();const a=t.getWorldDirection(Kt);let u=t.position.clone().add(a.clone().multiplyScalar(-o.deltaY*yt));const c=t.worldToLocal(u.clone()),f=t.worldToLocal(r.target.clone());c.z-f.z<=.1&&(u=r.target.clone().add(a.multiplyScalar(-.1))),t.position.copy(u)};lr.addEventListener("wheel",s),i.then(()=>lr.removeEventListener("wheel",s))}if(this.enableFlyState.get()){const s=new Set,o=h=>{const p=t.getWorldDirection(Kt);t.position.add(p.clone().multiplyScalar(h*yt)),r.target.copy(t.position).add(p)},a=h=>{Kt.setFromMatrixColumn(this.outerObject3d.matrix,0),t.position.addScaledVector(Kt,h*yt),r.target.addScaledVector(Kt,h*yt)},u=h=>{const p=h*yt;t.position.y+=p,r.target.y+=p};i.watch(Wn(()=>{s.has("w")?o(s.has("Shift")?50:10):s.has("s")&&o(s.has("Shift")?-50:-10),s.has("a")?a(-10):s.has("d")&&a(10),s.has("ArrowDown")?u(-10):s.has("ArrowUp")&&u(10)}));const c=h=>{s.add(h.key.length===1?h.key.toLowerCase():h.key)},f=h=>{s.delete(h.key.length===1?h.key.toLowerCase():h.key)};document.addEventListener("keydown",c),document.addEventListener("keyup",f),i.watch(fT(()=>s.clear())),i.then(()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",f)})}return()=>{i.cancel(),r.enabled=!1}},[tt,Gl,this.enableZoomState.get,this.enableFlyState.get,this.enabledState.get]),nt.add(t),this.then(()=>{r.dispose(),nt.remove(t)})}get targetX(){var t;return(t=this._targetX)!=null?t:this._targetX=0}set targetX(t){this._targetX=t,this.controls.target.x=t*yt,this.controls.update()}get targetY(){var t;return(t=this._targetY)!=null?t:this._targetY=0}set targetY(t){this._targetY=t,this.controls.target.y=t*yt,this.controls.update()}get targetZ(){var t;return(t=this._targetZ)!=null?t:this._targetZ=0}set targetZ(t){this._targetZ=t,this.controls.target.z=t*yt,this.controls.update()}append(t){var r;if(this.targetState.get()){super.append(t);return}this._append(t),(r=this.outerObject3d.parent)==null||r.add(t.outerObject3d),this.targetState.set(t)}attach(t){var r;if(this.targetState.get()){super.attach(t);return}this._append(t),(r=this.outerObject3d.parent)==null||r.attach(t.outerObject3d),this.targetState.set(t)}get targetId(){return this.targetIdState.get()}set targetId(t){this.targetIdState.set(t)}get x(){return this.camera.position.x*ln}set x(t){this.camera.position.x=t*yt}get y(){return this.camera.position.y*ln}set y(t){this.camera.position.y=t*yt}get z(){return this.camera.position.z*ln}set z(t){this.camera.position.z=t*yt}get rotationX(){return this.camera.rotation.x*Ir}get rotationY(){return this.camera.rotation.y*Ir}get rotationZ(){return this.camera.rotation.z*Ir}get enableDamping(){return this.controls.enableDamping}set enableDamping(t){this.controls.enableDamping=t}get enablePan(){return this.controls.enablePan}set enablePan(t){this.controls.enablePan=t}get enableZoom(){return this.enableZoomState.get()}set enableZoom(t){this.enableZoomState.set(t)}get enableFly(){return this.enableFlyState.get()}set enableFly(t){this.enableFlyState.set(t)}get enabled(){return this.enabledState.get()}set enabled(t){this.enabledState.set(t)}get autoRotate(){return this.controls.autoRotate}set autoRotate(t){this.controls.autoRotate=t}get autoRotateSpeed(){return this.controls.autoRotateSpeed}set autoRotateSpeed(t){this.controls.autoRotateSpeed=t}get minPolarAngle(){return this._minPolarAngle*Ir}set minPolarAngle(t){this.controls.minPolarAngle=this._minPolarAngle=t*xn}get maxPolarAngle(){return this._maxPolarAngle*Ir}set maxPolarAngle(t){this.controls.maxPolarAngle=this._maxPolarAngle=t*xn}get minAzimuthAngle(){return this._minAzimuthAngle*Ir}set minAzimuthAngle(t){this.controls.minAzimuthAngle=this._minAzimuthAngle=t*xn}get maxAzimuthAngle(){return this._maxAzimuthAngle*Ir}set maxAzimuthAngle(t){this.controls.maxAzimuthAngle=this._maxAzimuthAngle=t*xn}get azimuthAngle(){return this.controls.getAzimuthalAngle()*Ir}set azimuthAngle(t){this.controls.minAzimuthAngle=this.controls.maxAzimuthAngle=t*xn,this.controls.update(),this.queueMicrotask(()=>{this.controls.minAzimuthAngle=this._minAzimuthAngle,this.controls.maxAzimuthAngle=this._maxAzimuthAngle})}get polarAngle(){return this.controls.getPolarAngle()*Ir}set polarAngle(t){this.controls.minPolarAngle=this.controls.maxPolarAngle=t*xn,this.controls.update(),this.queueMicrotask(()=>{this.controls.minPolarAngle=this._minPolarAngle,this.controls.maxPolarAngle=this._maxPolarAngle})}get distance(){return this.controls.getDistance()*ln}set distance(t){this.controls.minDistance=this.controls.maxDistance=t*yt,this.controls.update(),this.queueMicrotask(()=>{this.controls.minDistance=-1/0,this.controls.maxDistance=1/0})}}j(Jh,"componentName","orbitCamera"),j(Jh,"defaults",aie),j(Jh,"schema",oie);qo(Jh,[KB]);const[Eae,lie]=Or(),[vI,uie]=Ie(0),Vi=new Jh(Er);Vi.enablePan=!0;Vi.enableZoom=!0;Vi.enableFly=!0;Vi.enabled=!1;go.delete(Vi);lie(n=>{const e=n.getWorldPosition();Vi.targetX=e.x,Vi.targetY=e.y,Vi.targetZ=e.z});const{controls:JB}=Vi;Xre(n=>JB.screenSpacePanning=n);xt(()=>{if(!(!Qu()||tt()!==Er||Gl()))return Vi.enabled=!0,lr.style.cursor="grab",()=>{Vi.enabled=!1,lr.style.cursor="auto"}},[Qu,Gl,tt]);xt(()=>{if(!Qu())return;let n=!0;return queueMicrotask(()=>n&&(Vi.polarAngle=60)),()=>{n=!1,JB.reset(),Vi.polarAngle=90,Vi.azimuthAngle=0}},[Qu]);xt(()=>{if(tt()!==Er||Qu())return;const n=uie(e=>Er.position.z=e);return()=>{n.cancel()}},[tt,Qu]);const[yI,Tae]=Or(),[Cae,vy]=Ie("translate"),[Aae,xI]=Ie("world"),[Rae,_I]=Ie(null),cie=ic(async()=>{const{TransformControls:n}=await us(()=>import("./TransformControls.9daf9519.js"),[]),e=new n(tt(),lr);tt(r=>e.camera=r),e.enabled=!1;let t=!1;return e.addEventListener("dragging-changed",({value:r})=>{t=r,qne(t),yI(t?"start":"stop")}),e.addEventListener("change",()=>t&&yI("move")),e});xt(()=>{const n=Us(),e=vy(),t=xI(),r=_I();if(!n||tt()!==Er)return;const i=new un;return cie().then(s=>{if(e==="select"){s.enabled=!1;return}s.setMode(e),s.setSpace(t),s.setScaleSnap(r),s.setRotationSnap(r),s.setTranslationSnap(r),nt.add(s),s.attach(n.outerObject3d),s.enabled=!0,i.then(()=>{nt.remove(s),s.detach(),s.enabled=!1})}),()=>{i.cancel()}},[Us,vy,xI,_I,tt]);const[die,LM]=Ie(!1),[fie,kM]=Ie(10);xt(()=>{if(!LM())return;const n=kM(),e=new VO(n,n);return nt.add(e),()=>{nt.remove(e)}},[LM,kM]);const[Pae,yy]=Ie(void 0),[Dae,bI]=Ie(!1),_u=new Qn(new um(ds,ds,4,4),oB);xt(()=>{var r;if(!bI()||tt()!==Er)return;nt.add(_u);const[n,e]=(r=yy())!=null?r:wi();_u.scale.x=n*yt,_u.scale.y=e*yt;const t=Wn(()=>{_u.quaternion.copy(Er.quaternion),_u.position.copy(Er.position),_u.translateZ(-4.9)});return()=>{t.cancel(),nt.remove(_u)}},[bI,yy,wi,tt]);const[Iae,hie]=Ie({turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.5,inclination:.49,azimuth:.25});class vm extends Qn{constructor(){const e=vm.SkyShader,t=new Dt({name:"SkyShader",fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,uniforms:pr.clone(e.uniforms),side:ks,depthWrite:!1});super(new ac(1,1,1),t)}}vm.prototype.isSky=!0;vm.SkyShader={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new B},up:{value:new B(0,1,0)}},vertexShader:`
		uniform vec3 sunPosition;
		uniform float rayleigh;
		uniform float turbidity;
		uniform float mieCoefficient;
		uniform vec3 up;

		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		// constants for atmospheric scattering
		const float e = 2.71828182845904523536028747135266249775724709369995957;
		const float pi = 3.141592653589793238462643383279502884197169;

		// wavelength of used primaries, according to preetham
		const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
		// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
		// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
		const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

		// mie stuff
		// K coefficient for the primaries
		const float v = 4.0;
		const vec3 K = vec3( 0.686, 0.678, 0.666 );
		// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
		const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

		// earth shadow hack
		// cutoffAngle = pi / 1.95;
		const float cutoffAngle = 1.6110731556870734;
		const float steepness = 1.5;
		const float EE = 1000.0;

		float sunIntensity( float zenithAngleCos ) {
			zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
			return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
		}

		vec3 totalMie( float T ) {
			float c = ( 0.2 * T ) * 10E-18;
			return 0.434 * c * MieConst;
		}

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			gl_Position.z = gl_Position.w; // set z to camera.far

			vSunDirection = normalize( sunPosition );

			vSunE = sunIntensity( dot( vSunDirection, up ) );

			vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

			float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

			// extinction (absorbtion + out scattering)
			// rayleigh coefficients
			vBetaR = totalRayleigh * rayleighCoefficient;

			// mie coefficients
			vBetaM = totalMie( turbidity ) * mieCoefficient;

		}`,fragmentShader:`
		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		uniform float mieDirectionalG;
		uniform vec3 up;

		const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

		// constants for atmospheric scattering
		const float pi = 3.141592653589793238462643383279502884197169;

		const float n = 1.0003; // refractive index of air
		const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

		// optical length at zenith for molecules
		const float rayleighZenithLength = 8.4E3;
		const float mieZenithLength = 1.25E3;
		// 66 arc seconds -> degrees, and the cosine of that
		const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

		// 3.0 / ( 16.0 * pi )
		const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
		// 1.0 / ( 4.0 * pi )
		const float ONE_OVER_FOURPI = 0.07957747154594767;

		float rayleighPhase( float cosTheta ) {
			return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
		}

		float hgPhase( float cosTheta, float g ) {
			float g2 = pow( g, 2.0 );
			float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
			return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
		}

		void main() {

			vec3 direction = normalize( vWorldPosition - cameraPos );

			// optical length
			// cutoff angle at 90 to avoid singularity in next formula.
			float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
			float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
			float sR = rayleighZenithLength * inverse;
			float sM = mieZenithLength * inverse;

			// combined extinction factor
			vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

			// in scattering
			float cosTheta = dot( direction, vSunDirection );

			float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
			vec3 betaRTheta = vBetaR * rPhase;

			float mPhase = hgPhase( cosTheta, mieDirectionalG );
			vec3 betaMTheta = vBetaM * mPhase;

			vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
			Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

			// nightsky
			float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
			float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
			vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
			vec3 L0 = vec3( 0.1 ) * Fex;

			// composition + solar disc
			float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
			L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

			vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

			vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

			gl_FragColor = vec4( retColor, 1.0 );

			#include <tonemapping_fragment>
			#include <encodings_fragment>

		}`};const[Lae,pie]=Ie(!1),wI=ic(()=>{const n=new vm;return n.scale.setScalar(45e4),hie(e=>{const{uniforms:t}=n.material;t.turbidity.value=e.turbidity,t.rayleigh.value=e.rayleigh,t.mieCoefficient.value=e.mieCoefficient,t.mieDirectionalG.value=e.mieDirectionalG;const r=Math.PI*(e.inclination-.5),i=2*Math.PI*(e.azimuth-.5);Kt.x=Math.cos(i),Kt.y=Math.sin(i)*Math.sin(r),Kt.z=Math.sin(i)*Math.cos(r),t.sunPosition.value.copy(Kt)}),n});let SI=!1;pie(n=>{SI!==n&&(SI=n,n?nt.add(wI()):nt.remove(wI()))});const[Cv,kae]=Or(),[mie,MI]=Ie(!1),[gie,EI]=Ie(!1),[vie,TI]=Ie(!1),CI=(n,e)=>Math.abs(n*.5/Math.cos(e.fov*.6*xn));xt(()=>{var c;const[n,e]=(c=yy())!=null?c:wi(),[t,r,i]=lM(tt()),s={width:t,height:e-(n-t)*e/n},o={width:n-(e-r)*n/e,height:r},a=Math.min(t-s.width,r-s.height),u=Math.min(t-o.width,r-o.height);a>u?vI(CI(n/i,Er)*yt):vI(CI(e,Er)*yt)},[wi,yy,tt,tf]);const[yie,NM]=Ie(!1),[xie,xy]=Ie(!1),AI={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new De(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			vec3 luma = vec3( 0.299, 0.587, 0.114 );

			float v = dot( texel.xyz, luma );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class sf extends Yo{constructor(e,t,r,i){super(),this.strength=t!==void 0?t:1,this.radius=r,this.threshold=i,this.resolution=e!==void 0?new ae(e.x,e.y):new ae(256,256),this.clearColor=new De(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new Ht(s,o),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let h=0;h<this.nMips;h++){const p=new Ht(s,o);p.texture.name="UnrealBloomPass.h"+h,p.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(p);const m=new Ht(s,o);m.texture.name="UnrealBloomPass.v"+h,m.texture.generateMipmaps=!1,this.renderTargetsVertical.push(m),s=Math.round(s/2),o=Math.round(o/2)}AI===void 0&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader");const a=AI;this.highPassUniforms=pr.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Dt({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const u=[3,5,7,9,11];s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);for(let h=0;h<this.nMips;h++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(u[h])),this.separableBlurMaterials[h].uniforms.texSize.value=new ae(s,o),s=Math.round(s/2),o=Math.round(o/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const c=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=c,this.bloomTintColors=[new B(1,1,1),new B(1,1,1),new B(1,1,1),new B(1,1,1),new B(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,ls===void 0&&console.error("THREE.UnrealBloomPass relies on CopyShader");const f=ls;this.copyUniforms=pr.clone(f.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Dt({uniforms:this.copyUniforms,vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,blending:Q0,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new De,this.oldClearAlpha=1,this.basic=new Fa,this.fsQuad=new uc(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()}setSize(e,t){let r=Math.round(e/2),i=Math.round(t/2);this.renderTargetBright.setSize(r,i);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(r,i),this.renderTargetsVertical[s].setSize(r,i),this.separableBlurMaterials[s].uniforms.texSize.value=new ae(r,i),r=Math.round(r/2),i=Math.round(i/2)}render(e,t,r,i,s){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=r.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let u=0;u<this.nMips;u++)this.fsQuad.material=this.separableBlurMaterials[u],this.separableBlurMaterials[u].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[u].uniforms.direction.value=sf.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[u]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[u].uniforms.colorTexture.value=this.renderTargetsHorizontal[u].texture,this.separableBlurMaterials[u].uniforms.direction.value=sf.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[u]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[u];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}getSeperableBlurMaterial(e){return new Dt({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new ae(.5,.5)},direction:{value:new ae(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Dt({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}sf.BlurDirectionX=new ae(1,0);sf.BlurDirectionY=new ae(0,1);const[_ie,QB]=Ie(0),[bie,$B]=Ie(1.5),[wie,eF]=Ie(0),of=new sf(new ae,1.5,0,0);QB(n=>of.radius=n);$B(n=>of.strength=n);eF(n=>of.threshold=n);const RI={defines:{DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tColor:{value:null},tDepth:{value:null},focus:{value:1},aspect:{value:1},aperture:{value:.025},maxblur:{value:.01},nearClip:{value:1},farClip:{value:1e3}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		#include <common>

		varying vec2 vUv;

		uniform sampler2D tColor;
		uniform sampler2D tDepth;

		uniform float maxblur; // max blur amount
		uniform float aperture; // aperture - bigger values for shallower depth of field

		uniform float nearClip;
		uniform float farClip;

		uniform float focus;
		uniform float aspect;

		#include <packing>

		float getDepth( const in vec2 screenPosition ) {
			#if DEPTH_PACKING == 1
			return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );
			#else
			return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, nearClip, farClip );
			#else
			return orthographicDepthToViewZ( depth, nearClip, farClip );
			#endif
		}


		void main() {

			vec2 aspectcorrect = vec2( 1.0, aspect );

			float viewZ = getViewZ( getDepth( vUv ) );

			float factor = ( focus + viewZ ); // viewZ is <= 0, so this is a difference equation

			vec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );

			vec2 dofblur9 = dofblur * 0.9;
			vec2 dofblur7 = dofblur * 0.7;
			vec2 dofblur4 = dofblur * 0.4;

			vec4 col = vec4( 0.0 );

			col += texture2D( tColor, vUv.xy );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );

			col += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );

			col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );

			col += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );
			col += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );

			gl_FragColor = col / 41.0;
			gl_FragColor.a = 1.0;

		}`};class Sie extends Yo{constructor(e,t,r){super(),this.scene=e,this.camera=t;const i=r.focus!==void 0?r.focus:1,s=r.aspect!==void 0?r.aspect:t.aspect,o=r.aperture!==void 0?r.aperture:.025,a=r.maxblur!==void 0?r.maxblur:1,u=r.width||window.innerWidth||1,c=r.height||window.innerHeight||1;this.renderTargetDepth=new Ht(u,c,{minFilter:Ft,magFilter:Ft}),this.renderTargetDepth.texture.name="BokehPass.depth",this.materialDepth=new wf,this.materialDepth.depthPacking=$y,this.materialDepth.blending=$t,RI===void 0&&console.error("THREE.BokehPass relies on BokehShader");const f=RI,h=pr.clone(f.uniforms);h.tDepth.value=this.renderTargetDepth.texture,h.focus.value=i,h.aspect.value=s,h.aperture.value=o,h.maxblur.value=a,h.nearClip.value=t.near,h.farClip.value=t.far,this.materialBokeh=new Dt({defines:Object.assign({},f.defines),uniforms:h,vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}),this.uniforms=h,this.needsSwap=!1,this.fsQuad=new uc(this.materialBokeh),this._oldClearColor=new De}render(e,t,r){this.scene.overrideMaterial=this.materialDepth,e.getClearColor(this._oldClearColor);const i=e.getClearAlpha(),s=e.autoClear;e.autoClear=!1,e.setClearColor(16777215),e.setClearAlpha(1),e.setRenderTarget(this.renderTargetDepth),e.clear(),e.render(this.scene,this.camera),this.uniforms.tColor.value=r.texture,this.uniforms.nearClip.value=this.camera.near,this.uniforms.farClip.value=this.camera.far,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),e.clear(),this.fsQuad.render(e)),this.scene.overrideMaterial=null,e.setClearColor(this._oldClearColor),e.setClearAlpha(i),e.autoClear=s}}const hT=new Sie(nt,tt(),{});tt(n=>hT.camera=n);const pT=hT.uniforms;Qre(n=>pT.focus.value=n);Zre(n=>pT.aperture.value=n);eie(n=>pT.maxblur.value=n);class Mie extends Yo{constructor(e,t,r,i,s){super(),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=s!==void 0?s:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new De}render(e,t,r){const i=e.autoClear;e.autoClear=!1;let s,o;this.overrideMaterial!==void 0&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),s=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,s),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=o),e.autoClear=i}}const _y=new Mie(nt,tt());tt(n=>_y.camera=n);xt(()=>{const n=rf();if(!!n)return n.addPass(_y),n.addPass(of),()=>{n.removePass(_y),n.removePass(of)}},[rf]);const tF=new my(new Dt({uniforms:{baseTexture:{value:null},bloomTexture:{value:null}},vertexShader:`
            varying vec2 vUv;
            void main() {
                vUv = uv;
                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
            }
        `,fragmentShader:`
            uniform sampler2D baseTexture;
            uniform sampler2D bloomTexture;
            varying vec2 vUv;
            void main() {
                gl_FragColor = texture2D(baseTexture, vUv) + texture2D(bloomTexture, vUv);
            }
        `,defines:{}}),"baseTexture"),{uniforms:Eie}=tF;rf(n=>n&&(Eie.bloomTexture.value=n.renderTarget2.texture));const yh={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new ae(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new Ye},cameraInverseProjectionMatrix:{value:new Ye},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {
			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`

		#include <common>

		varying vec2 vUv;

		#if DIFFUSE_TEXTURE == 1
		uniform sampler2D tDiffuse;
		#endif

		uniform sampler2D tDepth;

		#if NORMAL_TEXTURE == 1
		uniform sampler2D tNormal;
		#endif

		uniform float cameraNear;
		uniform float cameraFar;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;

		uniform float scale;
		uniform float intensity;
		uniform float bias;
		uniform float kernelRadius;
		uniform float minResolution;
		uniform vec2 size;
		uniform float randomSeed;

		// RGBA depth

		#include <packing>

		vec4 getDefaultColor( const in vec2 screenPosition ) {
			#if DIFFUSE_TEXTURE == 1
			return texture2D( tDiffuse, vUv );
			#else
			return vec4( 1.0 );
			#endif
		}

		float getDepth( const in vec2 screenPosition ) {
			#if DEPTH_PACKING == 1
			return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );
			#else
			return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
			return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}

		vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {
			float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];
			vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );
			clipPosition *= clipW; // unprojection.

			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;
		}

		vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {
			#if NORMAL_TEXTURE == 1
			return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );
			#else
			return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );
			#endif
		}

		float scaleDividedByCameraFar;
		float minResolutionMultipliedByCameraFar;

		float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {
			vec3 viewDelta = sampleViewPosition - centerViewPosition;
			float viewDistance = length( viewDelta );
			float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;

			return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );
		}

		// moving costly divides into consts
		const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );
		const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );

		float getAmbientOcclusion( const in vec3 centerViewPosition ) {
			// precompute some variables require in getOcclusion.
			scaleDividedByCameraFar = scale / cameraFar;
			minResolutionMultipliedByCameraFar = minResolution * cameraFar;
			vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );

			// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/
			float angle = rand( vUv + randomSeed ) * PI2;
			vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;
			vec2 radiusStep = radius;

			float occlusionSum = 0.0;
			float weightSum = 0.0;

			for( int i = 0; i < NUM_SAMPLES; i ++ ) {
				vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;
				radius += radiusStep;
				angle += ANGLE_STEP;

				float sampleDepth = getDepth( sampleUv );
				if( sampleDepth >= ( 1.0 - EPSILON ) ) {
					continue;
				}

				float sampleViewZ = getViewZ( sampleDepth );
				vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );
				occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );
				weightSum += 1.0;
			}

			if( weightSum == 0.0 ) discard;

			return occlusionSum * ( intensity / weightSum );
		}

		void main() {
			float centerDepth = getDepth( vUv );
			if( centerDepth >= ( 1.0 - EPSILON ) ) {
				discard;
			}

			float centerViewZ = getViewZ( centerDepth );
			vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );

			float ambientOcclusion = getAmbientOcclusion( viewPosition );

			gl_FragColor = getDefaultColor( vUv );
			gl_FragColor.xyz *=  1.0 - ambientOcclusion;
		}`},ha={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new ae(512,512)},sampleUvOffsets:{value:[new ae(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:`

		#include <common>

		uniform vec2 size;

		varying vec2 vUv;
		varying vec2 vInvSize;

		void main() {
			vUv = uv;
			vInvSize = 1.0 / size;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
		}`,fragmentShader:`

		#include <common>
		#include <packing>

		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;

		uniform float cameraNear;
		uniform float cameraFar;
		uniform float depthCutoff;

		uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];
		uniform float sampleWeights[ KERNEL_RADIUS + 1 ];

		varying vec2 vUv;
		varying vec2 vInvSize;

		float getDepth( const in vec2 screenPosition ) {
			#if DEPTH_PACKING == 1
			return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );
			#else
			return texture2D( tDepth, screenPosition ).x;
			#endif
		}

		float getViewZ( const in float depth ) {
			#if PERSPECTIVE_CAMERA == 1
			return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
			return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}

		void main() {
			float depth = getDepth( vUv );
			if( depth >= ( 1.0 - EPSILON ) ) {
				discard;
			}

			float centerViewZ = -getViewZ( depth );
			bool rBreak = false, lBreak = false;

			float weightSum = sampleWeights[0];
			vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;

			for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {

				float sampleWeight = sampleWeights[i];
				vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;

				vec2 sampleUv = vUv + sampleUvOffset;
				float viewZ = -getViewZ( getDepth( sampleUv ) );

				if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;

				if( ! rBreak ) {
					diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;
					weightSum += sampleWeight;
				}

				sampleUv = vUv - sampleUvOffset;
				viewZ = -getViewZ( getDepth( sampleUv ) );

				if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;

				if( ! lBreak ) {
					diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;
					weightSum += sampleWeight;
				}

			}

			gl_FragColor = diffuseSum / weightSum;
		}`},by={createSampleWeights:function(n,e){const t=[];for(let r=0;r<=n;r++)t.push(Tie(r,e));return t},createSampleOffsets:function(n,e){const t=[];for(let r=0;r<=n;r++)t.push(e.clone().multiplyScalar(r));return t},configure:function(n,e,t,r){n.defines.KERNEL_RADIUS=e,n.uniforms.sampleUvOffsets.value=by.createSampleOffsets(e,r),n.uniforms.sampleWeights.value=by.createSampleWeights(e,t),n.needsUpdate=!0}};function Tie(n,e){return Math.exp(-(n*n)/(2*(e*e)))/(Math.sqrt(2*Math.PI)*e)}const Av={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		#include <packing>

		void main() {

			float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );
			gl_FragColor = vec4( vec3( depth ), opacity );

		}`};class nF extends Yo{constructor(e,t,r=!1,i=!1,s=new ae(256,256)){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=r,this.supportsNormalTexture=i,this.originalClearColor=new De,this._oldClearColor=new De,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new ae(s.x,s.y),this.saoRenderTarget=new Ht(this.resolution.x,this.resolution.y),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new Ht(this.resolution.x,this.resolution.y,{minFilter:Ft,magFilter:Ft}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new ix,o.type=Yu,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new wf,this.depthMaterial.depthPacking=$y,this.depthMaterial.blending=$t,this.normalMaterial=new hx,this.normalMaterial.blending=$t,yh===void 0&&console.error("THREE.SAOPass relies on SAOShader"),this.saoMaterial=new Dt({defines:Object.assign({},yh.defines),fragmentShader:yh.fragmentShader,vertexShader:yh.vertexShader,uniforms:pr.clone(yh.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=$t,ha===void 0&&console.error("THREE.SAOPass relies on DepthLimitedBlurShader"),this.vBlurMaterial=new Dt({uniforms:pr.clone(ha.uniforms),defines:Object.assign({},ha.defines),vertexShader:ha.vertexShader,fragmentShader:ha.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=$t,this.hBlurMaterial=new Dt({uniforms:pr.clone(ha.uniforms),defines:Object.assign({},ha.defines),vertexShader:ha.vertexShader,fragmentShader:ha.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=$t,ls===void 0&&console.error("THREE.SAOPass relies on CopyShader"),this.materialCopy=new Dt({uniforms:pr.clone(ls.uniforms),vertexShader:ls.vertexShader,fragmentShader:ls.fragmentShader,blending:$t}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=XS,this.materialCopy.blendSrc=BN,this.materialCopy.blendDst=qS,this.materialCopy.blendEquation=Lo,this.materialCopy.blendSrcAlpha=ON,this.materialCopy.blendDstAlpha=qS,this.materialCopy.blendEquationAlpha=Lo,Av===void 0&&console.error("THREE.SAOPass relies on UnpackDepthRGBAShader"),this.depthCopy=new Dt({uniforms:pr.clone(Av.uniforms),vertexShader:Av.vertexShader,fragmentShader:Av.fragmentShader,blending:$t}),this.fsQuad=new uc(null)}render(e,t,r){if(this.renderToScreen&&(this.materialCopy.blending=$t,this.materialCopy.uniforms.tDiffuse.value=r.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const i=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const s=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=s,this.hBlurMaterial.uniforms.depthCutoff.value=s,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(by.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new ae(0,1)),by.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new ae(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=XS:o.blending=$t,this.renderPass(e,o,this.renderToScreen?null:r),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i}renderPass(e,t,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,t,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=t.clearColor||i,s=t.clearAlpha||s,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,t){this.beautyRenderTarget.setSize(e,t),this.saoRenderTarget.setSize(e,t),this.blurIntermediateRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.depthRenderTarget.setSize(e,t),this.saoMaterial.uniforms.size.value.set(e,t),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,t),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,t),this.hBlurMaterial.needsUpdate=!0}}nF.OUTPUT={Beauty:1,Default:0,SAO:2,Depth:3,Normal:4};const ym=new nF(nt,tt(),!1,!0);ym.params.saoKernelRadius=80;ym.params.saoBlurStdDev=5;xy(n=>ym.params.saoScale=n==="light"?3e3:2e3);tt(n=>ym.camera=n);const xh={defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new ae(1/1024,1/512)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];

		void SMAAEdgeDetectionVS( vec2 texcoord ) {
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 ); // WebGL port note: Changed sign in W component
		}

		void main() {

			vUv = uv;

			SMAAEdgeDetectionVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];

		vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {
			vec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );

			// Calculate color deltas:
			vec4 delta;
			vec3 C = texture2D( colorTex, texcoord ).rgb;

			vec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;
			vec3 t = abs( C - Cleft );
			delta.x = max( max( t.r, t.g ), t.b );

			vec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;
			t = abs( C - Ctop );
			delta.y = max( max( t.r, t.g ), t.b );

			// We do the usual threshold:
			vec2 edges = step( threshold, delta.xy );

			// Then discard if there is no edge:
			if ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )
				discard;

			// Calculate right and bottom deltas:
			vec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;
			t = abs( C - Cright );
			delta.z = max( max( t.r, t.g ), t.b );

			vec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;
			t = abs( C - Cbottom );
			delta.w = max( max( t.r, t.g ), t.b );

			// Calculate the maximum delta in the direct neighborhood:
			float maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );

			// Calculate left-left and top-top deltas:
			vec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;
			t = abs( C - Cleftleft );
			delta.z = max( max( t.r, t.g ), t.b );

			vec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;
			t = abs( C - Ctoptop );
			delta.w = max( max( t.r, t.g ), t.b );

			// Calculate the final maximum delta:
			maxDelta = max( max( maxDelta, delta.z ), delta.w );

			// Local contrast adaptation in action:
			edges.xy *= step( 0.5 * maxDelta, delta.xy );

			return vec4( edges, 0.0, 0.0 );
		}

		void main() {

			gl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );

		}`},Rv={defines:{SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},uniforms:{tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new ae(1/1024,1/512)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 3 ];
		varying vec2 vPixcoord;

		void SMAABlendingWeightCalculationVS( vec2 texcoord ) {
			vPixcoord = texcoord / resolution;

			// We will use these offsets for the searches later on (see @PSEUDO_GATHER4):
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 ); // WebGL port note: Changed sign in Y and W components
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 ); // WebGL port note: Changed sign in Y and W components

			// And these for the searches, they indicate the ends of the loops:
			vOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );

		}

		void main() {

			vUv = uv;

			SMAABlendingWeightCalculationVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )

		uniform sampler2D tDiffuse;
		uniform sampler2D tArea;
		uniform sampler2D tSearch;
		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[3];
		varying vec2 vPixcoord;

		#if __VERSION__ == 100
		vec2 round( vec2 x ) {
			return sign( x ) * floor( abs( x ) + 0.5 );
		}
		#endif

		float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {
			// Not required if searchTex accesses are set to point:
			// float2 SEARCH_TEX_PIXEL_SIZE = 1.0 / float2(66.0, 33.0);
			// e = float2(bias, 0.0) + 0.5 * SEARCH_TEX_PIXEL_SIZE +
			//     e * float2(scale, 1.0) * float2(64.0, 32.0) * SEARCH_TEX_PIXEL_SIZE;
			e.r = bias + e.r * scale;
			return 255.0 * texture2D( searchTex, e, 0.0 ).r;
		}

		float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			/**
				* @PSEUDO_GATHER4
				* This texcoord has been offset by (-0.25, -0.125) in the vertex shader to
				* sample between edge, thus fetching four edges in a row.
				* Sampling with different offsets in each direction allows to disambiguate
				* which edges are active from the four fetched ones.
				*/
			vec2 e = vec2( 0.0, 1.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord -= vec2( 2.0, 0.0 ) * resolution;
				if ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;
			}

			// We correct the previous (-0.25, -0.125) offset we applied:
			texcoord.x += 0.25 * resolution.x;

			// The searches are bias by 1, so adjust the coords accordingly:
			texcoord.x += resolution.x;

			// Disambiguate the length added by the last step:
			texcoord.x += 2.0 * resolution.x; // Undo last step
			texcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);

			return texcoord.x;
		}

		float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 0.0, 1.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord += vec2( 2.0, 0.0 ) * resolution;
				if ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;
			}

			texcoord.x -= 0.25 * resolution.x;
			texcoord.x -= resolution.x;
			texcoord.x -= 2.0 * resolution.x;
			texcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );

			return texcoord.x;
		}

		float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 1.0, 0.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord += vec2( 0.0, 2.0 ) * resolution; // WebGL port note: Changed sign
				if ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;
			}

			texcoord.y -= 0.25 * resolution.y; // WebGL port note: Changed sign
			texcoord.y -= resolution.y; // WebGL port note: Changed sign
			texcoord.y -= 2.0 * resolution.y; // WebGL port note: Changed sign
			texcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 ); // WebGL port note: Changed sign

			return texcoord.y;
		}

		float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
			vec2 e = vec2( 1.0, 0.0 );

			for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) { // WebGL port note: Changed while to for
				e = texture2D( edgesTex, texcoord, 0.0 ).rg;
				texcoord -= vec2( 0.0, 2.0 ) * resolution; // WebGL port note: Changed sign
				if ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;
			}

			texcoord.y += 0.25 * resolution.y; // WebGL port note: Changed sign
			texcoord.y += resolution.y; // WebGL port note: Changed sign
			texcoord.y += 2.0 * resolution.y; // WebGL port note: Changed sign
			texcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 ); // WebGL port note: Changed sign

			return texcoord.y;
		}

		vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {
			// Rounding prevents precision errors of bilinear filtering:
			vec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;

			// We do a scale and bias for mapping to texel space:
			texcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );

			// Move to proper place, according to the subpixel offset:
			texcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;

			return texture2D( areaTex, texcoord, 0.0 ).rg;
		}

		vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {
			vec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );

			vec2 e = texture2D( edgesTex, texcoord ).rg;

			if ( e.g > 0.0 ) { // Edge at north
				vec2 d;

				// Find the distance to the left:
				vec2 coords;
				coords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );
				coords.y = offset[ 1 ].y; // offset[1].y = texcoord.y - 0.25 * resolution.y (@CROSSING_OFFSET)
				d.x = coords.x;

				// Now fetch the left crossing edges, two at a time using bilinear
				// filtering. Sampling at -0.25 (see @CROSSING_OFFSET) enables to
				// discern what value each edge has:
				float e1 = texture2D( edgesTex, coords, 0.0 ).r;

				// Find the distance to the right:
				coords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );
				d.y = coords.x;

				// We want the distances to be in pixel units (doing this here allow to
				// better interleave arithmetic and memory accesses):
				d = d / resolution.x - pixcoord.x;

				// SMAAArea below needs a sqrt, as the areas texture is compressed
				// quadratically:
				vec2 sqrt_d = sqrt( abs( d ) );

				// Fetch the right crossing edges:
				coords.y -= 1.0 * resolution.y; // WebGL port note: Added
				float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;

				// Ok, we know how this pattern looks like, now it is time for getting
				// the actual area:
				weights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );
			}

			if ( e.r > 0.0 ) { // Edge at west
				vec2 d;

				// Find the distance to the top:
				vec2 coords;

				coords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );
				coords.x = offset[ 0 ].x; // offset[1].x = texcoord.x - 0.25 * resolution.x;
				d.x = coords.y;

				// Fetch the top crossing edges:
				float e1 = texture2D( edgesTex, coords, 0.0 ).g;

				// Find the distance to the bottom:
				coords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );
				d.y = coords.y;

				// We want the distances to be in pixel units:
				d = d / resolution.y - pixcoord.y;

				// SMAAArea below needs a sqrt, as the areas texture is compressed
				// quadratically:
				vec2 sqrt_d = sqrt( abs( d ) );

				// Fetch the bottom crossing edges:
				coords.y -= 1.0 * resolution.y; // WebGL port note: Added
				float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;

				// Get the area for this direction:
				weights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );
			}

			return weights;
		}

		void main() {

			gl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );

		}`},Nw={uniforms:{tDiffuse:{value:null},tColor:{value:null},resolution:{value:new ae(1/1024,1/512)}},vertexShader:`

		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 2 ];

		void SMAANeighborhoodBlendingVS( vec2 texcoord ) {
			vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 ); // WebGL port note: Changed sign in W component
			vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 ); // WebGL port note: Changed sign in W component
		}

		void main() {

			vUv = uv;

			SMAANeighborhoodBlendingVS( vUv );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform sampler2D tColor;
		uniform vec2 resolution;

		varying vec2 vUv;
		varying vec4 vOffset[ 2 ];

		vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {
			// Fetch the blending weights for current pixel:
			vec4 a;
			a.xz = texture2D( blendTex, texcoord ).xz;
			a.y = texture2D( blendTex, offset[ 1 ].zw ).g;
			a.w = texture2D( blendTex, offset[ 1 ].xy ).a;

			// Is there any blending weight with a value greater than 0.0?
			if ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {
				return texture2D( colorTex, texcoord, 0.0 );
			} else {
				// Up to 4 lines can be crossing a pixel (one through each edge). We
				// favor blending by choosing the line with the maximum weight for each
				// direction:
				vec2 offset;
				offset.x = a.a > a.b ? a.a : -a.b; // left vs. right
				offset.y = a.g > a.r ? -a.g : a.r; // top vs. bottom // WebGL port note: Changed signs

				// Then we go in the direction that has the maximum weight:
				if ( abs( offset.x ) > abs( offset.y )) { // horizontal vs. vertical
					offset.y = 0.0;
				} else {
					offset.x = 0.0;
				}

				// Fetch the opposite color and lerp by hand:
				vec4 C = texture2D( colorTex, texcoord, 0.0 );
				texcoord += sign( offset ) * resolution;
				vec4 Cop = texture2D( colorTex, texcoord, 0.0 );
				float s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );

				// WebGL port note: Added gamma correction
				C.xyz = pow(C.xyz, vec3(2.2));
				Cop.xyz = pow(Cop.xyz, vec3(2.2));
				vec4 mixed = mix(C, Cop, s);
				mixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));

				return mixed;
			}
		}

		void main() {

			gl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );

		}`};class Cie extends Yo{constructor(e,t){super(),this.edgesRT=new Ht(e,t,{depthBuffer:!1}),this.edgesRT.texture.name="SMAAPass.edges",this.weightsRT=new Ht(e,t,{depthBuffer:!1}),this.weightsRT.texture.name="SMAAPass.weights";const r=this,i=new Image;i.src=this.getAreaTexture(),i.onload=function(){r.areaTexture.needsUpdate=!0},this.areaTexture=new gr,this.areaTexture.name="SMAAPass.area",this.areaTexture.image=i,this.areaTexture.minFilter=Yn,this.areaTexture.generateMipmaps=!1,this.areaTexture.flipY=!1;const s=new Image;s.src=this.getSearchTexture(),s.onload=function(){r.searchTexture.needsUpdate=!0},this.searchTexture=new gr,this.searchTexture.name="SMAAPass.search",this.searchTexture.image=s,this.searchTexture.magFilter=Ft,this.searchTexture.minFilter=Ft,this.searchTexture.generateMipmaps=!1,this.searchTexture.flipY=!1,xh===void 0&&console.error("THREE.SMAAPass relies on SMAAShader"),this.uniformsEdges=pr.clone(xh.uniforms),this.uniformsEdges.resolution.value.set(1/e,1/t),this.materialEdges=new Dt({defines:Object.assign({},xh.defines),uniforms:this.uniformsEdges,vertexShader:xh.vertexShader,fragmentShader:xh.fragmentShader}),this.uniformsWeights=pr.clone(Rv.uniforms),this.uniformsWeights.resolution.value.set(1/e,1/t),this.uniformsWeights.tDiffuse.value=this.edgesRT.texture,this.uniformsWeights.tArea.value=this.areaTexture,this.uniformsWeights.tSearch.value=this.searchTexture,this.materialWeights=new Dt({defines:Object.assign({},Rv.defines),uniforms:this.uniformsWeights,vertexShader:Rv.vertexShader,fragmentShader:Rv.fragmentShader}),this.uniformsBlend=pr.clone(Nw.uniforms),this.uniformsBlend.resolution.value.set(1/e,1/t),this.uniformsBlend.tDiffuse.value=this.weightsRT.texture,this.materialBlend=new Dt({uniforms:this.uniformsBlend,vertexShader:Nw.vertexShader,fragmentShader:Nw.fragmentShader}),this.needsSwap=!1,this.fsQuad=new uc(null)}render(e,t,r){this.uniformsEdges.tDiffuse.value=r.texture,this.fsQuad.material=this.materialEdges,e.setRenderTarget(this.edgesRT),this.clear&&e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialWeights,e.setRenderTarget(this.weightsRT),this.clear&&e.clear(),this.fsQuad.render(e),this.uniformsBlend.tColor.value=r.texture,this.fsQuad.material=this.materialBlend,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(),this.fsQuad.render(e))}setSize(e,t){this.edgesRT.setSize(e,t),this.weightsRT.setSize(e,t),this.materialEdges.uniforms.resolution.value.set(1/e,1/t),this.materialWeights.uniforms.resolution.value.set(1/e,1/t),this.materialBlend.uniforms.resolution.value.set(1/e,1/t)}getAreaTexture(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAIAAACOVPcQAACBeklEQVR42u39W4xlWXrnh/3WWvuciIzMrKxrV8/0rWbY0+SQFKcb4owIkSIFCjY9AC1BT/LYBozRi+EX+cV+8IMsYAaCwRcBwjzMiw2jAWtgwC8WR5Q8mDFHZLNHTarZGrLJJllt1W2qKrsumZWZcTvn7L3W54e1vrXX3vuciLPPORFR1XE2EomorB0nVuz//r71re/y/1eMvb4Cb3N11xV/PP/2v4UBAwJG/7H8urx6/25/Gf8O5hypMQ0EEEQwAqLfoN/Z+97f/SW+/NvcgQk4sGBJK6H7N4PFVL+K+e0N11yNfkKvwUdwdlUAXPHHL38oa15f/i/46Ih6SuMSPmLAYAwyRKn7dfMGH97jaMFBYCJUgotIC2YAdu+LyW9vvubxAP8kAL8H/koAuOKP3+q6+xGnd5kdYCeECnGIJViwGJMAkQKfDvB3WZxjLKGh8VSCCzhwEWBpMc5/kBbjawT4HnwJfhr+pPBIu7uu+OOTo9vsmtQcniMBGkKFd4jDWMSCRUpLjJYNJkM+IRzQ+PQvIeAMTrBS2LEiaiR9b/5PuT6Ap/AcfAFO4Y3dA3DFH7/VS+M8k4baEAQfMI4QfbVDDGIRg7GKaIY52qAjTAgTvGBAPGIIghOCYAUrGFNgzA7Q3QhgCwfwAnwe5vDejgG44o/fbm1C5ZlYQvQDARPAIQGxCWBM+wWl37ZQESb4gImexGMDouhGLx1Cst0Saa4b4AqO4Hk4gxo+3DHAV/nx27p3JziPM2pVgoiia5MdEzCGULprIN7gEEeQ5IQxEBBBQnxhsDb5auGmAAYcHMA9eAAz8PBol8/xij9+C4Djlim4gJjWcwZBhCBgMIIYxGAVIkH3ZtcBuLdtRFMWsPGoY9rN+HoBji9VBYdwD2ZQg4cnO7OSq/z4rU5KKdwVbFAjNojCQzTlCLPFSxtamwh2jMUcEgg2Wm/6XgErIBhBckQtGN3CzbVacERgCnfgLswhnvqf7QyAq/z4rRZm1YglYE3affGITaZsdIe2FmMIpnOCap25I6jt2kCwCW0D1uAD9sZctNGXcQIHCkINDQgc78aCr+zjtw3BU/ijdpw3zhCwcaONwBvdeS2YZKkJNJsMPf2JKEvC28RXxxI0ASJyzQCjCEQrO4Q7sFArEzjZhaFc4cdv+/JFdKULM4px0DfUBI2hIsy06BqLhGTQEVdbfAIZXYMPesq6VoCHICzUyjwInO4Y411//LYLs6TDa9wvg2CC2rElgAnpTBziThxaL22MYhzfkghz6GAs2VHbbdM91VZu1MEEpupMMwKyVTb5ij9+u4VJG/5EgEMMmFF01cFai3isRbKbzb+YaU/MQbAm2XSMoUPAmvZzbuKYRIFApbtlrfFuUGd6vq2hXNnH78ZLh/iFhsQG3T4D1ib7k5CC6vY0DCbtrohgLEIClXiGtl10zc0CnEGIhhatLBva7NP58Tvw0qE8yWhARLQ8h4+AhQSP+I4F5xoU+VilGRJs6wnS7ruti/4KvAY/CfdgqjsMy4pf8fodQO8/gnuX3f/3xi3om1/h7THr+co3x93PP9+FBUfbNUjcjEmhcrkT+8K7ml7V10Jo05mpIEFy1NmCJWx9SIKKt+EjAL4Ez8EBVOB6havuT/rByPvHXK+9zUcfcbb254+9fydJknYnRr1oGfdaiAgpxu1Rx/Rek8KISftx3L+DfsLWAANn8Hvw0/AFeAGO9DFV3c6D+CcWbL8Dj9e7f+T1k8AZv/d7+PXWM/Z+VvdCrIvuAKO09RpEEQJM0Ci6+B4xhTWr4cZNOvhktabw0ta0rSJmqz3Yw5/AKXwenod7cAhTmBSPKf6JBdvH8IP17h95pXqw50/+BFnj88fev4NchyaK47OPhhtI8RFSvAfDSNh0Ck0p2gLxGkib5NJj/JWCr90EWQJvwBzO4AHcgztwAFN1evHPUVGwfXON+0debT1YeGON9Yy9/63X+OguiwmhIhQhD7l4sMqlG3D86Suc3qWZ4rWjI1X7u0Ytw6x3rIMeIOPDprfe2XzNgyj6PahhBjO4C3e6puDgXrdg+/5l948vF3bqwZetZ+z9Rx9zdIY5pInPK4Nk0t+l52xdK2B45Qd87nM8fsD5EfUhIcJcERw4RdqqH7Yde5V7m1vhNmtedkz6EDzUMF/2jJYWbC+4fzzA/Y+/8PPH3j9dcBAPIRP8JLXd5BpAu03aziOL3VVHZzz3CXWDPWd+SH2AnxIqQoTZpo9Ckc6HIrFbAbzNmlcg8Ag8NFDDAhbJvTBZXbC94P7t68EXfv6o+21gUtPETU7bbkLxvNKRFG2+KXzvtObonPP4rBvsgmaKj404DlshFole1Glfh02fE7bYR7dZ82oTewIBGn1Md6CG6YUF26X376oevOLzx95vhUmgblI6LBZwTCDY7vMq0op5WVXgsObOXJ+1x3qaBl9j1FeLxbhU9w1F+Wiba6s1X/TBz1LnUfuYDi4r2C69f1f14BWfP+p+W2GFKuC9phcELMYRRLur9DEZTUdEH+iEqWdaM7X4WOoPGI+ZYD2+wcQ+y+ioHUZ9dTDbArzxmi/bJI9BND0Ynd6lBdve/butBw8+f/T9D3ABa3AG8W3VPX4hBin+bj8dMMmSpp5pg7fJ6xrBFE2WQQEWnV8Qg3FbAWzYfM1rREEnmvkN2o1+acG2d/9u68GDzx91v3mAjb1zkpqT21OipPKO0b9TO5W0nTdOmAQm0TObts3aBKgwARtoPDiCT0gHgwnbArzxmtcLc08HgF1asN0C4Ms/fvD5I+7PhfqyXE/b7RbbrGyRQRT9ARZcwAUmgdoz0ehJ9Fn7QAhUjhDAQSw0bV3T3WbNa59jzmiP6GsWbGXDX2ytjy8+f9T97fiBPq9YeLdBmyuizZHaqXITnXiMUEEVcJ7K4j3BFPurtB4bixW8wTpweL8DC95szWMOqucFYGsWbGU7p3TxxxefP+r+oTVktxY0v5hbq3KiOKYnY8ddJVSBxuMMVffNbxwIOERShst73HZ78DZrHpmJmH3K6sGz0fe3UUj0eyRrSCGTTc+rjVNoGzNSv05srAxUBh8IhqChiQgVNIIBH3AVPnrsnXQZbLTm8ammv8eVXn/vWpaTem5IXRlt+U/LA21zhSb9cye6jcOfCnOwhIAYXAMVTUNV0QhVha9xjgA27ODJbLbmitt3tRN80lqG6N/khgot4ZVlOyO4WNg3OIMzhIZQpUEHieg2im6F91hB3I2tubql6BYNN9Hj5S7G0G2tahslBWKDnOiIvuAEDzakDQKDNFQT6gbn8E2y4BBubM230YIpBnDbMa+y3dx0n1S0BtuG62lCCXwcY0F72T1VRR3t2ONcsmDjbmzNt9RFs2LO2hQNyb022JisaI8rAWuw4HI3FuAIhZdOGIcdjLJvvObqlpqvWTJnnQbyi/1M9O8UxWhBs//H42I0q1Yb/XPGONzcmm+ri172mHKvZBpHkJaNJz6v9jxqiklDj3U4CA2ugpAaYMWqNXsdXbmJNd9egCnJEsphXNM+MnK3m0FCJ5S1kmJpa3DgPVbnQnPGWIDspW9ozbcO4K/9LkfaQO2KHuqlfFXSbdNzcEcwoqNEFE9zcIXu9/6n/ym/BC/C3aJLzEKPuYVlbFnfhZ8kcWxV3dbv4bKl28566wD+8C53aw49lTABp9PWbsB+knfc/Li3eVizf5vv/xmvnPKg5ihwKEwlrcHqucuVcVOxEv8aH37E3ZqpZypUulrHEtIWKUr+txHg+ojZDGlwnqmkGlzcVi1dLiNSJiHjfbRNOPwKpx9TVdTn3K05DBx4psIk4Ei8aCkJahRgffk4YnEXe07T4H2RR1u27E6wfQsBDofUgjFUFnwC2AiVtA+05J2zpiDK2Oa0c5fmAecN1iJzmpqFZxqYBCYhFTCsUNEmUnIcZ6aEA5rQVhEywG6w7HSW02XfOoBlQmjwulOFQAg66SvJblrTEX1YtJ3uG15T/BH1OfOQeuR8g/c0gdpT5fx2SKbs9EfHTKdM8A1GaJRHLVIwhcGyydZsbifAFVKl5EMKNU2Hryo+06BeTgqnxzYjThVySDikbtJPieco75lYfKAJOMEZBTjoITuWHXXZVhcUDIS2hpiXHV9Ku4u44bN5OYLDOkJo8w+xJSMbhBRHEdEs9JZUCkQrPMAvaHyLkxgkEHxiNkx/x2YB0mGsQ8EUWj/stW5YLhtS5SMu+/YBbNPDCkGTUybN8krRLBGPlZkVOA0j+a1+rkyQKWGaPHPLZOkJhioQYnVZ2hS3zVxMtgC46KuRwbJNd9nV2PHgb36F194ecf/Yeu2vAFe5nm/bRBFrnY4BauE8ERmZRFUn0k8hbftiVYSKMEme2dJCJSCGYAlNqh87bXOPdUkGy24P6d1ll21MBqqx48Fvv8ZHH8HZFY7j/uAq1xMJUFqCSUlJPmNbIiNsmwuMs/q9CMtsZsFO6SprzCS1Z7QL8xCQClEelpjTduDMsmWD8S1PT152BtvmIGvUeDA/yRn83u/x0/4qxoPHjx+PXY9pqX9bgMvh/Nz9kpP4pOe1/fYf3axUiMdHLlPpZCNjgtNFAhcHEDxTumNONhHrBduW+vOyY++70WWnPXj98eA4kOt/mj/5E05l9+O4o8ePx67HFqyC+qSSnyselqjZGaVK2TadbFLPWAQ4NBhHqDCCV7OTpo34AlSSylPtIdd2AJZlyzYQrDJ5lcWGNceD80CunPLGGzsfD+7wRb95NevJI5docQ3tgCyr5bGnyaPRlmwNsFELViOOx9loebGNq2moDOKpHLVP5al2cymWHbkfzGXL7kfRl44H9wZy33tvt+PB/Xnf93e+nh5ZlU18wCiRUa9m7kib9LYuOk+hudQNbxwm0AQqbfloimaB2lM5fChex+ylMwuTbfmXQtmWlenZljbdXTLuOxjI/fDDHY4Hjx8/Hrse0zXfPFxbUN1kKqSCCSk50m0Ajtx3ub9XHBKHXESb8iO6E+qGytF4nO0OG3SXzbJlhxBnKtKyl0NwybjvYCD30aMdjgePHz8eu56SVTBbgxJMliQ3Oauwg0QHxXE2Ez/EIReLdQj42Gzb4CLS0YJD9xUx7bsi0vJi5mUbW1QzL0h0PFk17rtiIPfJk52MB48fPx67npJJwyrBa2RCCQRTbGZSPCxTPOiND4G2pYyOQ4h4jINIJh5wFU1NFZt+IsZ59LSnDqBjZ2awbOku+yInunLcd8VA7rNnOxkPHj9+PGY9B0MWJJNozOJmlglvDMXDEozdhQWbgs/U6oBanGzLrdSNNnZFjOkmbi5bNt1lX7JLLhn3vXAg9/h4y/Hg8ePHI9dzQMEkWCgdRfYykYKnkP7D4rIujsujaKPBsB54vE2TS00ccvFY/Tth7JXeq1hz+qgVy04sAJawTsvOknHfCwdyT062HA8eP348Zj0vdoXF4pilKa2BROed+9fyw9rWRXeTFXESMOanvDZfJuJaSXouQdMdDJZtekZcLLvEeK04d8m474UDuaenW44Hjx8/Xns9YYqZpszGWB3AN/4VHw+k7WSFtJ3Qicuqb/NlVmgXWsxh570xg2UwxUw3WfO6B5nOuO8aA7lnZxuPB48fPx6znm1i4bsfcbaptF3zNT78eFPtwi1OaCNOqp1x3zUGcs/PN++AGD1+fMXrSVm2baTtPhPahbPhA71wIHd2bXzRa69nG+3CraTtPivahV/55tXWg8fyRY/9AdsY8VbSdp8V7cKrrgdfM//z6ILQFtJ2nxHtwmuoB4/kf74+gLeRtvvMaBdeSz34+vifx0YG20jbfTa0C6+tHrwe//NmOG0L8EbSdp8R7cLrrQe/996O+ai3ujQOskpTNULa7jOjXXj99eCd8lHvoFiwsbTdZ0a78PrrwTvlo966pLuRtB2fFe3Cm6oHP9kNH/W2FryxtN1nTLvwRurBO+Kj3pWXHidtx2dFu/Bm68Fb81HvykuPlrb7LGkX3mw9eGs+6h1Y8MbSdjegXcguQLjmevDpTQLMxtJ2N6NdyBZu9AbrwVvwUW+LbteULUpCdqm0HTelXbhNPe8G68Gb8lFvVfYfSNuxvrTdTWoXbozAzdaDZzfkorOj1oxVxlIMlpSIlpLrt8D4hrQL17z+c3h6hU/wv4Q/utps4+bm+6P/hIcf0JwQ5oQGPBL0eKPTYEXTW+eL/2DKn73J9BTXYANG57hz1cEMviVf/4tf5b/6C5pTQkMIWoAq7hTpOJjtAM4pxKu5vg5vXeUrtI09/Mo/5H+4z+Mp5xULh7cEm2QbRP2tFIKR7WM3fPf/jZ3SWCqLM2l4NxID5zB72HQXv3jj/8mLR5xXNA5v8EbFQEz7PpRfl1+MB/hlAN65qgDn3wTgH13hK7T59bmP+NIx1SHHU84nLOITt3iVz8mNO+lPrjGAnBFqmioNn1mTyk1ta47R6d4MrX7tjrnjYUpdUbv2rVr6YpVfsGG58AG8Ah9eyUN8CX4WfgV+G8LVWPDGb+Zd4cU584CtqSbMKxauxTg+dyn/LkVgA+IR8KHtejeFKRtTmLLpxN6mYVLjYxwXf5x2VofiZcp/lwKk4wGOpYDnoIZPdg/AAbwMfx0+ge9dgZvYjuqKe4HnGnykYo5TvJbG0Vj12JagRhwKa44H95ShkZa5RyLGGdfYvG7aw1TsF6iapPAS29mNS3NmsTQZCmgTzFwgL3upCTgtBTRwvGMAKrgLn4evwin8+afJRcff+8izUGUM63GOOuAs3tJkw7J4kyoNreqrpO6cYLQeFUd7TTpr5YOTLc9RUUogUOVJQ1GYJaFLAW0oTmKyYS46ZooP4S4EON3xQ5zC8/CX4CnM4c1PE8ApexpoYuzqlP3d4S3OJP8ZDK7cKWNaTlqmgDiiHwl1YsE41w1zT4iRTm3DBqxvOUsbMKKDa/EHxagtnta072ejc3DOIh5ojvh8l3tk1JF/AV6FU6jh3U8HwEazLgdCLYSQ+MYiAI2ltomkzttUb0gGHdSUUgsIYjTzLG3mObX4FBRaYtpDVNZrih9TgTeYOBxsEnN1gOCTM8Bsw/ieMc75w9kuAT6A+/AiHGvN/+Gn4KRkiuzpNNDYhDGFndWRpE6SVfm8U5bxnSgVV2jrg6JCKmneqey8VMFgq2+AM/i4L4RUbfSi27lNXZ7R7W9RTcq/q9fk4Xw3AMQd4I5ifAZz8FcVtm9SAom/dyN4lczJQW/kC42ZrHgcCoIf1oVMKkVItmMBi9cOeNHGLqOZk+QqQmrbc5YmYgxELUUN35z2iohstgfLIFmcMV7s4CFmI74L9+EFmGsi+tGnAOD4Yk9gIpo01Y4cA43BWGygMdr4YZekG3OBIUXXNukvJS8tqa06e+lSDCtnqqMFu6hWHXCF+WaYt64m9QBmNxi7Ioy7D+fa1yHw+FMAcPt7SysFLtoG4PXAk7JOA3aAxBRqUiAdU9Yp5lK3HLSRFtOim0sa8euEt08xvKjYjzeJ2GU7YawexrnKI9tmobInjFXCewpwriY9+RR4aaezFhMhGCppKwom0ChrgFlKzyPKkGlTW1YQrE9HJqu8hKGgMc6hVi5QRq0PZxNfrYNgE64utmRv6KKHRpxf6VDUaOvNP5jCEx5q185My/7RKz69UQu2im5k4/eownpxZxNLwiZ1AZTO2ZjWjkU9uaB2HFn6Q3u0JcsSx/qV9hTEApRzeBLDJQXxYmTnq7bdLa3+uqFrxLJ5w1TehnNHx5ECvCh2g2c3hHH5YsfdaSKddztfjQ6imKFGSyFwlLzxEGPp6r5IevVjk1AMx3wMqi1NxDVjLBiPs9tbsCkIY5we5/ML22zrCScFxnNtzsr9Wcc3CnD+pYO+4VXXiDE0oc/vQQ/fDK3oPESJMYXNmJa/DuloJZkcTpcYE8lIH8Dz8DJMiynNC86Mb2lNaaqP/+L7f2fcE/yP7/Lde8xfgSOdMxvOixZf/9p3+M4hT1+F+zApxg9XfUvYjc8qX2lfOOpK2gNRtB4flpFu9FTKCp2XJRgXnX6olp1zyYjTKJSkGmLE2NjUr1bxFM4AeAAHBUFIeSLqXR+NvH/M9fOnfHzOD2vCSyQJKzfgsCh+yi/Mmc35F2fUrw7miW33W9hBD1vpuUojFphIyvg7aTeoymDkIkeW3XLHmguMzbIAJejN6B5MDrhipE2y6SoFRO/AK/AcHHZHNIfiWrEe/C6cr3f/yOvrQKB+zMM55/GQdLDsR+ifr5Fiuu+/y+M78LzOE5dsNuXC3PYvYWd8NXvphLSkJIasrlD2/HOqQ+RjcRdjKTGWYhhVUm4yxlyiGPuMsZR7sMCHUBeTuNWA7if+ifXgc/hovftHXs/DV+Fvwe+f8shzMiMcweFgBly3//vwJfg5AN4450fn1Hd1Rm1aBLu22Dy3y3H2+OqMemkbGZ4jozcDjJf6596xOLpC0eMTHbKnxLxH27uZ/bMTGs2jOaMOY4m87CfQwF0dw53oa1k80JRuz/XgS+8fX3N9Af4qPIMfzKgCp4H5TDGe9GGeFPzSsZz80SlPTxXjgwJmC45njzgt2vbQ4b4OAdUK4/vWhO8d8v6EE8fMUsfakXbPpFJeLs2ubM/qdm/la3WP91uWhxXHjoWhyRUq2iJ/+5mA73zwIIo+LoZ/SgvIRjAd1IMvvn98PfgOvAJfhhm8scAKVWDuaRaK8aQ9f7vuPDH6Bj47ZXau7rqYJ66mTDwEDU6lLbCjCK0qTXyl5mnDoeNRxanj3FJbaksTk0faXxHxLrssgPkWB9LnA/MFleXcJozzjwsUvUG0X/QCve51qkMDXp9mtcyOy3rwBfdvVJK7D6/ACSzg3RoruIq5UDeESfEmVclDxnniU82vxMLtceD0hGZWzBNPMM/jSPne2OVatiTKUpY5vY7gc0LdUAWeWM5tH+O2I66AOWw9xT2BuyRVLGdoDHUsVRXOo/c+ZdRXvFfnxWyIV4upFLCl9eAL7h8Zv0QH8Ry8pA2cHzQpGesctVA37ZtklBTgHjyvdSeKY/RZw/kJMk0Y25cSNRWSigQtlULPTw+kzuJPeYEkXjQRpoGZobYsLF79pyd1dMRHInbgFTZqNLhDqiIsTNpoex2WLcy0/X6rHcdMMQvFSd5dWA++4P7xv89deACnmr36uGlL69bRCL6BSZsS6c0TU2TKK5gtWCzgAOOwQcurqk9j8whvziZSMLcq5hbuwBEsYjopUBkqw1yYBGpLA97SRElEmx5MCInBY5vgLk94iKqSWmhIGmkJ4Bi9m4L645J68LyY4wsFYBfUg5feP/6gWWm58IEmKQM89hq7KsZNaKtP5TxxrUZZVkNmMJtjbKrGxLNEbHPJxhqy7lAmbC32ZqeF6lTaknRWcYaFpfLUBh/rwaQycCCJmW15Kstv6jRHyJFry2C1ahkkIW0LO75s61+owxK1y3XqweX9m5YLM2DPFeOjn/iiqCKJ+yKXF8t5Yl/kNsqaSCryxPq5xWTFIaP8KSW0RYxqupaUf0RcTNSSdJZGcKYdYA6kdtrtmyBckfKXwqk0pHpUHlwWaffjNRBYFPUDWa8e3Lt/o0R0CdisKDM89cX0pvRHEfM8ca4t0s2Xx4kgo91MPQJ/0c9MQYq0co8MBh7bz1fio0UUHLR4aAIOvOmoYO6kwlEVODSSTliWtOtH6sPkrtctF9ZtJ9GIerBskvhdVS5cFNv9s1BU0AbdUgdK4FG+dRnjFmDTzniRMdZO1QhzMK355vigbdkpz9P6qjUGE5J2qAcXmwJ20cZUiAD0z+pGMx6xkzJkmEf40Hr4qZfVg2XzF9YOyoV5BjzVkUJngKf8lgNYwKECEHrCNDrWZzMlflS3yBhr/InyoUgBc/lKT4pxVrrC6g1YwcceK3BmNxZcAtz3j5EIpqguh9H6wc011YN75cKDLpFDxuwkrPQmUwW4KTbj9mZTwBwLq4aQMUZbHm1rylJ46dzR0dua2n3RYCWZsiHROeywyJGR7mXKlpryyCiouY56sFkBWEnkEB/raeh/Sw4162KeuAxMQpEkzy5alMY5wamMsWKKrtW2WpEWNnReZWONKWjrdsKZarpFjqCslq773PLmEhM448Pc3+FKr1+94vv/rfw4tEcu+lKTBe4kZSdijBrykwv9vbCMPcLQTygBjzVckSLPRVGslqdunwJ4oegtFOYb4SwxNgWLCmD7T9kVjTv5YDgpo0XBmN34Z/rEHp0sgyz7lngsrm4lvMm2Mr1zNOJYJ5cuxuQxwMGJq/TP5emlb8fsQBZviK4t8hFL+zbhtlpwaRSxQRWfeETjuauPsdGxsBVdO7nmP4xvzSoT29pRl7kGqz+k26B3Oy0YNV+SXbbQas1ctC/GarskRdFpKczVAF1ZXnLcpaMuzVe6lZ2g/1ndcvOVgRG3sdUAY1bKD6achijMPdMxV4muKVorSpiDHituH7rSTs7n/4y5DhRXo4FVBN4vO/zbAcxhENzGbHCzU/98Mcx5e7a31kWjw9FCe/zNeYyQjZsWb1uc7U33pN4Mji6hCLhivqfa9Ss6xLg031AgfesA/l99m9fgvnaF9JoE6bYKmkGNK3aPbHB96w3+DnxFm4hs0drLsk7U8kf/N/CvwQNtllna0rjq61sH8L80HAuvwH1tvBy2ChqWSCaYTaGN19sTvlfzFD6n+iKTbvtayfrfe9ueWh6GJFoxLdr7V72a5ZpvHcCPDzma0wTO4EgbLyedxstO81n57LYBOBzyfsOhUKsW1J1BB5vr/tz8RyqOFylQP9Tvst2JALsC5lsH8PyQ40DV4ANzYa4dedNiKNR1s+x2wwbR7q4/4cTxqEk4LWDebfisuo36JXLiWFjOtLrlNWh3K1rRS4xvHcDNlFnNmWBBAl5SWaL3oPOfnvbr5pdjVnEaeBJSYjuLEkyLLsWhKccadmOphZkOPgVdalj2QpSmfOsADhMWE2ZBu4+EEJI4wKTAuCoC4xwQbWXBltpxbjkXJtKxxabo9e7tyhlgb6gNlSbUpMh+l/FaqzVwewGu8BW1Zx7pTpQDJUjb8tsUTW6+GDXbMn3mLbXlXJiGdggxFAoUrtPS3wE4Nk02UZG2OOzlk7fRs7i95QCLo3E0jtrjnM7SR3uS1p4qtS2nJ5OwtQVHgOvArLBFijZUV9QtSl8dAY5d0E0hM0w3HS2DpIeB6m/A1+HfhJcGUq4sOxH+x3f5+VO+Ds9rYNI7zPXOYWPrtf8bYMx6fuOAX5jzNR0PdsuON+X1f7EERxMJJoU6GkTEWBvVolVlb5lh3tKCg6Wx1IbaMDdJ+9sUCc5KC46hKGCk3IVOS4TCqdBNfUs7Kd4iXf2RjnT/LLysJy3XDcHLh/vde3x8DoGvwgsa67vBk91G5Pe/HbOe7xwym0NXbtiuuDkGO2IJDh9oQvJ4cY4vdoqLDuoH9Zl2F/ofsekn8lkuhIlhQcffUtSjytFyp++p6NiE7Rqx/lodgKVoceEp/CP4FfjrquZaTtj2AvH5K/ywpn7M34K/SsoYDAdIN448I1/0/wveW289T1/lX5xBzc8N5IaHr0XMOQdHsIkDuJFifj20pBm5jzwUv9e2FhwRsvhAbalCIuIw3bhJihY3p6nTFFIZgiSYjfTf3aXuOjmeGn4bPoGvwl+CFzTRczBIuHBEeImHc37/lGfwZR0cXzVDOvaKfNHvwe+suZ771K/y/XcBlsoN996JpBhoE2toYxOznNEOS5TJc6Id5GEXLjrWo+LEWGNpPDU4WAwsIRROu+1vM+0oW37z/MBN9kqHnSArwPfgFJ7Cq/Ai3Ie7g7ncmI09v8sjzw9mzOAEXoIHxURueaAce5V80f/DOuuZwHM8vsMb5wBzOFWM7wymTXPAEvm4vcFpZ2ut0VZRjkiP2MlmLd6DIpbGSiHOjdnUHN90hRYmhTnmvhzp1iKDNj+b7t5hi79lWGwQ+HN9RsfFMy0FXbEwhfuczKgCbyxYwBmcFhhvo/7a44v+i3XWcwDP86PzpGQYdWh7csP5dBvZ1jNzdxC8pBGuxqSW5vw40nBpj5JhMwvOzN0RWqERHMr4Lv1kWX84xLR830G3j6yqZ1a8UstTlW+qJPOZ+sZ7xZPKTJLhiNOAFd6tk+jrTH31ncLOxid8+nzRb128HhUcru/y0Wn6iT254YPC6FtVSIMoW2sk727AhvTtrWKZTvgsmckfXYZWeNRXx/3YQ2OUxLDrbHtN11IwrgXT6c8dATDwLniYwxzO4RzuQqTKSC5gAofMZ1QBK3zQ4JWobFbcvJm87FK+6JXrKahLn54m3p+McXzzYtP8VF/QpJuh1OwieElEoI1pRxPS09FBrkq2tWCU59+HdhNtTIqKm8EBrw2RTOEDpG3IKo2Y7mFdLm3ZeVjYwVw11o/oznceMve4CgMfNym/utA/d/ILMR7gpXzRy9eDsgLcgbs8O2Va1L0zzIdwGGemTBuwROHeoMShkUc7P+ISY3KH5ZZeWqO8mFTxQYeXTNuzvvK5FGPdQfuu00DwYFY9dyhctEt+OJDdnucfpmyhzUJzfsJjr29l8S0bXBfwRS9ZT26tmMIdZucch5ZboMz3Nio3nIOsYHCGoDT4kUA9MiXEp9Xsui1S8th/kbWIrMBxDGLodWUQIWcvnXy+9M23xPiSMOiRPqM+YMXkUN3gXFrZJwXGzUaMpJfyRS9ZT0lPe8TpScuRlbMHeUmlaKDoNuy62iWNTWNFYjoxFzuJs8oR+RhRx7O4SVNSXpa0ZJQ0K1LAHDQ+D9IepkMXpcsq5EVCvClBUIzDhDoyKwDw1Lc59GbTeORivugw1IcuaEOaGWdNm+Ps5fQ7/tm0DjMegq3yM3vb5j12qUId5UZD2oxDSEWOZMSqFl/W+5oynWDa/aI04tJRQ2eTXusg86SQVu/nwSYwpW6wLjlqIzwLuxGIvoAvul0PS+ZNz0/akp/pniO/8JDnGyaCkzbhl6YcqmK/69prxPqtpx2+Km9al9sjL+rwMgHw4jE/C8/HQ3m1vBuL1fldbzd8mOueVJ92syqdEY4KJjSCde3mcRw2TA6szxedn+zwhZMps0XrqEsiUjnC1hw0TELC2Ek7uAAdzcheXv1BYLagspxpzSAoZZUsIzIq35MnFQ9DOrlNB30jq3L4pkhccKUAA8/ocvN1Rzx9QyOtERs4CVsJRK/DF71kPYrxYsGsm6RMh4cps5g1DOmM54Ly1ii0Hd3Y/BMk8VWFgBVmhqrkJCPBHAolwZaWzLR9Vb7bcWdX9NyUYE+uB2BKfuaeBUcjDljbYVY4DdtsVWvzRZdWnyUzDpjNl1Du3aloAjVJTNDpcIOVVhrHFF66lLfJL1zJr9PQ2nFJSBaKoDe+sAvLufZVHVzYh7W0h/c6AAZ+7Tvj6q9j68G/cTCS/3n1vLKHZwNi+P+pS0WkZNMBMUl+LDLuiE4omZy71r3UFMwNJV+VJ/GC5ixVUkBStsT4gGKh0Gm4Oy3qvq7Lbmq24nPdDuDR9deR11XzP4vFu3TYzfnIyiSVmgizUYGqkIXNdKTY9pgb9D2Ix5t0+NHkVzCdU03suWkkVZAoCONCn0T35gAeW38de43mf97sMOpSvj4aa1KYUm58USI7Wxxes03bAZdRzk6UtbzMaCQ6IxO0dy7X+XsjoD16hpsBeGz9dfzHj+R/Hp8nCxZRqkEDTaCKCSywjiaoMJ1TITE9eg7Jqnq8HL6gDwiZb0u0V0Rr/rmvqjxKuaLCX7ZWXTvAY+uvm3z8CP7nzVpngqrJpZKwWnCUjIviYVlirlGOzPLI3SMVyp/elvBUjjDkNhrtufFFErQ8pmdSlbK16toBHlt/HV8uHMX/vEGALkV3RJREiSlopxwdMXOZPLZ+ix+kAHpMKIk8UtE1ygtquttwxNhphrIZ1IBzjGF3IIGxGcBj6q8bHJBG8T9vdsoWrTFEuebEZuVxhhClH6P5Zo89OG9fwHNjtNQTpD0TG9PJLEYqvEY6Rlxy+ZZGfL0Aj62/bnQCXp//eeM4KzfQVJbgMQbUjlMFIm6TpcfWlZje7NBSV6IsEVmumWIbjiloUzQX9OzYdo8L1wjw2PrrpimONfmfNyzKklrgnEkSzT5QWYQW40YShyzqsRmMXbvVxKtGuYyMKaU1ugenLDm5Ily4iT14fP11Mx+xJv+zZ3MvnfdFqxU3a1W/FTB4m3Qfsyc1XUcdVhDeUDZXSFHHLQj/Y5jtC7ZqM0CXGwB4bP11i3LhOvzPGygYtiUBiwQV/4wFO0majijGsafHyRLu0yG6q35cL1rOpVxr2s5cM2jJYMCdc10Aj6q/blRpWJ//+dmm5psMl0KA2+AFRx9jMe2WbC4jQxnikd4DU8TwUjRVacgdlhmr3bpddzuJ9zXqr2xnxJfzP29RexdtjDVZqzkqa6PyvcojGrfkXiJ8SEtml/nYskicv0ivlxbqjemwUjMw5evdg8fUX9nOiC/lf94Q2i7MURk9nW1MSj5j8eAyV6y5CN2S6qbnw3vdA1Iwq+XOSCl663udN3IzLnrt+us25cI1+Z83SXQUldqQq0b5XOT17bGpLd6ssN1VMPf8c+jG8L3NeCnMdF+Ra3fRa9dft39/LuZ/3vwHoHrqGmQFafmiQw6eyzMxS05K4bL9uA+SKUQzCnSDkqOGokXyJvbgJ/BHI+qvY69//4rl20NsmK2ou2dTsyIALv/91/8n3P2Aao71WFGi8KKv1fRC5+J67Q/507/E/SOshqN5TsmYIjVt+kcjAx98iz/4SaojbIV1rexE7/C29HcYD/DX4a0rBOF5VTu7omsb11L/AWcVlcVZHSsqGuXLLp9ha8I//w3Mv+T4Ew7nTBsmgapoCrNFObIcN4pf/Ob/mrvHTGqqgAupL8qWjWPS9m/31jAe4DjA+4+uCoQoT/zOzlrNd3qd4SdphFxsUvYwGWbTWtISc3wNOWH+kHBMfc6kpmpwPgHWwqaSUG2ZWWheYOGQGaHB+eQ/kn6b3pOgLV+ODSn94wDvr8Bvb70/LLuiPPEr8OGVWfDmr45PZyccEmsVXZGe1pRNX9SU5+AVQkNTIVPCHF/jGmyDC9j4R9LfWcQvfiETmgMMUCMN1uNCakkweZsowdYobiMSlnKA93u7NzTXlSfe+SVbfnPQXmg9LpYAQxpwEtONyEyaueWM4FPjjyjG3uOaFmBTWDNgBXGEiQpsaWhnAqIijB07Dlsy3fUGeP989xbWkyf+FF2SNEtT1E0f4DYYVlxFlbaSMPIRMk/3iMU5pME2SIWJvjckciebkQuIRRyhUvkHg/iUljG5kzVog5hV7vIlCuBrmlhvgPfNHQM8lCf+FEGsYbMIBC0qC9a0uuy2wLXVbLBaP5kjHokCRxapkQyzI4QEcwgYHRZBp+XEFTqXFuNVzMtjXLJgX4gAid24Hjwc4N3dtVSe+NNiwTrzH4WVUOlDobUqr1FuAgYllc8pmzoVrELRHSIW8ViPxNy4xwjBpyR55I6J220qQTZYR4guvUICJiSpr9gFFle4RcF/OMB7BRiX8sSfhpNSO3lvEZCQfLUVTKT78Ek1LRLhWN+yLyTnp8qWUZ46b6vxdRGXfHVqx3eI75YaLa4iNNiK4NOW7wPW6lhbSOF9/M9qw8e/aoB3d156qTzxp8pXx5BKAsYSTOIIiPkp68GmTq7sZtvyzBQaRLNxIZ+paozHWoLFeExIhRBrWitHCAHrCF7/thhD8JhYz84wg93QRV88wLuLY8zF8sQ36qF1J455bOlgnELfshKVxYOXKVuKx0jaj22sczTQqPqtV/XDgpswmGTWWMSDw3ssyUunLLrVPGjYRsH5ggHeHSWiV8kT33ycFSfMgkoOK8apCye0J6VW6GOYvffgU9RWsukEi2kUV2nl4dOYUzRik9p7bcA4ggdJ53LxKcEe17B1R8eqAd7dOepV8sTXf5lhejoL85hUdhDdknPtKHFhljOT+bdq0hxbm35p2nc8+Ja1Iw+tJykgp0EWuAAZYwMVwac5KzYMslhvgHdHRrxKnvhTYcfKsxTxtTETkjHO7rr3zjoV25lAQHrqpV7bTiy2aXMmUhTBnKS91jhtR3GEoF0oLnWhWNnYgtcc4N0FxlcgT7yz3TgNIKkscx9jtV1ZKpWW+Ub1tc1eOv5ucdgpx+FJy9pgbLE7xDyXb/f+hLHVGeitHOi6A7ybo3sF8sS7w7cgdk0nJaOn3hLj3uyD0Zp5pazFIUXUpuTTU18d1EPkDoX8SkmWTnVIozEdbTcZjoqxhNHf1JrSS/AcvHjZ/SMHhL/7i5z+POsTUh/8BvNfYMTA8n+yU/MlTZxSJDRStqvEuLQKWwDctMTQogUDyQRoTQG5Kc6oQRE1yV1jCA7ri7jdZyK0sYTRjCR0Hnnd+y7nHxNgTULqw+8wj0mQKxpYvhjm9uSUxg+TTy7s2GtLUGcywhXSKZN275GsqlclX90J6bRI1aouxmgL7Q0Nen5ziM80SqMIo8cSOo+8XplT/5DHNWsSUr/6lLN/QQ3rDyzLruEW5enpf7KqZoShEduuSFOV7DLX7Ye+GmXb6/hnNNqKsVXuMDFpb9Y9eH3C6NGEzuOuI3gpMH/I6e+zDiH1fXi15t3vA1czsLws0TGEtmPEJdiiFPwlwKbgLHAFk4P6ZyPdymYYHGE0dutsChQBl2JcBFlrEkY/N5bQeXQ18gjunuMfMfsBlxJSx3niO485fwO4fGD5T/+3fPQqkneWVdwnw/3bMPkW9Wbqg+iC765Zk+xcT98ibKZc2EdgHcLoF8cSOo/Oc8fS+OyEULF4g4sJqXVcmfMfsc7A8v1/yfGXmL9I6Fn5pRwZhsPv0TxFNlAfZCvG+Oohi82UC5f/2IsJo0cTOm9YrDoKhFPEUr/LBYTUNht9zelHXDqwfPCIw4owp3mOcIQcLttWXFe3VZ/j5H3cIc0G6oPbCR+6Y2xF2EC5cGUm6wKC5tGEzhsWqw5hNidUiKX5gFWE1GXh4/Qplw4sVzOmx9QxU78g3EF6wnZlEN4FzJ1QPSLEZz1KfXC7vd8ssGdIbNUYpVx4UapyFUHzJoTOo1McSkeNn1M5MDQfs4qQuhhX5vQZFw8suwWTcyYTgioISk2YdmkhehG4PkE7w51inyAGGaU+uCXADabGzJR1fn3lwkty0asIo8cROm9Vy1g0yDxxtPvHDAmpu+PKnM8Ix1wwsGw91YJqhteaWgjYBmmQiebmSpwKKzE19hx7jkzSWOm66oPbzZ8Yj6kxVSpYjVAuvLzYMCRo3oTQecOOjjgi3NQ4l9K5/hOGhNTdcWVOTrlgYNkEXINbpCkBRyqhp+LdRB3g0OU6rMfW2HPCFFMV9nSp+uB2woepdbLBuJQyaw/ZFysXrlXwHxI0b0LovEkiOpXGA1Ijagf+KUNC6rKNa9bQnLFqYNkEnMc1uJrg2u64ELPBHpkgWbmwKpJoDhMwNbbGzAp7Yg31wS2T5rGtzit59PrKhesWG550CZpHEzpv2NGRaxlNjbMqpmEIzygJqQfjypycs2pg2cS2RY9r8HUqkqdEgKTWtWTKoRvOBPDYBltja2SO0RGjy9UHtxwRjA11ujbKF+ti5cIR9eCnxUg6owidtyoU5tK4NLji5Q3HCtiyF2IqLGYsHViOXTXOYxucDqG0HyttqYAKqYo3KTY1ekyDXRAm2AWh9JmsVh/ccg9WJ2E8YjG201sPq5ULxxX8n3XLXuMInbft2mk80rRGjCGctJ8/GFdmEQ9Ug4FlE1ll1Y7jtiraqm5Fe04VV8lvSVBL8hiPrfFVd8+7QH3Qbu2ipTVi8cvSGivc9cj8yvH11YMHdNSERtuOslM97feYFOPKzGcsI4zW0YGAbTAOaxCnxdfiYUmVWslxiIblCeAYr9VYR1gM7GmoPrilunSxxeT3DN/2eBQ9H11+nk1adn6VK71+5+Jfct4/el10/7KBZfNryUunWSCPxPECk1rdOv1WVSrQmpC+Tl46YD3ikQYcpunSQgzVB2VHFhxHVGKDgMEY5GLlQnP7FMDzw7IacAWnO6sBr12u+XanW2AO0wQ8pknnFhsL7KYIqhkEPmEXFkwaN5KQphbkUmG72wgw7WSm9RiL9QT925hkjiVIIhphFS9HKI6/8QAjlpXqg9W2C0apyaVDwKQwrwLY3j6ADR13ZyUNByQXHQu6RY09Hu6zMqXRaNZGS/KEJs0cJEe9VH1QdvBSJv9h09eiRmy0V2uJcqHcShcdvbSNg5fxkenkVprXM9rDVnX24/y9MVtncvbKY706anNl3ASll9a43UiacVquXGhvq4s2FP62NGKfQLIQYu9q1WmdMfmUrDGt8eDS0cXozH/fjmUH6Jruvm50hBDSaEU/2Ru2LEN/dl006TSc/g7tfJERxGMsgDUEr104pfWH9lQaN+M4KWQjwZbVc2rZVNHsyHal23wZtIs2JJqtIc/WLXXRFCpJkfE9jvWlfFbsNQ9pP5ZBS0zKh4R0aMFj1IjTcTnvi0Zz2rt7NdvQb2mgbju1plsH8MmbnEk7KbK0b+wC2iy3aX3szW8xeZvDwET6hWZYwqTXSSG+wMETKum0Dq/q+x62gt2ua2ppAo309TRk9TPazfV3qL9H8z7uhGqGqxNVg/FKx0HBl9OVUORn8Q8Jx9gFttGQUDr3tzcXX9xGgN0EpzN9mdZ3GATtPhL+CjxFDmkeEU6x56kqZRusLzALXVqkCN7zMEcqwjmywDQ6OhyUe0Xao1Qpyncrg6wKp9XfWDsaZplElvQ/b3sdweeghorwBDlHzgk1JmMc/wiERICVy2VJFdMjFuLQSp3S0W3+sngt2njwNgLssFGVQdJ0tu0KH4ky1LW4yrbkuaA6Iy9oz/qEMMXMMDWyIHhsAyFZc2peV9hc7kiKvfULxCl9iddfRK1f8kk9qvbdOoBtOg7ZkOZ5MsGrSHsokgLXUp9y88smniwWyuFSIRVmjplga3yD8Uij5QS1ZiM4U3Qw5QlSm2bXjFe6jzzBFtpg+/YBbLAWG7OPynNjlCw65fukGNdkJRf7yM1fOxVzbxOJVocFoYIaGwH22mIQkrvu1E2nGuebxIgW9U9TSiukPGU+Lt++c3DJPKhyhEEbXCQLUpae2exiKy6tMPe9mDRBFCEMTWrtwxN8qvuGnt6MoihKWS5NSyBhbH8StXoAz8PLOrRgLtOT/+4vcu+7vDLnqNvztOq7fmd8sMmY9Xzn1zj8Dq8+XVdu2Nv0IIySgEdQo3xVHps3Q5i3fLFsV4aiqzAiBhbgMDEd1uh8qZZ+lwhjkgokkOIv4xNJmyncdfUUzgB4oFMBtiu71Xumpz/P+cfUP+SlwFExwWW62r7b+LSPxqxn/gvMZ5z9C16t15UbNlq+jbGJtco7p8wbYlL4alSyfWdeuu0j7JA3JFNuVAwtst7F7FhWBbPFNKIUORndWtLraFLmMu7KFVDDOzqkeaiN33YAW/r76wR4XDN/yN1z7hejPau06EddkS/6XThfcz1fI/4K736fO48vlxt2PXJYFaeUkFS8U15XE3428xdtn2kc8GQlf1vkIaNRRnOMvLTWrZbElEHeLWi1o0dlKPAh1MVgbbVquPJ5+Cr8LU5/H/+I2QlHIU2ClXM9G8v7Rr7oc/hozfUUgsPnb3D+I+7WF8kNO92GY0SNvuxiE+2Bt8prVJTkzE64sfOstxuwfxUUoyk8VjcTlsqe2qITSFoSj6Epd4KsT6BZOWmtgE3hBfir8IzZDwgV4ZTZvD8VvPHERo8v+vL1DASHTz/i9OlKueHDjK5Rnx/JB1Vb1ioXdBra16dmt7dgik10yA/FwJSVY6XjA3oy4SqM2frqDPPSRMex9qs3XQtoWxMj7/Er8GWYsXgjaVz4OYumP2+9kbxvny/6kvWsEBw+fcb5bInc8APdhpOSs01tEqIkoiZjbAqKMruLbJYddHuHFRIyJcbdEdbl2sVLaySygunutBg96Y2/JjKRCdyHV+AEFtTvIpbKIXOamknYSiB6KV/0JetZITgcjjk5ZdaskBtWO86UF0ap6ozGXJk2WNiRUlCPFir66lzdm/SLSuK7EUdPz8f1z29Skq6F1fXg8+5UVR6bszncP4Tn4KUkkdJ8UFCY1zR1i8RmL/qQL3rlei4THG7OODlnKko4oI01kd3CaM08Ia18kC3GNoVaO9iDh+hWxSyTXFABXoau7Q6q9OxYg/OVEMw6jdbtSrJ9cBcewGmaZmg+bvkUnUUaGr+ZfnMH45Ivevl61hMcXsxYLFTu1hTm2zViCp7u0o5l+2PSUh9bDj6FgYypufBDhqK2+oXkiuHFHR3zfj+9PtA8oR0xnqX8qn+sx3bFODSbbF0X8EUvWQ8jBIcjo5bRmLOljDNtcqNtOe756h3l0VhKa9hDd2l1eqmsnh0MNMT/Cqnx6BInumhLT8luljzQ53RiJeA/0dxe5NK0o2fA1+GLXr6eNQWHNUOJssQaTRlGpLHKL9fD+IrQzTOMZS9fNQD4AnRNVxvTdjC+fJdcDDWQcyB00B0t9BDwTxXgaAfzDZ/DBXzRnfWMFRwuNqocOmX6OKNkY63h5n/fFcB28McVHqnXZVI27K0i4rDLNE9lDKV/rT+udVbD8dFFu2GGZ8mOt0kAXcoX3ZkIWVtw+MNf5NjR2FbivROHmhV1/pj2egv/fMGIOWTIWrV3Av8N9imV9IWml36H6cUjqEWNv9aNc+veb2sH46PRaHSuMBxvtW+twxctq0z+QsHhux8Q7rCY4Ct8lqsx7c6Sy0dl5T89rIeEuZKoVctIk1hNpfavER6yyH1Vvm3MbsUHy4ab4hWr/OZPcsRBphnaV65/ZcdYPNNwsjN/djlf9NqCw9U5ExCPcdhKxUgLSmfROpLp4WSUr8ojdwbncbvCf+a/YzRaEc6QOvXcGO256TXc5Lab9POvB+AWY7PigWYjzhifbovuunzRawsO24ZqQQAqguBtmpmPB7ysXJfyDDaV/aPGillgz1MdQg4u5MYaEtBNNHFjkRlSpd65lp4hd2AVPTfbV7FGpyIOfmNc/XVsPfg7vzaS/3nkvLL593ANLvMuRMGpQIhiF7kUEW9QDpAUbTWYBcbp4WpacHHY1aacqQyjGZS9HI3yCBT9kUZJhVOD+zUDvEH9ddR11fzPcTDQ5TlgB0KwqdXSavk9BC0pKp0WmcuowSw07VXmXC5guzSa4p0UvRw2lbDiYUx0ExJJRzWzi6Gm8cnEkfXXsdcG/M/jAJa0+bmCgdmQ9CYlNlSYZOKixmRsgiFxkrmW4l3KdFKv1DM8tk6WxPYJZhUUzcd8Kdtgrw/gkfXXDT7+avmfVak32qhtkg6NVdUS5wgkru1YzIkSduTW1FDwVWV3JQVJVuieTc0y4iDpFwc7/BvSalvKdQM8sv662cevz/+8sQVnjVAT0W2wLllw1JiMhJRxgDjCjLQsOzSFSgZqx7lAW1JW0e03yAD3asC+GD3NbQhbe+mN5GXH1F83KDOM4n/e5JIuH4NpdQARrFPBVptUNcjj4cVMcFSRTE2NpR1LEYbYMmfWpXgP9KejaPsLUhuvLCsVXznAG9dfx9SR1ud/3hZdCLHb1GMdPqRJgqDmm76mHbvOXDtiO2QPUcKo/TWkQ0i2JFXpBoo7vij1i1Lp3ADAo+qvG3V0rM//vFnnTE4hxd5Ka/Cor5YEdsLVJyKtDgVoHgtW11pWSjolPNMnrlrVj9Fv2Qn60twMwKPqr+N/wvr8z5tZcDsDrv06tkqyzESM85Ycv6XBWA2birlNCXrI6VbD2lx2L0vQO0QVTVVLH4SE67fgsfVXv8n7sz7/85Z7cMtbE6f088wSaR4kCkCm10s6pKbJhfqiUNGLq+0gLWC6eUAZFPnLjwqtKd8EwGvWX59t7iPW4X/eAN1svgRVSY990YZg06BD1ohLMtyFTI4pKTJsS9xREq9EOaPWiO2gpms7397x6nQJkbh+Fz2q/rqRROX6/M8bJrqlVW4l6JEptKeUFuMYUbtCQ7CIttpGc6MY93x1r1vgAnRXvY5cvwWPqb9uWQm+lP95QxdNMeWhOq1x0Db55C7GcUv2ZUuN6n8iKzsvOxibC//Yfs9Na8r2Rlz02vXXDT57FP/zJi66/EJSmsJKa8QxnoqW3VLQ+jZVUtJwJ8PNX1NQCwfNgdhhHD9on7PdRdrdGPF28rJr1F+3LBdeyv+8yYfLoMYet1vX4upNAjVvwOUWnlNXJXlkzk5Il6kqeoiL0C07qno+/CYBXq/+utlnsz7/Mzvy0tmI4zm4ag23PRN3t/CWryoUVJGm+5+K8RJ0V8Hc88/XHUX/HfiAq7t+BH+x6v8t438enWmdJwFA6ZINriLGKv/95f8lT9/FnyA1NMVEvQyaXuu+gz36f/DD73E4pwqpLcvm/o0Vle78n//+L/NPvoefp1pTJye6e4A/D082FERa5/opeH9zpvh13cNm19/4v/LDe5xMWTi8I0Ta0qKlK27AS/v3/r+/x/2GO9K2c7kVMonDpq7//jc5PKCxeNPpFVzaRr01wF8C4Pu76hXuX18H4LduTr79guuFD3n5BHfI+ZRFhY8w29TYhbbLi/bvBdqKE4fUgg1pBKnV3FEaCWOWyA+m3WpORZr/j+9TKJtW8yBTF2/ZEODI9/QavHkVdGFp/Pjn4Q+u5hXapsP5sOH+OXXA1LiKuqJxiMNbhTkbdJTCy4llEt6NnqRT4dhg1V3nbdrm6dYMecA1yTOL4PWTE9L5VzPFlLBCvlG58AhehnN4uHsAYinyJ+AZ/NkVvELbfOBUuOO5syBIEtiqHU1k9XeISX5bsimrkUUhnGDxourN8SgUsCZVtKyGbyGzHXdjOhsAvOAswSRyIBddRdEZWP6GZhNK/yjwew9ehBo+3jEADu7Ay2n8mDc+TS7awUHg0OMzR0LABhqLD4hJEh/BEGyBdGlSJoXYXtr+3HS4ijzVpgi0paWXtdruGTknXBz+11qT1Q2inxaTzQCO46P3lfLpyS4fou2PH/PupwZgCxNhGlj4IvUuWEsTkqMWm6i4xCSMc9N1RDQoCVcuGItJ/MRWefais+3synowi/dESgJjkilnWnBTGvRWmaw8oR15257t7CHmCf8HOn7cwI8+NQBXMBEmAa8PMRemrNCEhLGEhDQKcGZWS319BX9PFBEwGTbRBhLbDcaV3drFcDqk5kCTd2JF1Wp0HraqBx8U0wwBTnbpCadwBA/gTH/CDrcCs93LV8E0YlmmcyQRQnjBa8JESmGUfIjK/7fkaDJpmD2QptFNVJU1bbtIAjjWQizepOKptRjbzR9Kag6xZmMLLjHOtcLT3Tx9o/0EcTT1XN3E45u24AiwEypDJXihKjQxjLprEwcmRKclaDNZCVqr/V8mYWyFADbusiY5hvgFoU2vio49RgJLn5OsReRFN6tabeetiiy0V7KFHT3HyZLx491u95sn4K1QQSPKM9hNT0wMVvAWbzDSVdrKw4zRjZMyJIHkfq1VAVCDl/bUhNKlGq0zGr05+YAceXVPCttVk0oqjVwMPt+BBefx4yPtGVkUsqY3CHDPiCM5ngupUwCdbkpd8kbPrCWHhkmtIKLEetF2499eS1jZlIPGYnlcPXeM2KD9vLS0bW3ktYNqUllpKLn5ZrsxlIzxvDu5eHxzGLctkZLEY4PgSOg2IUVVcUONzUDBEpRaMoXNmUc0tFZrTZquiLyKxrSm3DvIW9Fil+AkhXu5PhEPx9mUNwqypDvZWdKlhIJQY7vn2OsnmBeOWnYZ0m1iwbbw1U60by5om47iHRV6fOgzjMf/DAZrlP40Z7syxpLK0lJ0gqaAK1c2KQKu7tabTXkLFz0sCftuwX++MyNeNn68k5Buq23YQhUh0SNTJa1ioQ0p4nUG2y0XilF1JqODqdImloPS4Bp111DEWT0jJjVv95uX9BBV7eB3bUWcu0acSVM23YZdd8R8UbQUxJ9wdu3oMuhdt929ME+mh6JXJ8di2RxbTi6TbrDquqV4aUKR2iwT6aZbyOwEXN3DUsWr8Hn4EhwNyHuXHh7/pdaUjtR7vnDh/d8c9xD/s5f501eQ1+CuDiCvGhk1AN/4Tf74RfxPwD3toLarR0zNtsnPzmS64KIRk861dMWCU8ArasG9T9H0ZBpsDGnjtAOM2+/LuIb2iIUGXNgl5ZmKD/Tw8TlaAuihaFP5yrw18v4x1898zIdP+DDAX1bM3GAMvPgRP/cJn3zCW013nrhHkrITyvYuwOUkcHuKlRSW5C6rzIdY4ppnF7J8aAJbQepgbJYBjCY9usGXDKQxq7RZfh9eg5d1UHMVATRaD/4BHK93/1iAgYZ/+jqPn8Dn4UExmWrpa3+ZOK6MvM3bjwfzxNWA2dhs8+51XHSPJiaAhGSpWevEs5xHLXcEGFXYiCONySH3fPWq93JIsBiSWvWyc3CAN+EcXoT7rCSANloPPoa31rt/5PUA/gp8Q/jDD3hyrjzlR8VkanfOvB1XPubt17vzxAfdSVbD1pzAnfgyF3ycadOTOTXhpEUoLC1HZyNGW3dtmjeXgr2r56JNmRwdNNWaQVBddd6rh4MhviEB9EFRD/7RGvePvCbwAL4Mx/D6M541hHO4D3e7g6PafdcZVw689z7NGTwo5om7A8sPhccT6qKcl9NJl9aM/9kX+e59Hh1yPqGuCCZxuITcsmNaJ5F7d0q6J3H48TO1/+M57085q2icdu2U+W36Ldllz9Agiv4YGljoEN908EzvDOrBF98/vtJwCC/BF2AG75xxEmjmMIcjxbjoaxqOK3/4hPOZzhMPBpYPG44CM0dTVm1LjLtUWWVz1Bcf8tEx0zs8O2A2YVHRxKYOiy/aOVoAaMu0i7ubu43njjmd4ibMHU1sIDHaQNKrZND/FZYdk54oCXetjq7E7IVl9eAL7t+oHnwXXtLx44czzoRFHBztYVwtH1d+NOMkupZ5MTM+gUmq90X+Bh9zjRlmaQ+m7YMqUL/veemcecAtOJ0yq1JnVlN27di2E0+Klp1tAJ4KRw1eMI7aJjsO3R8kPSI3fUFXnIOfdQe86sIIVtWDL7h//Ok6vj8vwDk08NEcI8zz7OhBy+WwalzZeZ4+0XniRfst9pAJqQHDGLzVQ2pheZnnv1OWhwO43/AgcvAEXEVVpa4db9sGvNK8wjaENHkfFQ4Ci5i7dqnQlPoLQrHXZDvO3BIXZbJOBrOaEbML6sFL798I4FhKihjHMsPjBUZYCMFr6nvaArxqXPn4lCa+cHfSa2cP27g3Z3ziYTRrcbQNGLQmGF3F3cBdzzzX7AILx0IB9rbwn9kx2G1FW3Inic+ZLIsVvKR8Zwfj0l1fkqo8LWY1M3IX14OX3r9RKTIO+d9XzAI8qRPGPn/4NC2n6o4rN8XJ82TOIvuVA8zLKUHRFgBCetlDZlqR1gLKjS39xoE7Bt8UvA6BxuEDjU3tFsEijgA+615tmZkXKqiEENrh41iLDDZNq4pKTWR3LZfnos81LOuNa15cD956vLMsJd1rqYp51gDUQqMYm2XsxnUhD2jg1DM7SeuJxxgrmpfISSXVIJIS5qJJSvJPEQ49DQTVIbYWJ9QWa/E2+c/oPK1drmC7WSfJRNKBO5Yjvcp7Gc3dmmI/Xh1kDTEuiSnWqQf37h+fTMhGnDf6dsS8SQfQWlqqwXXGlc/PEZ/SC5mtzIV0nAshlQdM/LvUtYutrEZ/Y+EAFtq1k28zQhOwLr1AIeANzhF8t9qzTdZf2qRKO6MWE9ohBYwibbOmrFtNmg3mcS+tB28xv2uKd/agYCvOP+GkSc+0lr7RXzyufL7QbkUpjLjEWFLqOIkAGu2B0tNlO9Eau2W1qcOUvVRgKzypKIQZ5KI3q0MLzqTNRYqiZOqmtqloIRlmkBHVpHmRYV6/HixbO6UC47KOFJnoMrVyr7wYz+SlW6GUaghYbY1I6kkxA2W1fSJokUdSh2LQ1GAimRGm0MT+uu57H5l7QgOWxERpO9moLRPgTtquWCfFlGlIjQaRly9odmzMOWY+IBO5tB4sW/0+VWGUh32qYk79EidWKrjWuiLpiVNGFWFRJVktyeXWmbgBBzVl8anPuXyNJlBJOlKLTgAbi/EYHVHxWiDaVR06GnHQNpJcWcK2jJtiCfG2sEHLzuI66sGrMK47nPIInPnu799935aOK2cvmvubrE38ZzZjrELCmXM2hM7UcpXD2oC3+ECVp7xtIuxptJ0jUr3sBmBS47TVxlvJ1Sqb/E0uLdvLj0lLr29ypdd/eMX3f6lrxGlKwKQxEGvw0qHbkbwrF3uHKwVENbIV2wZ13kNEF6zD+x24aLNMfDTCbDPnEikZFyTNttxWBXDaBuM8KtI2rmaMdUY7cXcUPstqTGvBGSrFWIpNMfbdea990bvAOC1YX0qbc6smDS1mPxSJoW4fwEXvjMmhlijDRq6qale6aJEuFGoppYDoBELQzLBuh/mZNx7jkinv0EtnUp50lO9hbNK57lZaMAWuWR5Yo9/kYwcYI0t4gWM47Umnl3YmpeBPqSyNp3K7s2DSAS/39KRuEN2bS4xvowV3dFRMx/VFcp2Yp8w2nTO9hCXtHG1kF1L4KlrJr2wKfyq77R7MKpFKzWlY9UkhYxyHWW6nBWPaudvEAl3CGcNpSXPZ6R9BbBtIl6cHL3gIBi+42CYXqCx1gfGWe7Ap0h3luyXdt1MKy4YUT9xSF01G16YEdWsouW9mgDHd3veyA97H+Ya47ZmEbqMY72oPztCGvK0onL44AvgC49saZKkWRz4veWljE1FHjbRJaWv6ZKKtl875h4CziFCZhG5rx7tefsl0aRT1bMHZjm8dwL/6u7wCRysaQblQoG5yAQN5zpatMNY/+yf8z+GLcH/Qn0iX2W2oEfXP4GvwQHuIL9AYGnaO3zqAX6946nkgqZNnUhx43DIdQtMFeOPrgy/y3Yd85HlJWwjLFkU3kFwq28xPnuPhMWeS+tDLV9Otllq7pQCf3uXJDN9wFDiUTgefHaiYbdfi3b3u8+iY6TnzhgehI1LTe8lcd7s1wJSzKbahCRxKKztTLXstGAiu3a6rPuQs5pk9TWAan5f0BZmGf7Ylxzzk/A7PAs4QPPPAHeFQ2hbFHszlgZuKZsJcUmbDC40sEU403cEjczstOEypa+YxevL4QBC8oRYqWdK6b7sK25tfE+oDZgtOQ2Jg8T41HGcBE6fTWHn4JtHcu9S7uYgU5KSCkl/mcnq+5/YBXOEr6lCUCwOTOM1taOI8mSxx1NsCXBEmLKbMAg5MkwbLmpBaFOPrNSlO2HnLiEqW3tHEwd8AeiQLmn+2gxjC3k6AxREqvKcJbTEzlpLiw4rNZK6oJdidbMMGX9FULKr0AkW+2qDEPBNNm5QAt2Ik2nftNWHetubosHLo2nG4vQA7GkcVCgVCgaDixHqo9UUn1A6OshapaNR/LPRYFV8siT1cCtJE0k/3WtaNSuUZYKPnsVIW0xXWnMUxq5+En4Kvw/MqQmVXnAXj9Z+9zM98zM/Agy7F/qqj2Nh67b8HjFnPP3iBn/tkpdzwEJX/whIcQUXOaikeliCRGUk7tiwF0rItwMEhjkZ309hikFoRAmLTpEXWuHS6y+am/KB/fM50aLEhGnSMwkpxzOov4H0AvgovwJ1iGzDLtJn/9BU+fAINfwUe6FHSLhu83viV/+/HrOePX+STT2B9uWGbrMHHLldRBlhS/CJQmcRxJFqZica01XixAZsYiH1uolZxLrR/SgxVIJjkpQP4PE9sE59LKLr7kltSBogS5tyszzH8Fvw8/AS8rNOg0xUS9fIaHwb+6et8Q/gyvKRjf5OusOzGx8evA/BP4IP11uN/grca5O0lcsPLJ5YjwI4QkJBOHa0WdMZYGxPbh2W2nR9v3WxEWqgp/G3+6VZbRLSAAZ3BhdhAaUL33VUSw9yjEsvbaQ9u4A/gGXwZXoEHOuU1GSj2chf+Mo+f8IcfcAxfIKVmyunRbYQVnoevwgfw3TXXcw++xNuP4fhyueEUNttEduRVaDttddoP0eSxLe2LENk6itYxlrxBNBYrNNKSQmeaLcm9c8UsaB5WyO6675yyQIAWSDpBVoA/gxmcwEvwoDv0m58UE7gHn+fJOa8/Ywan8EKRfjsopF83eCglX/Sfr7OeaRoQfvt1CGvIDccH5BCvw1sWIzRGC/66t0VTcLZQZtm6PlAasbOJ9iwWtUo7biktTSIPxnR24jxP1ZKaqq+2RcXM9OrBAm/AAs7hDJ5bNmGb+KIfwCs8a3jnjBrOFeMjHSCdbKr+2uOLfnOd9eiA8Hvvwwq54VbP2OqwkB48Ytc4YEOiH2vTXqodabfWEOzso4qxdbqD5L6tbtNPECqbhnA708DZH4QOJUXqScmUlks7Ot6FBuZw3n2mEbaUX7kDzxHOOQk8nKWMzAzu6ZZ8sOFw4RK+6PcuXo9tB4SbMz58ApfKDXf3szjNIIbGpD5TKTRxGkEMLjLl+K3wlWXBsCUxIDU+jbOiysESqAy1MGUJpXgwbTWzNOVEziIXZrJ+VIztl1PUBxTSo0dwn2bOmfDRPD3TRTGlfbCJvO9KvuhL1hMHhB9wPuPRLGHcdOWG2xc0U+5bQtAJT0nRTewXL1pgk2+rZAdeWmz3jxAqfNQQdzTlbF8uJ5ecEIWvTkevAHpwz7w78QujlD/Lr491bD8/1vhM2yrUQRrWXNQY4fGilfctMWYjL72UL/qS9eiA8EmN88nbNdour+PBbbAjOjIa4iBhfFg6rxeKdEGcL6p3EWR1Qq2Qkhs2DrnkRnmN9tG2EAqmgPw6hoL7Oza7B+3SCrR9tRftko+Lsf2F/mkTndN2LmzuMcKTuj/mX2+4Va3ki16+nnJY+S7MefpkidxwnV+4wkXH8TKnX0tsYzYp29DOOoSW1nf7nTh2akYiWmcJOuTidSaqESrTYpwjJJNVGQr+rLI7WsqerHW6Kp/oM2pKuV7T1QY9gjqlZp41/WfKpl56FV/0kvXQFRyeQ83xaTu5E8p5dNP3dUF34ihyI3GSpeCsywSh22ZJdWto9winhqifb7VRvgktxp13vyjrS0EjvrRfZ62uyqddSWaWYlwTPAtJZ2oZ3j/Sgi/mi+6vpzesfAcWNA0n8xVyw90GVFGuZjTXEQy+6GfLGLMLL523f5E0OmxVjDoOuRiH91RKU+vtoCtH7TgmvBLvtFXWLW15H9GTdVw8ow4IlRLeHECN9ym1e9K0I+Cbnhgv4Yu+aD2HaQJ80XDqOzSGAV4+4yCqBxrsJAX6ZTIoX36QnvzhhzzMfFW2dZVLOJfo0zbce5OvwXMFaZ81mOnlTVXpDZsQNuoYWveketKb5+6JOOsgX+NTm7H49fUTlx+WLuWL7qxnOFh4BxpmJx0p2gDzA/BUARuS6phR+pUsY7MMboAHx5xNsSVfVZcYSwqCKrqon7zM+8ecCkeS4nm3rINuaWvVNnMRI1IRpxTqx8PZUZ0Br/UEduo3B3hNvmgZfs9gQPj8vIOxd2kndir3awvJ6BLvoUuOfFWNYB0LR1OQJoUySKb9IlOBx74q1+ADC2G6rOdmFdJcD8BkfualA+BdjOOzP9uUhGUEX/TwhZsUduwRr8wNuXKurCixLBgpQI0mDbJr9dIqUuV+92ngkJZ7xduCk2yZKbfWrH1VBiTg9VdzsgRjW3CVXCvAwDd+c1z9dWw9+B+8MJL/eY15ZQ/HqvTwVdsZn5WQsgRRnMaWaecu3jFvMBEmgg+FJFZsnSl0zjB9OqPYaBD7qmoVyImFvzi41usesV0julaAR9dfR15Xzv9sEruRDyk1nb+QaLU67T885GTls6YgcY+UiMa25M/pwGrbCfzkvR3e0jjtuaFtnwuagHTSb5y7boBH119HXhvwP487jJLsLJ4XnUkHX5sLbS61dpiAXRoZSCrFJ+EjpeU3puVfitngYNo6PJrAigKktmwjyQdZpfq30mmtulaAx9Zfx15Xzv+cyeuiBFUs9zq8Kq+XB9a4PVvph3GV4E3y8HENJrN55H1X2p8VyqSKwVusJDKzXOZzplWdzBUFK9e+B4+uv468xvI/b5xtSAkBHQaPvtqWzllVvEOxPbuiE6+j2pvjcKsbvI7txnRErgfH7LdXqjq0IokKzga14GzQ23SSbCQvO6r+Or7SMIr/efOkkqSdMnj9mBx2DRsiY29Uj6+qK9ZrssCKaptR6HKURdwUYeUWA2kPzVKQO8ku2nU3Anhs/XWkBx3F/7wJtCTTTIKftthue1ty9xvNYLY/zo5KSbIuKbXpbEdSyeRyYdAIwKY2neyoc3+k1XUaufYga3T9daMUx/r8z1s10ITknIO0kuoMt+TB8jK0lpayqqjsJ2qtXAYwBU932zinimgmd6mTRDnQfr88q36NAI+tv24E8Pr8zxtasBqx0+xHH9HhlrwsxxNUfKOHQaZBITNf0uccj8GXiVmXAuPEAKSdN/4GLHhs/XWj92dN/uetNuBMnVR+XWDc25JLjo5Mg5IZIq226tmCsip2zZliL213YrTlL2hcFjpCduyim3M7/eB16q/blQsv5X/esDRbtJeabLIosWy3ycavwLhtxdWzbMmHiBTiVjJo6lCLjXZsi7p9PEPnsq6X6wd4bP11i0rD5fzPm/0A6brrIsllenZs0lCJlU4abakR59enZKrKe3BZihbTxlyZ2zl1+g0wvgmA166/bhwDrcn/7Ddz0eWZuJvfSESug6NzZsox3Z04FIxz0mUjMwVOOVTq1CQ0AhdbBGVdjG/CgsfUX7esJl3K/7ytWHRv683praW/8iDOCqWLLhpljDY1ZpzK75QiaZoOTpLKl60auHS/97oBXrv+umU9+FL+5+NtLFgjqVLCdbmj7pY5zPCPLOHNCwXGOcLquOhi8CmCWvbcuO73XmMUPab+ug3A6/A/78Bwe0bcS2+tgHn4J5pyS2WbOck0F51Vq3LcjhLvZ67p1ABbaL2H67bg78BfjKi/jr3+T/ABV3ilLmNXTI2SpvxWBtt6/Z//D0z/FXaGbSBgylzlsEGp+5//xrd4/ae4d8DUUjlslfIYS3t06HZpvfQtvv0N7AHWqtjP2pW08QD/FLy//da38vo8PNlKHf5y37Dxdfe/oj4kVIgFq3koLReSR76W/bx//n9k8jonZxzWTANVwEniDsg87sOSd/z7//PvMp3jQiptGVWFX2caezzAXwfgtzYUvbr0iozs32c3Uge7varH+CNE6cvEYmzbPZ9hMaYDdjK4V2iecf6EcEbdUDVUARda2KzO/JtCuDbNQB/iTeL0EG1JSO1jbXS+nLxtPMDPw1fh5+EPrgSEKE/8Gry5A73ui87AmxwdatyMEBCPNOCSKUeRZ2P6Myb5MRvgCHmA9ywsMifU+AYXcB6Xa5GibUC5TSyerxyh0j6QgLVpdyhfArRTTLqQjwe4HOD9s92D4Ap54odXAPBWLAwB02igG5Kkc+piN4lvODIFGAZgT+EO4Si1s7fjSR7vcQETUkRm9O+MXyo9OYhfe4xt9STQ2pcZRLayCV90b4D3jR0DYAfyxJ+eywg2IL7NTMXna7S/RpQ63JhWEM8U41ZyQGjwsVS0QBrEKLu8xwZsbi4wLcCT+OGidPIOCe1PiSc9Qt+go+vYqB7cG+B9d8cAD+WJPz0Am2gxXgU9IneOqDpAAXOsOltVuMzpdakJXrdPCzXiNVUpCeOos5cxnpQT39G+XVLhs1osQVvJKPZyNq8HDwd4d7pNDuWJPxVX7MSzqUDU6gfadKiNlUFTzLeFHHDlzO4kpa7aiKhBPGKwOqxsBAmYkOIpipyXcQSPlRTf+Tii0U3EJGaZsDER2qoB3h2hu0qe+NNwUooYU8y5mILbJe6OuX+2FTKy7bieTDAemaQyQ0CPthljSWO+xmFDIYiESjM5xKd6Ik5lvLq5GrQ3aCMLvmCA9wowLuWJb9xF59hVVP6O0CrBi3ZjZSNOvRy+I6klNVRJYRBaEzdN+imiUXQ8iVF8fsp+W4JXw7WISW7fDh7lptWkCwZ4d7QTXyBPfJMYK7SijjFppGnlIVJBJBYj7eUwtiP1IBXGI1XCsjNpbjENVpSAJ2hq2LTywEly3hUYazt31J8w2+aiLx3g3fohXixPfOMYm6zCGs9LVo9MoW3MCJE7R5u/WsOIjrqBoHUO0bJE9vxBpbhsd3+Nb4/vtPCZ4oZYCitNeYuC/8UDvDvy0qvkiW/cgqNqRyzqSZa/s0mqNGjtKOoTm14zZpUauiQgVfqtQiZjq7Q27JNaSK5ExRcrGCXO1FJYh6jR6CFqK7bZdQZ4t8g0rSlPfP1RdBtqaa9diqtzJkQ9duSryi2brQXbxDwbRUpFMBHjRj8+Nt7GDKgvph9okW7LX47gu0SpGnnFQ1S1lYldOsC7hYteR574ZuKs7Ei1lBsfdz7IZoxzzCVmmVqaSySzQbBVAWDek+N4jh9E/4VqZrJjPwiv9BC1XcvOWgO8275CVyBPvAtTVlDJfZkaZGU7NpqBogAj/xEHkeAuJihWYCxGN6e8+9JtSegFXF1TrhhLGP1fak3pebgPz192/8gB4d/6WT7+GdYnpH7hH/DJzzFiYPn/vjW0SgNpTNuPIZoAEZv8tlGw4+RLxy+ZjnKa5NdFoC7UaW0aduoYse6+bXg1DLg6UfRYwmhGEjqPvF75U558SANrElK/+MdpXvmqBpaXOa/MTZaa1DOcSiLaw9j0NNNst3c+63c7EKTpkvKHzu6bPbP0RkuHAVcbRY8ijP46MIbQeeT1mhA+5PV/inyDdQipf8LTvMXbwvoDy7IruDNVZKTfV4CTSRUYdybUCnGU7KUTDxLgCknqUm5aAW6/1p6eMsOYsphLzsHrE0Y/P5bQedx1F/4yPHnMB3/IOoTU9+BL8PhtjuFKBpZXnYNJxTuv+2XqolKR2UQgHhS5novuxVySJhBNRF3SoKK1XZbbXjVwWNyOjlqWJjrWJIy+P5bQedyldNScP+HZ61xKSK3jyrz+NiHG1hcOLL/+P+PDF2gOkekKGiNWKgJ+8Z/x8Iv4DdQHzcpZyF4v19I27w9/yPGDFQvmEpKtqv/TLiWMfn4sofMm9eAH8Ao0zzh7h4sJqYtxZd5/D7hkYPneDzl5idlzNHcIB0jVlQ+8ULzw/nc5/ojzl2juE0apD7LRnJxe04dMz2iOCFNtGFpTuXA5AhcTRo8mdN4kz30nVjEC4YTZQy4gpC7GlTlrePKhGsKKgeXpCYeO0MAd/GH7yKQUlXPLOasOH3FnSphjHuDvEu4gB8g66oNbtr6eMbFIA4fIBJkgayoXriw2XEDQPJrQeROAlY6aeYOcMf+IVYTU3XFlZufMHinGywaW3YLpObVBAsbjF4QJMsVUSayjk4voPsHJOQfPWDhCgDnmDl6XIRerD24HsGtw86RMHOLvVSHrKBdeVE26gKB5NKHzaIwLOmrqBWJYZDLhASG16c0Tn+CdRhWDgWXnqRZUTnPIHuMJTfLVpkoYy5CzylHVTGZMTwkGAo2HBlkQplrJX6U+uF1wZz2uwS1SQ12IqWaPuO4baZaEFBdukksJmkcTOm+YJSvoqPFzxFA/YUhIvWxcmSdPWTWwbAKVp6rxTtPFUZfKIwpzm4IoMfaYQLWgmlG5FME2gdBgm+J7J+rtS/XBbaVLsR7bpPQnpMFlo2doWaVceHk9+MkyguZNCJ1He+kuHTWyQAzNM5YSUg/GlTk9ZunAsg1qELVOhUSAK0LABIJHLKbqaEbHZLL1VA3VgqoiOKXYiS+HRyaEKgsfIqX64HYWbLRXy/qWoylIV9gudL1OWBNgBgTNmxA6b4txDT4gi3Ri7xFSLxtXpmmYnzAcWDZgY8d503LFogz5sbonDgkKcxGsWsE1OI+rcQtlgBBCSOKD1mtqYpIU8cTvBmAT0yZe+zUzeY92fYjTtGipXLhuR0ePoHk0ofNWBX+lo8Z7pAZDk8mEw5L7dVyZZoE/pTewbI6SNbiAL5xeygW4xPRuLCGbhcO4RIeTMFYHEJkYyEO9HmJfXMDEj/LaH781wHHZEtqSQ/69UnGpzH7LKIAZEDSPJnTesJTUa+rwTepI9dLJEawYV+ZkRn9g+QirD8vF8Mq0jFQ29js6kCS3E1+jZIhgPNanHdHFqFvPJLHqFwQqbIA4jhDxcNsOCCQLDomaL/dr5lyJaJU6FxPFjO3JOh3kVMcROo8u+C+jo05GjMF3P3/FuDLn5x2M04xXULPwaS6hBYki+MrMdZJSgPHlcB7nCR5bJ9Kr5ACUn9jk5kivdd8tk95SOGrtqu9lr2IhK65ZtEl7ZKrp7DrqwZfRUSN1el7+7NJxZbywOC8neNKTch5vsTEMNsoCCqHBCqIPRjIPkm0BjvFODGtto99rCl+d3wmHkW0FPdpZtC7MMcVtGFQjJLX5bdQ2+x9ypdc313uj8xlsrfuLgWXz1cRhZvJYX0iNVBRcVcmCXZs6aEf3RQF2WI/TcCbKmGU3IOoDJGDdDub0+hYckt6PlGu2BcxmhbTdj/klhccLGJMcqRjMJP1jW2ETqLSWJ/29MAoORluJ+6LPffBZbi5gqi5h6catQpmOT7/OFf5UorRpLzCqcMltBLhwd1are3kztrSzXO0LUbXRQcdLh/RdSZ+swRm819REDrtqzC4es6Gw4JCKlSnjYVpo0xeq33PrADbFLL3RuCmObVmPN+24kfa+AojDuM4umKe2QwCf6EN906HwjujaitDs5o0s1y+k3lgbT2W2i7FJdnwbLXhJUBq/9liTctSmFC/0OqUinb0QddTWamtjbHRFuWJJ6NpqZ8vO3fZJ37Db+2GkaPYLGHs7XTTdiFQJ68SkVJFVmY6McR5UycflNCsccHFaV9FNbR4NttLxw4pQ7wJd066Z0ohVbzihaxHVExd/ay04oxUKWt+AsdiQ9OUyZ2krzN19IZIwafSTFgIBnMV73ADj7V/K8u1MaY2sJp2HWm0f41tqwajEvdHWOJs510MaAqN4aoSiPCXtN2KSi46dUxHdaMquar82O1x5jqhDGvqmoE9LfxcY3zqA7/x3HA67r9ZG4O6Cuxu12/+TP+eLP+I+HErqDDCDVmBDO4larujNe7x8om2rMug0MX0rL1+IWwdwfR+p1TNTyNmVJ85ljWzbWuGv8/C7HD/izjkHNZNYlhZcUOKVzKFUxsxxN/kax+8zPWPSFKw80rJr9Tizyj3o1gEsdwgWGoxPezDdZ1TSENE1dLdNvuKL+I84nxKesZgxXVA1VA1OcL49dFlpFV5yJMhzyCmNQ+a4BqusPJ2bB+xo8V9u3x48VVIEPS/mc3DvAbXyoYr6VgDfh5do5hhHOCXMqBZUPhWYbWZECwVJljLgMUWOCB4MUuMaxGNUQDVI50TQ+S3kFgIcu2qKkNSHVoM0SHsgoZxP2d5HH8B9woOk4x5bPkKtAHucZsdykjxuIpbUrSILgrT8G7G5oCW+K0990o7E3T6AdW4TilH5kDjds+H64kS0mz24grtwlzDHBJqI8YJQExotPvoC4JBq0lEjjQkyBZ8oH2LnRsQ4Hu1QsgDTJbO8fQDnllitkxuVskoiKbRF9VwzMDvxHAdwB7mD9yCplhHFEyUWHx3WtwCbSMMTCUCcEmSGlg4gTXkHpZXWQ7kpznK3EmCHiXInqndkQjunG5kxTKEeGye7jWz9cyMR2mGiFQ15ENRBTbCp+Gh86vAyASdgmJq2MC6hoADQ3GosP0QHbnMHjyBQvQqfhy/BUbeHd5WY/G/9LK/8Ka8Jd7UFeNWEZvzPb458Dn8DGLOe3/wGL/4xP+HXlRt+M1PE2iLhR8t+lfgxsuh7AfO2AOf+owWhSZRYQbd622hbpKWKuU+XuvNzP0OseRDa+mObgDHJUSc/pKx31QdKffQ5OIJpt8GWjlgTwMc/w5MPCR/yl1XC2a2Yut54SvOtMev55Of45BOat9aWG27p2ZVORRvnEk1hqWMVUmqa7S2YtvlIpspuF1pt0syuZS2NV14mUidCSfzQzg+KqvIYCMljIx2YK2AO34fX4GWdu5xcIAb8MzTw+j/lyWM+Dw/gjs4GD6ehNgA48kX/AI7XXM/XAN4WHr+9ntywqoCakCqmKP0rmQrJJEErG2Upg1JObr01lKQy4jskWalKYfJ/EDLMpjNSHFEUAde2fltaDgmrNaWQ9+AAb8I5vKjz3L1n1LriB/BXkG/wwR9y/oRX4LlioHA4LzP2inzRx/DWmutRweFjeP3tNeSGlaE1Fde0OS11yOpmbIp2u/jF1n2RRZviJM0yBT3IZl2HWImKjQOxIyeU325b/qWyU9Moj1o07tS0G7qJDoGHg5m8yeCxMoEH8GU45tnrNM84D2l297DQ9t1YP7jki/7RmutRweEA77/HWXOh3HCxkRgldDQkAjNTMl2Iloc1qN5JfJeeTlyTRzxURTdn1Ixv2uKjs12AbdEWlBtmVdk2k7FFwj07PCZ9XAwW3dG+8xKzNFr4EnwBZpy9Qzhh3jDXebBpYcpuo4fQ44u+fD1dweEnHzI7v0xuuOALRUV8rXpFyfSTQYkhd7IHm07jpyhlkCmI0ALYqPTpUxXS+z4jgDj1Pflvmz5ecuItpIBxyTHpSTGWd9g1ApfD/bvwUhL4nT1EzqgX7cxfCcNmb3mPL/qi9SwTHJ49oj5ZLjccbTG3pRmlYi6JCG0mQrAt1+i2UXTZ2dv9IlQpN5naMYtviaXlTrFpoMsl3bOAFEa8sqPj2WCMrx3Yjx99qFwO59Aw/wgx+HlqNz8oZvA3exRDvuhL1jMQHPaOJ0+XyA3fp1OfM3qObEVdhxjvynxNMXQV4+GJyvOEFqeQBaIbbO7i63rpxCltdZShPFxkjM2FPVkn3TG+Rp9pO3l2RzFegGfxGDHIAh8SteR0C4HopXzRF61nheDw6TFN05Ebvq8M3VKKpGjjO6r7nhudTEGMtYM92HTDaR1FDMXJ1eThsbKfywyoWwrzRSXkc51flG3vIid62h29bIcFbTGhfV+faaB+ohj7dPN0C2e2lC96+XouFByen9AsunLDJZ9z7NExiUc0OuoYW6UZkIyx2YUR2z6/TiRjyKMx5GbbjLHvHuf7YmtKghf34LJfx63Yg8vrvN2zC7lY0x0tvKezo4HmGYDU+Gab6dFL+KI761lDcNifcjLrrr9LWZJctG1FfU1uwhoQE22ObjdfkSzY63CbU5hzs21WeTddH2BaL11Gi7lVdlxP1nkxqhnKhVY6knS3EPgVGg1JpN5cP/hivujOelhXcPj8HC/LyI6MkteVjlolBdMmF3a3DbsuAYhL44dxzthWSN065xxUd55Lmf0wRbOYOqH09/o9WbO2VtFdaMb4qBgtFJoT1SqoN8wPXMoXLb3p1PUEhxfnnLzGzBI0Ku7FxrKsNJj/8bn/H8fPIVOd3rfrklUB/DOeO+nkghgSPzrlPxluCMtOnDL4Yml6dK1r3vsgMxgtPOrMFUZbEUbTdIzii5beq72G4PD0DKnwjmBULUVFmy8t+k7fZ3pKc0Q4UC6jpVRqS9Umv8bxw35flZVOU1X7qkjnhZlsMbk24qQ6Hz7QcuL6sDC0iHHki96Uh2UdvmgZnjIvExy2TeJdMDZNSbdZyAHe/Yd1xsQhHiKzjh7GxQ4yqMPaywPkjMamvqrYpmO7Knad+ZQC5msCuAPWUoxrxVhrGv7a+KLXFhyONdTMrZ7ke23qiO40ZJUyzgYyX5XyL0mV7NiUzEs9mjtbMN0dERqwyAJpigad0B3/zRV7s4PIfXSu6YV/MK7+OrYe/JvfGMn/PHJe2fyUdtnFrKRNpXV0Y2559aWPt/G4BlvjTMtXlVIWCnNyA3YQBDmYIodFz41PvXPSa6rq9lWZawZ4dP115HXV/M/tnFkkrBOdzg6aP4pID+MZnTJ1SuuB6iZlyiox4HT2y3YBtkUKWooacBQUDTpjwaDt5poBHl1/HXltwP887lKKXxNUEyPqpGTyA699UqY/lt9yGdlUKra0fFWS+36iylVWrAyd7Uw0CZM0z7xKTOduznLIjG2Hx8cDPLb+OvK6Bv7n1DYci4CxUuRxrjBc0bb4vD3rN5Zz36ntLb83eVJIB8LiIzCmn6SMPjlX+yNlTjvIGjs+QzHPf60Aj62/jrzG8j9vYMFtm1VoRWCJdmw7z9N0t+c8cxZpPeK4aTRicS25QhrVtUp7U578chk4q04Wx4YoQSjFryUlpcQ1AbxZ/XVMknIU//OGl7Q6z9Zpxi0+3yFhSkjUDpnCIUhLWVX23KQ+L9vKvFKI0ZWFQgkDLvBoylrHNVmaw10zwCPrr5tlodfnf94EWnQ0lFRWy8pW9LbkLsyUVDc2NSTHGDtnD1uMtchjbCeb1mpxFP0YbcClhzdLu6lfO8Bj6q+bdT2sz/+8SZCV7VIxtt0DUn9L7r4cLYWDSXnseEpOGFuty0qbOVlS7NNzs5FOGJUqQpl2Q64/yBpZf90sxbE+//PGdZ02HSipCbmD6NItmQ4Lk5XUrGpDMkhbMm2ZVheNYV+VbUWTcv99+2NyX1VoafSuC+AN6q9bFIMv5X/eagNWXZxEa9JjlMwNWb00akGUkSoepp1/yRuuqHGbUn3UdBSTxBU6SEVklzWRUkPndVvw2PrrpjvxOvzPmwHc0hpmq82npi7GRro8dXp0KXnUQmhZbRL7NEVp1uuZmO45vuzKsHrktS3GLWXODVjw+vXXLYx4Hf7njRPd0i3aoAGX6W29GnaV5YdyDj9TFkakje7GHYzDoObfddHtOSpoi2SmzJHrB3hM/XUDDEbxP2/oosszcRlehWXUvzHv4TpBVktHqwenFo8uLVmy4DKLa5d3RtLrmrM3aMFr1183E4sewf+85VWeg1c5ag276NZrM9IJVNcmLEvDNaV62aq+14IAOGFsBt973Ra8Xv11YzXwNfmft7Jg2oS+XOyoC8/cwzi66Dhmgk38kUmP1CUiYWOX1bpD2zWXt2FCp7uq8703APAa9dfNdscR/M/bZLIyouVxqJfeWvG9Je+JVckHQ9+CI9NWxz+blX/KYYvO5n2tAP/vrlZ7+8/h9y+9qeB/Hnt967e5mevX10rALDWK//FaAT5MXdBXdP0C/BAes792c40H+AiAp1e1oH8HgH94g/Lttx1gp63op1eyoM/Bvw5/G/7xFbqJPcCXnmBiwDPb/YKO4FX4OjyCb289db2/Noqicw4i7N6TVtoz8tNwDH+8x/i6Ae7lmaQVENzJFb3Di/BFeAwz+Is9SjeQySpPqbLFlNmyz47z5a/AF+AYFvDmHqibSXTEzoT4Gc3OALaqAP4KPFUJ6n+1x+rGAM6Zd78bgJ0a8QN4GU614vxwD9e1Amy6CcskNrczLx1JIp6HE5UZD/DBHrFr2oNlgG4Odv226BodoryjGJ9q2T/AR3vQrsOCS0ctXZi3ruLlhpFDJYl4HmYtjQCP9rhdn4suySLKDt6wLcC52h8xPlcjju1fn+yhuw4LZsAGUuo2b4Fx2UwQu77uqRHXGtg92aN3tQCbFexc0uk93vhTXbct6y7MulLycoUljx8ngDMBg1tvJjAazpEmOtxlzclvj1vQf1Tx7QlPDpGpqgtdSKz/d9/hdy1vTfFHSmC9dGDZbLiezz7Ac801HirGZsWjydfZyPvHXL/Y8Mjzg8BxTZiuwKz4Eb8sBE9zznszmjvFwHKPIWUnwhqfVRcd4Ck0K6ate48m1oOfrX3/yOtvAsJ8zsPAM89sjnddmuLuDPjX9Bu/L7x7xpMzFk6nWtyQfPg278Gn4Aekz2ZgOmU9eJ37R14vwE/BL8G3aibCiWMWWDQ0ZtkPMnlcGeAu/Ag+8ZyecU5BPuy2ILD+sQqyZhAKmn7XZd+jIMTN9eBL7x95xVLSX4On8EcNlXDqmBlqS13jG4LpmGbkF/0CnOi3H8ETOIXzmnmtb0a16Tzxj1sUvQCBiXZGDtmB3KAefPH94xcUa/6vwRn80GOFyjEXFpba4A1e8KQfFF+259tx5XS4egYn8fQsLGrqGrHbztr+uByTahWuL1NUGbDpsnrwBfePPwHHIf9X4RnM4Z2ABWdxUBlqQ2PwhuDxoS0vvqB1JzS0P4h2nA/QgTrsJFn+Y3AOjs9JFC07CGWX1oNX3T/yHOzgDjwPn1PM3g9Jk9lZrMEpxnlPmBbjyo2+KFXRU52TJM/2ALcY57RUzjObbjqxVw++4P6RAOf58pcVsw9Daje3htriYrpDOonre3CudSe6bfkTEgHBHuDiyu5MCsc7BHhYDx7ePxLjqigXZsw+ijMHFhuwBmtoTPtOxOrTvYJDnC75dnUbhfwu/ZW9AgYd+peL68HD+0emKquiXHhWjJg/UrkJYzuiaL3E9aI/ytrCvAd4GcYZMCkSQxfUg3v3j8c4e90j5ZTPdvmJJGHnOCI2nHS8081X013pHuBlV1gB2MX1YNmWLHqqGN/TWmG0y6clJWthxNUl48q38Bi8vtMKyzzpFdSDhxZ5WBA5ZLt8Jv3895DduBlgbPYAj8C4B8hO68FDkoh5lydC4FiWvBOVqjYdqjiLv92t8yPDjrDaiHdUD15qkSURSGmXJwOMSxWAXYwr3zaAufJ66l+94vv3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/wHuD9tQd4f+0B3l97gPfXHuD9tQd4f+0B3l97gG8LwP8G/AL8O/A5OCq0Ys2KIdv/qOIXG/4mvFAMF16gZD+2Xvu/B8as5+8bfllWyg0zaNO5bfXj6vfhhwD86/Aq3NfRS9t9WPnhfnvCIw/CT8GLcFTMnpntdF/z9V+PWc/vWoIH+FL3Znv57PitcdGP4R/C34avw5fgRVUInCwbsn1yyA8C8zm/BH8NXoXnVE6wVPjdeCI38kX/3+Ct9dbz1pTmHFRu+Hm4O9Ch3clr99negxfwj+ER/DR8EV6B5+DuQOnTgUw5rnkY+FbNU3gNXh0o/JYTuWOvyBf9FvzX663HH/HejO8LwAl8Hl5YLTd8q7sqA3wbjuExfAFegQdwfyDoSkWY8swzEf6o4Qyewefg+cHNbqMQruSL/u/WWc+E5g7vnnEXgDmcDeSGb/F4cBcCgT+GGRzDU3hZYburAt9TEtHgbM6JoxJ+6NMzzTcf6c2bycv2+KK/f+l6LBzw5IwfqZJhA3M472pWT/ajKxnjv4AFnMEpnBTPND6s2J7qHbPAqcMK74T2mZ4VGB9uJA465It+/eL1WKhYOD7xHOkr1ajK7d0C4+ke4Hy9qXZwpgLr+Znm/uNFw8xQOSy8H9IzjUrd9+BIfenYaylf9FsXr8fBAadnPIEDna8IBcwlxnuA0/Wv6GAWPd7dDIKjMdSWueAsBj4M7TOd06qBbwDwKr7oleuxMOEcTuEZTHWvDYUO7aHqAe0Bbq+HEFRzOz7WVoTDQkVds7A4sIIxfCQdCefFRoIOF/NFL1mPab/nvOakSL/Q1aFtNpUb/nFOVX6gzyg/1nISyDfUhsokIzaBR9Kxm80s5mK+6P56il1jXic7nhQxsxSm3OwBHl4fFdLqi64nDQZvqE2at7cWAp/IVvrN6/BFL1mPhYrGMBfOi4PyjuSGf6wBBh7p/FZTghCNWGgMzlBbrNJoPJX2mW5mwZfyRffXo7OFi5pZcS4qZUrlViptrXtw+GQoyhDPS+ANjcGBNRiLCQDPZPMHuiZfdFpPSTcQwwKYdRNqpkjm7AFeeT0pJzALgo7g8YYGrMHS0iocy+YTm2vyRUvvpXCIpQ5pe666TJrcygnScUf/p0NDs/iAI/nqDHC8TmQT8x3NF91l76oDdQGwu61Z6E0ABv7uO1dbf/37Zlv+Zw/Pbh8f1s4Avur6657/+YYBvur6657/+YYBvur6657/+YYBvur6657/+aYBvuL6657/+VMA8FXWX/f8zzcN8BXXX/f8zzcNMFdbf93zP38KLPiK6697/uebtuArrr/u+Z9vGmCusP6653/+1FjwVdZf9/zPN7oHX339dc//fNMu+irrr3v+50+Bi+Zq6697/uebA/jz8Pudf9ht/fWv517J/XUzAP8C/BAeX9WCDrUpZ3/dEMBxgPcfbtTVvsYV5Yn32u03B3Ac4P3b8I+vxNBKeeL9dRMAlwO83959qGO78sT769oB7g3w/vGVYFzKE++v6wV4OMD7F7tckFkmT7y/rhHgpQO8b+4Y46XyxPvrugBeNcB7BRiX8sT767oAvmCA9woAHsoT76+rBJjLBnh3txOvkifeX1dswZcO8G6N7sXyxPvr6i340gHe3TnqVfLE++uKAb50gHcXLnrX8sR7gNdPRqwzwLu7Y/FO5Yn3AK9jXCMGeHdgxDuVJ75VAI8ljP7PAb3/RfjcZfePHBB+79dpfpH1CanN30d+mT1h9GqAxxJGM5LQeeQ1+Tb+EQJrElLb38VHQ94TRq900aMIo8cSOo+8Dp8QfsB8zpqE1NO3OI9Zrj1h9EV78PqE0WMJnUdeU6E+Jjyk/hbrEFIfeWbvId8H9oTRFwdZaxJGvziW0Hn0gqYB/wyZ0PwRlxJST+BOw9m77Amj14ii1yGM/txYQudN0qDzGe4EqfA/5GJCagsHcPaEPWH0esekSwmjRxM6b5JEcZ4ww50ilvAOFxBSx4yLW+A/YU8YvfY5+ALC6NGEzhtmyZoFZoarwBLeZxUhtY4rc3bKnjB6TKJjFUHzJoTOozF2YBpsjcyxDgzhQ1YRUse8+J4wenwmaylB82hC5w0zoRXUNXaRBmSMQUqiWSWkLsaVqc/ZE0aPTFUuJWgeTei8SfLZQeMxNaZSIzbII4aE1Nmr13P2hNHjc9E9guYNCZ032YlNwESMLcZiLQHkE4aE1BFg0yAR4z1h9AiAGRA0jyZ03tyIxWMajMPWBIsxYJCnlITU5ShiHYdZ94TR4wCmSxg9jtB5KyPGYzymAYexWEMwAPIsAdYdV6aObmNPGD0aYLoEzaMJnTc0Ygs+YDw0GAtqxBjkuP38bMRWCHn73xNGjz75P73WenCEJnhwyVe3AEe8TtKdJcYhBl97wuhNAObK66lvD/9J9NS75v17wuitAN5fe4D31x7g/bUHeH/tAd5fe4D3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/w/toDvAd4f/24ABzZ8o+KLsSLS+Pv/TqTb3P4hKlQrTGh+fbIBT0Axqznnb+L/V2mb3HkN5Mb/nEHeK7d4IcDld6lmDW/iH9E+AH1MdOw/Jlu2T1xNmY98sv4wHnD7D3uNHu54WUuOsBTbQuvBsPT/UfzNxGYzwkP8c+Yz3C+r/i6DcyRL/rZ+utRwWH5PmfvcvYEt9jLDS/bg0/B64DWKrQM8AL8FPwS9beQCe6EMKNZYJol37jBMy35otdaz0Bw2H/C2Smc7+WGB0HWDELBmOByA3r5QONo4V+DpzR/hFS4U8wMW1PXNB4TOqYz9urxRV++ntWCw/U59Ty9ebdWbrgfRS9AYKKN63ZokZVygr8GZ/gfIhZXIXPsAlNjPOLBby5c1eOLvmQ9lwkOy5x6QV1j5TYqpS05JtUgUHUp5toHGsVfn4NX4RnMCe+AxTpwmApTYxqMxwfCeJGjpXzRF61nbcHhUBPqWze9svwcHJ+S6NPscKrEjug78Dx8Lj3T8D4YxGIdxmJcwhi34fzZUr7olevZCw5vkOhoClq5zBPZAnygD/Tl9EzDh6kl3VhsHYcDEb+hCtJSvuiV69kLDm+WycrOTArHmB5/VYyP6jOVjwgGawk2zQOaTcc1L+aLXrKeveDwZqlKrw8U9Y1p66uK8dEzdYwBeUQAY7DbyYNezBfdWQ97weEtAKYQg2xJIkuveAT3dYeLGH+ShrWNwZgN0b2YL7qznr3g8JYAo5bQBziPjx7BPZ0d9RCQp4UZbnFdzBddor4XHN4KYMrB2qHFRIzzcLAHQZ5the5ovui94PCWAPefaYnxIdzRwdHCbuR4B+tbiy96Lzi8E4D7z7S0mEPd+eqO3cT53Z0Y8SV80XvB4Z0ADJi/f7X113f+7p7/+UYBvur6657/+YYBvur6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+VMA8FXWX/f8z58OgK+y/rrnf75RgLna+uue//lTA/CV1V/3/M837aKvvv6653++UQvmauuve/7nTwfAV1N/3fM/fzr24Cuuv+75nz8FFnxl9dc9//MOr/8/glixwRuUfM4AAAAASUVORK5CYII="}getSearchTexture(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="}}var Aie=new Cie(px,mx);const[Rie,rF]=Ie(.8),[Pie,iF]=Ie(.01),sF=new my(new Dt({defines:{BAND_MODE:2,CHROMA_SAMPLES:1},uniforms:{tDiffuse:{value:null},baseIor:{value:.8},bandOffset:{value:.01},jitterIntensity:{value:1},jitterOffset:{value:0}},vertexShader:`

		varying vec2 vUv;
		varying vec3 viewDir;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			viewDir = normalize( ( modelViewMatrix * vec4( position, 1.0 ) ).xyz );

		}

	`,fragmentShader:`

		varying vec2 vUv;
		varying vec3 viewDir;
		uniform float baseIor;
		uniform float bandOffset;
		uniform float jitterIntensity;
		uniform float jitterOffset;
		uniform sampler2D tDiffuse;

		#include <common>
		void main() {

			vec3 normal = vec3( ( 2.0 * vUv - vec2( 1.0 ) ), 1.0 );
			normal.z = 1.0;
			normal = normalize( normal );

			vec3 color;

			// if NO BANDS
			#if BAND_MODE == 0

			vec3 refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor );
			color = texture2D( tDiffuse, vUv + refracted.xy ).rgb;

			// if RGB or RYGCBV BANDS
			#else

			float index, randValue, offsetValue;
			float r, g, b, r_ior, g_ior, b_ior;
			vec3 r_refracted, g_refracted, b_refracted;
			vec4 r_sample, g_sample, b_sample;

			#if BAND_MODE == 2
			float y, c, v, y_ior, c_ior, v_ior;
			vec3 y_refracted, c_refracted, v_refracted;
			vec4 y_sample, c_sample, v_sample;
			#endif

			for ( int i = 0; i < CHROMA_SAMPLES; i ++ ) {

				index = float( i );
				randValue = rand( sin( index + 1. ) * gl_FragCoord.xy + vec2( jitterOffset, - jitterOffset ) ) - 0.5;
				offsetValue = index / float( CHROMA_SAMPLES ) + randValue * jitterIntensity;
				#if BAND_MODE == 1
				randValue *= 2.0;
				#endif

				// Paper describing functions for creating yellow, cyan, and violet bands and reforming
				// them into RGB:
				// https://web.archive.org/web/20061108181225/http://home.iitk.ac.in/~shankars/reports/dispersionraytrace.pdf
				r_ior = 1.0 + bandOffset * ( 0.0 + offsetValue );
				g_ior = 1.0 + bandOffset * ( 2.0 + offsetValue );
				b_ior = 1.0 + bandOffset * ( 4.0 + offsetValue );

				r_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / r_ior );
				g_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / g_ior );
				b_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / b_ior );

				r_sample = texture2D( tDiffuse, vUv + r_refracted.xy );
				g_sample = texture2D( tDiffuse, vUv + g_refracted.xy );
				b_sample = texture2D( tDiffuse, vUv + b_refracted.xy );

				#if BAND_MODE == 2
				y_ior = 1.0 + bandOffset * ( 1.0 + offsetValue );
				c_ior = 1.0 + bandOffset * ( 3.0 + offsetValue );
				v_ior = 1.0 + bandOffset * ( 5.0 + offsetValue );

				y_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / y_ior );
				c_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / c_ior );
				v_refracted = refract( vec3( 0.0, 0.0, - 1.0 ), normal, baseIor / v_ior );

				y_sample = texture2D( tDiffuse, vUv + y_refracted.xy );
				c_sample = texture2D( tDiffuse, vUv + c_refracted.xy );
				v_sample = texture2D( tDiffuse, vUv + v_refracted.xy );

				r = r_sample.r / 2.0;
				y = ( 2.0 * y_sample.r + 2.0 * y_sample.g - y_sample.b ) / 6.0;
				g = g_sample.g / 2.0;
				c = ( 2.0 * c_sample.g + 2.0 * c_sample.b - c_sample.r ) / 6.0;
				b = b_sample.b / 2.0;
				v = ( 2.0 * v_sample.b + 2.0 * v_sample.r - v_sample.g ) / 6.0;

				color.r += r + ( 2.0 * v + 2.0 * y - c ) / 3.0;
				color.g += g + ( 2.0 * y + 2.0 * c - v ) / 3.0;
				color.b += b + ( 2.0 * c + 2.0 * v - y ) / 3.0;
				#else
				color.r += r_sample.r;
				color.g += g_sample.g;
				color.b += b_sample.b;
				#endif

			}

			color /= float( CHROMA_SAMPLES );

			#endif

			gl_FragColor = vec4( color, 1.0 );

		}

	`})),{uniforms:oF}=sF;rF(n=>oF.baseIor.value=n);iF(n=>oF.bandOffset.value=n);const[Die,OM]=Ie(!1);var Iie=!!window.safari;const[Nae,wy]=Ie(Iie),[PI,af]=Ie(void 0);xt(()=>{const n=er();if(!n)return;if(wy()){PI(new MM(n));return}const e=new Ht(px,mx,{samples:4}),t=wi(([r,i])=>e.setSize(r,i));return PI(new MM(n,e)),()=>{e.dispose(),t.cancel()}},[er,wy]);xt(()=>{const n=af();if(!n)return;const[e,t]=wi();n.setSize(e,t),n.setPixelRatio(Ju())},[af,wi,Ju]);xt(()=>{const n=af();if(!n)return;const e=[_y];TI()&&e.push(rT),xy()&&e.push(ym),NM()&&e.push(of),EI()&&e.push(tF),gI()&&e.push(hT),MI()&&e.push(Ho),OM()&&e.push(sF),wy()&&e.push(Aie);for(const t of e)n.addPass(t);return()=>{for(const t of e)n.removePass(t)}},[af,TI,xy,NM,EI,gI,MI,OM,wy]);const[Pv,Lie]=Or(),[Dv,kie]=Or();xt(()=>{const n=er();if(!n)return;const e=tt(),t=mM();if(t){const[c,f]=wi(),h=c*1,p=f*.5;t.aspect=e.aspect=h/p,e.updateProjectionMatrix(),t.updateProjectionMatrix();const m=_v(()=>{vv(),Pv(),Dv(),n.setViewport(0,0,h,p),n.setScissor(0,0,h,p),n.setScissorTest(!0),n.render(nt,t),n.setViewport(0,p,h,p),n.setScissor(0,p,h,p),n.render(nt,e),Cv()});return()=>{m.cancel(),n.setViewport(0,0,c,f),n.setScissor(0,0,c,f),n.setScissorTest(!1),e.aspect=c/f,e.updateProjectionMatrix()}}const r=tf();if(Xp()==="speed"||r==="webxr"){const c=_v(()=>{vv(),Pv(),Dv(),n.render(nt,e),Cv()});return()=>{c.cancel()}}if(r){const c=new WB;c.scale=.5,c.visible=!1;const f=1e3,h=-f*.5,[p,m]=wi(),v=p*.5,y=m*1;e.aspect=v/y,e.updateProjectionMatrix();const x=new Rf(e),w=_v(()=>{vv(),Pv(),Dv(),n.setViewport(0,0,v,y),n.setScissor(0,0,v,y),n.setScissorTest(!0),c.outerObject3d.position.copy(e.getWorldPosition(Kt)),c.outerObject3d.quaternion.copy(e.quaternion),c.translateZ(-f);const b=c.outerObject3d.position.clone(),_=e.quaternion.clone(),S=e.position.clone();c.moveRight(h),x.moveRight(-3),e.lookAt(c.outerObject3d.position),n.render(nt,e),c.outerObject3d.position.copy(b),e.quaternion.copy(_),e.position.copy(S),n.setViewport(v,0,v,y),n.setScissor(v,0,v,y),c.moveRight(-h),x.moveRight(3),e.lookAt(c.outerObject3d.position),n.render(nt,e),c.outerObject3d.position.copy(b),e.quaternion.copy(_),e.position.copy(S),Cv()});return()=>{c.dispose(),w.cancel(),n.setViewport(0,0,p,m),n.setScissor(0,0,p,m),n.setScissorTest(!1),e.aspect=p/m,e.updateProjectionMatrix()}}const i=af();if(!i)return;let s=!1,o=!1,a=!1;const u=_v(()=>{vv(),Pv(),Dv(),gB[0]&&(s||(gie(!0),s=!0),ire()),_B[0]&&!o&&(vie(!0),o=!0),TB[0]&&!a&&(mie(!0),a=!0),i.render(),Cv()});return()=>{u.cancel()}},[Xp,tf,tt,mM,wi,er,af]);new fx(Ia,16,16);new RE(Ia,ds,16);new ux(Ia,Ia,ds,16);new PE(Ia);const mT=new IE(61*yt);mT.rotateY(45*xn);mT.rotateX(125*xn);mT.translate(0,-.2,.2);new LE(40*yt,10*yt,8,16);const aF={...uT},lF={...cT,scaleZ:0,depth:0},Nie=new um(ds,ds,1,1);class o0 extends Kp{constructor(){super(Nie,!0),this.object3d.scale.z=Xte}get depth(){return 0}set depth(e){}get scaleZ(){return 0}set scaleZ(e){}}j(o0,"componentName","plane"),j(o0,"defaults",lF),j(o0,"schema",aF);({...uT});({...cT});new AE(Ia,32);var uF=n=>{const e=new B;return Ea.setFromObject(n).getSize(e),e};const DI=new Map;var cF=(n,e)=>{const t=DI.get(e);if(t){const[a,u,c]=t;return n.scale.multiplyScalar(a),n.position.copy(u).multiplyScalar(-1),c}const r=uF(n),i=1/r.y;n.scale.multiplyScalar(i);const s=mm(n);n.position.copy(s).multiplyScalar(-1);const o=r.multiplyScalar(i);return DI.set(e,[i,s.clone(),o.clone()]),o};const dF={...Df,src:String,onLoad:Function,boxVisible:Boolean},fF={...If,src:void 0,onLoad:void 0,boxVisible:!1},hF={...dF,loadedScale:Number,loadedX:Number,loadedY:Number,loadedZ:Number},pF={...fF,loadedScale:void 0,loadedX:void 0,loadedY:void 0,loadedZ:void 0},mF=ic(()=>us(()=>import("./loadFBX.f9a54d47.js"),[])),gF=ic(()=>us(()=>import("./loadGLTF.3b8e4ffc.js"),[]));class Qh extends dT{constructor(){super(...arguments);j(this,"loadedAnims");j(this,"_loadedScale");j(this,"_loadedPos");j(this,"_loadedX");j(this,"_loadedY");j(this,"_loadedZ")}async loadAnimation(t,r=t){var a,u;((a=this.loadedAnims)!=null?a:this.loadedAnims={})[r]=t;const i=new Z2;((u=this.loadingAnims)!=null?u:this.loadingAnims=[]).push(i);let s;try{s=await this.load(t)}catch{i.resolve();return}const o=s.animations[0];o&&(this.animations[r]=this.watch(new qp(o,await this.loaded))),i.resolve()}get animations(){var t;return(t=this.animationManagers)!=null?t:this.animationManagers={}}set animations(t){for(const[r,i]of Object.entries(t))typeof i=="string"?this.loadAnimation(i,r):this.animations[r]=i}async load(t){var s;const r=new Z2;((s=this.loadingAnims)!=null?s:this.loadingAnims=[]).push(r);let i;try{FB[0](t).toLowerCase().endsWith(".fbx")?i=await(await mF()).default(t,!0):i=await(await gF()).default(t,!0)}catch{return r.resolve(),new Vr}return r.resolve(),i}get loadedScale(){return this._loadedScale}set loadedScale(t){this._loadedScale=t}get loadedX(){return this._loadedX}set loadedX(t){this._loadedX=t,this._loadedPos=!0}get loadedY(){return this._loadedY}set loadedY(t){this._loadedY=t,this._loadedPos=!0}get loadedZ(){return this._loadedZ}set loadedZ(t){this._loadedZ=t,this._loadedPos=!0}resolveLoaded(t){for(const r of t.animations)this.animations[r.name]=this.watch(new qp(r,t));if(this._loadedScale)t.scale.multiplyScalar(this._loadedScale);else{const r=cF(t,this._src);!this.widthSet&&(this.object3d.scale.x=r.x),!this.heightSet&&(this.object3d.scale.y=r.y),!this.depthSet&&(this.object3d.scale.z=r.z)}if(this._loadedPos){let{x:r,y:i,z:s}=t.position;this._loadedX&&(r=this._loadedX*yt),this._loadedY&&(i=this._loadedY*yt),this._loadedZ&&(s=this._loadedZ*yt),t.position.set(r,i,s)}return t}find(t,r){const i=super.find(t,r);return i&&(i.model=this),i}findAll(t){const r=super.findAll(t);for(const i of r)i.model=this;return r}}j(Qh,"componentName","model"),j(Qh,"defaults",pF),j(Qh,"schema",hF);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fe=function(){return Fe=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Fe.apply(this,arguments)};function gT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Xt(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nn(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Xn(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var mn;(function(n){n.Start="xstate.start",n.Stop="xstate.stop",n.Raise="xstate.raise",n.Send="xstate.send",n.Cancel="xstate.cancel",n.NullEvent="",n.Assign="xstate.assign",n.After="xstate.after",n.DoneState="done.state",n.DoneInvoke="done.invoke",n.Log="xstate.log",n.Init="xstate.init",n.Invoke="xstate.invoke",n.ErrorExecution="error.execution",n.ErrorCommunication="error.communication",n.ErrorPlatform="error.platform",n.ErrorCustom="xstate.error",n.Update="xstate.update",n.Pure="xstate.pure",n.Choose="xstate.choose"})(mn||(mn={}));var Yp;(function(n){n.Parent="#_parent",n.Internal="#_internal"})(Yp||(Yp={}));var BM=mn.Start,vT=mn.Stop,Tx=mn.Raise,Cx=mn.Send,vF=mn.Cancel,Oie=mn.NullEvent,II=mn.Assign;mn.After;mn.DoneState;var yF=mn.Log,Bie=mn.Init,FM=mn.Invoke;mn.ErrorExecution;var LI=mn.ErrorPlatform,Fie=mn.ErrorCustom,xF=mn.Update,zie=mn.Choose,Uie=mn.Pure,_F=".",kI={},zM="xstate.guard",Hie="",_h=!0,Iv;function yT(n,e,t){t===void 0&&(t=_F);var r=$h(n,t),i=$h(e,t);return Qt(i)?Qt(r)?i===r:!1:Qt(r)?r in i:Object.keys(r).every(function(s){return s in i?yT(r[s],i[s]):!1})}function bF(n){try{return Qt(n)||typeof n=="number"?"".concat(n):n.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function UM(n,e){try{return Lf(n)?n:n.toString().split(e)}catch{throw new Error("'".concat(n,"' is not a valid state path."))}}function Wie(n){return typeof n=="object"&&"value"in n&&"context"in n&&"event"in n&&"_event"in n}function $h(n,e){if(Wie(n))return n.value;if(Lf(n))return Sy(n);if(typeof n!="string")return n;var t=UM(n,e);return Sy(t)}function Sy(n){if(n.length===1)return n[0];for(var e={},t=e,r=0;r<n.length-1;r++)r===n.length-2?t[n[r]]=n[r+1]:(t[n[r]]={},t=t[n[r]]);return e}function Ph(n,e){for(var t={},r=Object.keys(n),i=0;i<r.length;i++){var s=r[i];t[s]=e(n[s],s,n,i)}return t}function NI(n,e,t){var r,i,s={};try{for(var o=Xt(Object.keys(n)),a=o.next();!a.done;a=o.next()){var u=a.value,c=n[u];!t(c)||(s[u]=e(c,u,n))}}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}var Vie=function(n){return function(e){var t,r,i=e;try{for(var s=Xt(n),o=s.next();!o.done;o=s.next()){var a=o.value;i=i[a]}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i}};function Gie(n,e){return function(t){var r,i,s=t;try{for(var o=Xt(n),a=o.next();!a.done;a=o.next()){var u=a.value;s=s[e][u]}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}}function a0(n){if(!n)return[[]];if(Qt(n))return[[n]];var e=Pn(Object.keys(n).map(function(t){var r=n[t];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[t]]:a0(n[t]).map(function(i){return[t].concat(i)})}));return e}function Pn(n){var e;return(e=[]).concat.apply(e,Xn([],nn(n),!1))}function wF(n){return Lf(n)?n:[n]}function so(n){return n===void 0?[]:wF(n)}function My(n,e,t){var r,i;if(pn(n))return n(e,t.data);var s={};try{for(var o=Xt(Object.keys(n)),a=o.next();!a.done;a=o.next()){var u=a.value,c=n[u];pn(c)?s[u]=c(e,t.data):s[u]=c}}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function jie(n){return/^(done|error)\./.test(n)}function OI(n){return!!(n instanceof Promise||n!==null&&(pn(n)||typeof n=="object")&&pn(n.then))}function Xie(n){return n!==null&&typeof n=="object"&&"transition"in n&&typeof n.transition=="function"}function SF(n,e){var t,r,i=nn([[],[]],2),s=i[0],o=i[1];try{for(var a=Xt(n),u=a.next();!u.done;u=a.next()){var c=u.value;e(c)?s.push(c):o.push(c)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return[s,o]}function MF(n,e){return Ph(n.states,function(t,r){if(!!t){var i=(Qt(e)?void 0:e[r])||(t?t.current:void 0);if(!!i)return{current:i,states:MF(t,i)}}})}function qie(n,e){return{current:e,states:MF(n,e)}}function BI(n,e,t,r){var i=n&&t.reduce(function(s,o){var a,u,c=o.assignment,f={state:r,action:o,_event:e},h={};if(pn(c))h=c(s,e.data,f);else try{for(var p=Xt(Object.keys(c)),m=p.next();!m.done;m=p.next()){var v=m.value,y=c[v];h[v]=pn(y)?y(s,e.data,f):y}}catch(x){a={error:x}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}return Object.assign({},s,h)},n);return i}var ep=function(){};function Lf(n){return Array.isArray(n)}function pn(n){return typeof n=="function"}function Qt(n){return typeof n=="string"}function EF(n,e){if(!!n)return Qt(n)?{type:zM,name:n,predicate:e?e[n]:void 0}:pn(n)?{type:zM,name:n.name,predicate:n}:n}function Kie(n){try{return"subscribe"in n&&pn(n.subscribe)}catch{return!1}}var wl=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Iv={},Iv[wl]=function(){return this},Iv[Symbol.observable]=function(){return this};function $u(n){return!!n&&"__xstatenode"in n}function Yie(n){return!!n&&typeof n.send=="function"}function xT(n,e){return Qt(n)||typeof n=="number"?Fe({type:n},e):n}function ei(n,e){if(!Qt(n)&&"$$type"in n&&n.$$type==="scxml")return n;var t=xT(n);return Fe({name:t.type,data:t,$$type:"scxml",type:"external"},e)}function $c(n,e){var t=wF(e).map(function(r){return typeof r=="undefined"||typeof r=="string"||$u(r)?{target:r,event:n}:Fe(Fe({},r),{event:n})});return t}function Zie(n){if(!(n===void 0||n===Hie))return so(n)}function TF(n,e,t,r,i){var s=n.options.guards,o={state:i,cond:e,_event:r};if(e.type===zM)return((s==null?void 0:s[e.name])||e.predicate)(t,r.data,o);var a=s==null?void 0:s[e.type];if(!a)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(n.id,"'."));return a(t,r.data,o)}function CF(n){return typeof n=="string"?{type:n}:n}function HM(n,e,t){if(typeof n=="object")return n;var r=function(){};return{next:n,error:e||r,complete:t||r}}function Lv(n,e){return"".concat(n,":invocation[").concat(e,"]")}var Ey=ei({type:Bie});function WM(n,e){return e&&e[n]||void 0}function Zp(n,e){var t;if(Qt(n)||typeof n=="number"){var r=WM(n,e);pn(r)?t={type:n,exec:r}:r?t=r:t={type:n,exec:void 0}}else if(pn(n))t={type:n.name||n.toString(),exec:n};else{var r=WM(n.type,e);if(pn(r))t=Fe(Fe({},n),{exec:r});else if(r){var i=r.type||n.type;t=Fe(Fe(Fe({},r),n),{type:i})}else t=n}return t}var Ty=function(n,e){if(!n)return[];var t=Lf(n)?n:[n];return t.map(function(r){return Zp(r,e)})};function _T(n){var e=Zp(n);return Fe(Fe({id:Qt(n)?n:e.id},e),{type:e.type})}function Jie(n){return Qt(n)?{type:Tx,event:n}:AF(n,{to:Yp.Internal})}function Qie(n){return{type:Tx,_event:ei(n.event)}}function AF(n,e){return{to:e?e.to:void 0,type:Cx,event:pn(n)?n:xT(n),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:pn(n)?n.name:bF(n)}}function $ie(n,e,t,r){var i={_event:t},s=ei(pn(n.event)?n.event(e,t.data,i):n.event),o;if(Qt(n.delay)){var a=r&&r[n.delay];o=pn(a)?a(e,t.data,i):a}else o=pn(n.delay)?n.delay(e,t.data,i):n.delay;var u=pn(n.to)?n.to(e,t.data,i):n.to;return Fe(Fe({},n),{to:u,_event:s,event:s.data,delay:o})}var ese=function(n,e,t){return Fe(Fe({},n),{value:Qt(n.expr)?n.expr:n.expr(e,t.data,{_event:t})})},tse=function(n){return{type:vF,sendId:n}};function nse(n){var e=_T(n);return{type:mn.Start,activity:e,exec:void 0}}function rse(n){var e=pn(n)?n:_T(n);return{type:mn.Stop,activity:e,exec:void 0}}function ise(n,e,t){var r=pn(n.activity)?n.activity(e,t.data):n.activity,i=typeof r=="string"?{id:r}:r,s={type:mn.Stop,activity:i};return s}function sse(n,e){var t=e?"#".concat(e):"";return"".concat(mn.After,"(").concat(n,")").concat(t)}function kv(n,e){var t="".concat(mn.DoneState,".").concat(n),r={type:t,data:e};return r.toString=function(){return t},r}function l0(n,e){var t="".concat(mn.DoneInvoke,".").concat(n),r={type:t,data:e};return r.toString=function(){return t},r}function Dh(n,e){var t="".concat(mn.ErrorPlatform,".").concat(n),r={type:t,data:e};return r.toString=function(){return t},r}function VM(n,e,t,r,i,s){s===void 0&&(s=!1);var o=nn(s?[[],i]:SF(i,function(p){return p.type===II}),2),a=o[0],u=o[1],c=a.length?BI(t,r,a,e):t,f=s?[t]:void 0,h=Pn(u.map(function(p){var m;switch(p.type){case Tx:return Qie(p);case Cx:var v=$ie(p,c,r,n.options.delays);return v;case yF:return ese(p,c,r);case zie:{var y=p,x=(m=y.conds.find(function(D){var O=EF(D.cond,n.options.guards);return!O||TF(n,O,c,r,e)}))===null||m===void 0?void 0:m.actions;if(!x)return[];var w=nn(VM(n,e,c,r,Ty(so(x),n.options.actions),s),2),b=w[0],_=w[1];return c=_,f==null||f.push(c),b}case Uie:{var x=p.get(c,r.data);if(!x)return[];var S=nn(VM(n,e,c,r,Ty(so(x),n.options.actions),s),2),M=S[0],C=S[1];return c=C,f==null||f.push(c),M}case vT:return ise(p,c,r);case II:{c=BI(c,r,[p],e),f==null||f.push(c);break}default:var A=Zp(p,n.options.actions),T=A.exec;if(T&&f){var R=f.length-1;A=Fe(Fe({},A),{exec:function(D){for(var O=[],Y=1;Y<arguments.length;Y++)O[Y-1]=arguments[Y];T.apply(void 0,Xn([f[R]],nn(O),!1))}})}return A}}).filter(function(p){return!!p}));return[h,c]}var Ih=function(n,e){var t=e(n);return t};function RF(n){var e;return e={id:n,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:n}}},e[wl]=function(){return this},e}function ose(n,e,t,r){var i,s=CF(n.src),o=(i=e==null?void 0:e.options.services)===null||i===void 0?void 0:i[s.type],a=n.data?My(n.data,t,r):void 0,u=o?ase(o,n.id,a):RF(n.id);return u.meta=n,u}function ase(n,e,t){var r=RF(e);if(r.deferred=!0,$u(n)){var i=r.state=Ih(void 0,function(){return(t?n.withContext(t):n).initialState});r.getSnapshot=function(){return i}}return r}function lse(n){try{return typeof n.send=="function"}catch{return!1}}function use(n){return lse(n)&&"id"in n}function cse(n){var e;return Fe((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[wl]=function(){return this},e),n)}var Cy=function(n){return n.type==="atomic"||n.type==="final"};function lf(n){return Object.keys(n.states).map(function(e){return n.states[e]}).filter(function(e){return e.type!=="history"})}function PF(n){var e=[n];return Cy(n)?e:e.concat(Pn(lf(n).map(PF)))}function rd(n,e){var t,r,i,s,o,a,u,c,f=new Set(n),h=GM(f),p=new Set(e);try{for(var m=Xt(p),v=m.next();!v.done;v=m.next())for(var y=v.value,x=y.parent;x&&!p.has(x);)p.add(x),x=x.parent}catch(R){t={error:R}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}var w=GM(p);try{for(var b=Xt(p),_=b.next();!_.done;_=b.next()){var y=_.value;if(y.type==="compound"&&(!w.get(y)||!w.get(y).length))h.get(y)?h.get(y).forEach(function(D){return p.add(D)}):y.initialStateNodes.forEach(function(D){return p.add(D)});else if(y.type==="parallel")try{for(var S=(o=void 0,Xt(lf(y))),M=S.next();!M.done;M=S.next()){var C=M.value;p.has(C)||(p.add(C),h.get(C)?h.get(C).forEach(function(D){return p.add(D)}):C.initialStateNodes.forEach(function(D){return p.add(D)}))}}catch(D){o={error:D}}finally{try{M&&!M.done&&(a=S.return)&&a.call(S)}finally{if(o)throw o.error}}}}catch(R){i={error:R}}finally{try{_&&!_.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}try{for(var A=Xt(p),T=A.next();!T.done;T=A.next())for(var y=T.value,x=y.parent;x&&!p.has(x);)p.add(x),x=x.parent}catch(R){u={error:R}}finally{try{T&&!T.done&&(c=A.return)&&c.call(A)}finally{if(u)throw u.error}}return p}function DF(n,e){var t=e.get(n);if(!t)return{};if(n.type==="compound"){var r=t[0];if(r){if(Cy(r))return r.key}else return{}}var i={};return t.forEach(function(s){i[s.key]=DF(s,e)}),i}function GM(n){var e,t,r=new Map;try{for(var i=Xt(n),s=i.next();!s.done;s=i.next()){var o=s.value;r.has(o)||r.set(o,[]),o.parent&&(r.has(o.parent)||r.set(o.parent,[]),r.get(o.parent).push(o))}}catch(a){e={error:a}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r}function dse(n,e){var t=rd([n],e);return DF(n,GM(t))}function u0(n,e){return Array.isArray(n)?n.some(function(t){return t===e}):n instanceof Set?n.has(e):!1}function fse(n){return Xn([],nn(new Set(Pn(Xn([],nn(n.map(function(e){return e.ownEvents})),!1)))),!1)}function tp(n,e){return e.type==="compound"?lf(e).some(function(t){return t.type==="final"&&u0(n,t)}):e.type==="parallel"?lf(e).every(function(t){return tp(n,t)}):!1}function hse(n){return n===void 0&&(n=[]),n.reduce(function(e,t){return t.meta!==void 0&&(e[t.id]=t.meta),e},{})}function FI(n){return new Set(Pn(n.map(function(e){return e.tags})))}function IF(n,e){if(n===e)return!0;if(n===void 0||e===void 0)return!1;if(Qt(n)||Qt(e))return n===e;var t=Object.keys(n),r=Object.keys(e);return t.length===r.length&&t.every(function(i){return IF(n[i],e[i])})}function pse(n){return typeof n!="object"||n===null?!1:"value"in n&&"_event"in n}function mse(n,e){var t=n.exec,r=Fe(Fe({},n),{exec:t!==void 0?function(){return t(e.context,e.event,{action:n,state:e,_event:e._event})}:void 0});return r}var pa=function(){function n(e){var t=this,r;this.actions=[],this.activities=kI,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||kI,this.meta=hse(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return fse(t.configuration)}})}return n.from=function(e,t){if(e instanceof n)return e.context!==t?new n({value:e.value,context:t,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var r=Ey;return new n({value:e,context:t,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},n.create=function(e){return new n(e)},n.inert=function(e,t){if(e instanceof n){if(!e.actions.length)return e;var r=Ey;return new n({value:e.value,context:t,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return n.from(e,t)},n.prototype.toStrings=function(e,t){var r=this;if(e===void 0&&(e=this.value),t===void 0&&(t="."),Qt(e))return[e];var i=Object.keys(e);return i.concat.apply(i,Xn([],nn(i.map(function(s){return r.toStrings(e[s],t).map(function(o){return s+t+o})})),!1))},n.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var r=gT(e,["configuration","transitions","tags","machine"]);return Fe(Fe({},r),{tags:Array.from(t)})},n.prototype.matches=function(e){return yT(e,this.value)},n.prototype.hasTag=function(e){return this.tags.has(e)},n.prototype.can=function(e){var t;ep(!!this.machine);var r=(t=this.machine)===null||t===void 0?void 0:t.getTransitionData(this,e);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},n}(),gse={deferEvents:!1},zI=function(){function n(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Fe(Fe({},gse),e)}return n.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},n.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},n.prototype.clear=function(){this.queue=[]},n.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},n.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(t){throw this.clear(),t}finally{this.processingEvent=!1}},n}(),Ow=new Map,vse=0,Nv={bookId:function(){return"x:".concat(vse++)},register:function(n,e){return Ow.set(n,e),n},get:function(n){return Ow.get(n)},free:function(n){Ow.delete(n)}};function bT(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}function yse(){var n=bT();if(n&&"__xstate__"in n)return n.__xstate__}function xse(n){if(!!bT()){var e=yse();e&&e.register(n)}}function _se(n,e){e===void 0&&(e={});var t=n.initialState,r=new Set,i=[],s=!1,o=function(){if(!s){for(s=!0;i.length>0;){var c=i.shift();t=n.transition(t,c,u),r.forEach(function(f){return f.next(t)})}s=!1}},a=cse({id:e.id,send:function(c){i.push(c),o()},getSnapshot:function(){return t},subscribe:function(c,f,h){var p=HM(c,f,h);return r.add(p),p.next(t),{unsubscribe:function(){r.delete(p)}}}}),u={parent:e.parent,self:a,id:e.id||"anonymous",observers:r};return t=n.start?n.start(u):t,a}var bse={sync:!1,autoForward:!1},gi;(function(n){n[n.NotStarted=0]="NotStarted",n[n.Running=1]="Running",n[n.Stopped=2]="Stopped"})(gi||(gi={}));var wse=function(){function n(e,t){var r=this;t===void 0&&(t=n.defaultOptions),this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=gi.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(f,h){if(Lf(f))return r.batch(f),r.state;var p=ei(xT(f,h));if(r.status===gi.Stopped)return r.state;if(r.status!==gi.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(p.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(p.data)));return r.scheduler.schedule(function(){r.forward(p);var m=r.nextState(p);r.update(m,p)}),r._state},this.sendTo=function(f,h){var p=r.parent&&(h===Yp.Parent||r.parent.id===h),m=p?r.parent:Qt(h)?r.children.get(h)||Nv.get(h):Yie(h)?h:void 0;if(!m){if(!p)throw new Error("Unable to send event to child '".concat(h,"' from service '").concat(r.id,"'."));return}"machine"in m?m.send(Fe(Fe({},f),{name:f.name===Fie?"".concat(Dh(r.id)):f.name,origin:r.sessionId})):m.send(f.data)};var i=Fe(Fe({},n.defaultOptions),t),s=i.clock,o=i.logger,a=i.parent,u=i.id,c=u!==void 0?u:e.id;this.id=c,this.logger=o,this.clock=s,this.parent=a,this.options=i,this.scheduler=new zI({deferEvents:this.options.deferEvents}),this.sessionId=Nv.bookId()}return Object.defineProperty(n.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Ih(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),n.prototype.execute=function(e,t){var r,i;try{for(var s=Xt(e.actions),o=s.next();!o.done;o=s.next()){var a=o.value;this.exec(a,e,t)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},n.prototype.update=function(e,t){var r,i,s,o,a,u,c,f,h=this;if(e._sessionid=this.sessionId,this._state=e,this.options.execute&&this.execute(this.state),this.children.forEach(function(R){h.state.children[R.id]=R}),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var p=Xt(this.eventListeners),m=p.next();!m.done;m=p.next()){var v=m.value;v(e.event)}}catch(R){r={error:R}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}try{for(var y=Xt(this.listeners),x=y.next();!x.done;x=y.next()){var v=x.value;v(e,e.event)}}catch(R){s={error:R}}finally{try{x&&!x.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}try{for(var w=Xt(this.contextListeners),b=w.next();!b.done;b=w.next()){var _=b.value;_(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(R){a={error:R}}finally{try{b&&!b.done&&(u=w.return)&&u.call(w)}finally{if(a)throw a.error}}var S=tp(e.configuration||[],this.machine);if(this.state.configuration&&S){var M=e.configuration.find(function(R){return R.type==="final"&&R.parent===h.machine}),C=M&&M.doneData?My(M.doneData,e.context,t):void 0;try{for(var A=Xt(this.doneListeners),T=A.next();!T.done;T=A.next()){var v=T.value;v(l0(this.id,C))}}catch(R){c={error:R}}finally{try{T&&!T.done&&(f=A.return)&&f.call(A)}finally{if(c)throw c.error}}this.stop()}},n.prototype.onTransition=function(e){return this.listeners.add(e),this.status===gi.Running&&e(this.state,this.state.event),this},n.prototype.subscribe=function(e,t,r){var i=this;if(!e)return{unsubscribe:function(){}};var s,o=r;return typeof e=="function"?s=e:(s=e.next.bind(e),o=e.complete.bind(e)),this.listeners.add(s),this.status!==gi.NotStarted&&s(this.state),o&&(this.status===gi.Stopped?o():this.onDone(o)),{unsubscribe:function(){s&&i.listeners.delete(s),o&&i.doneListeners.delete(o)}}},n.prototype.onEvent=function(e){return this.eventListeners.add(e),this},n.prototype.onSend=function(e){return this.sendListeners.add(e),this},n.prototype.onChange=function(e){return this.contextListeners.add(e),this},n.prototype.onStop=function(e){return this.stopListeners.add(e),this},n.prototype.onDone=function(e){return this.doneListeners.add(e),this},n.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},n.prototype.start=function(e){var t=this;if(this.status===gi.Running)return this;this.machine._init(),Nv.register(this.sessionId,this),this.initialized=!0,this.status=gi.Running;var r=e===void 0?this.initialState:Ih(this,function(){return pse(e)?t.machine.resolveState(e):t.machine.resolveState(pa.from(e,t.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){t.update(r,Ey)}),this},n.prototype.stop=function(){var e,t,r,i,s,o,a,u,c,f,h=this;try{for(var p=Xt(this.listeners),m=p.next();!m.done;m=p.next()){var v=m.value;this.listeners.delete(v)}}catch(T){e={error:T}}finally{try{m&&!m.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}try{for(var y=Xt(this.stopListeners),x=y.next();!x.done;x=y.next()){var v=x.value;v(),this.stopListeners.delete(v)}}catch(T){r={error:T}}finally{try{x&&!x.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}try{for(var w=Xt(this.contextListeners),b=w.next();!b.done;b=w.next()){var v=b.value;this.contextListeners.delete(v)}}catch(T){s={error:T}}finally{try{b&&!b.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}try{for(var _=Xt(this.doneListeners),S=_.next();!S.done;S=_.next()){var v=S.value;this.doneListeners.delete(v)}}catch(T){a={error:T}}finally{try{S&&!S.done&&(u=_.return)&&u.call(_)}finally{if(a)throw a.error}}if(!this.initialized)return this;Xn([],nn(this.state.configuration),!1).sort(function(T,R){return R.order-T.order}).forEach(function(T){var R,D;try{for(var O=Xt(T.definition.exit),Y=O.next();!Y.done;Y=O.next()){var ie=Y.value;h.exec(ie,h.state)}}catch(U){R={error:U}}finally{try{Y&&!Y.done&&(D=O.return)&&D.call(O)}finally{if(R)throw R.error}}}),this.children.forEach(function(T){pn(T.stop)&&T.stop()}),this.children.clear();try{for(var M=Xt(Object.keys(this.delayedEventsMap)),C=M.next();!C.done;C=M.next()){var A=C.value;this.clock.clearTimeout(this.delayedEventsMap[A])}}catch(T){c={error:T}}finally{try{C&&!C.done&&(f=M.return)&&f.call(M)}finally{if(c)throw c.error}}return this.scheduler.clear(),this.scheduler=new zI({deferEvents:this.options.deferEvents}),this.initialized=!1,this.status=gi.Stopped,this._initialState=void 0,Nv.free(this.sessionId),this},n.prototype.batch=function(e){var t=this;if(!(this.status===gi.NotStarted&&this.options.deferEvents)){if(this.status!==gi.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}this.scheduler.schedule(function(){var r,i,s=t.state,o=!1,a=[],u=function(p){var m=ei(p);t.forward(m),s=Ih(t,function(){return t.machine.transition(s,m)}),a.push.apply(a,Xn([],nn(s.actions.map(function(v){return mse(v,s)})),!1)),o=o||!!s.changed};try{for(var c=Xt(e),f=c.next();!f.done;f=c.next()){var h=f.value;u(h)}}catch(p){r={error:p}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}s.changed=o,s.actions=a,t.update(s,ei(e[e.length-1]))})},n.prototype.sender=function(e){return this.send.bind(this,e)},n.prototype.nextState=function(e){var t=this,r=ei(e);if(r.name.indexOf(LI)===0&&!this.state.nextEvents.some(function(s){return s.indexOf(LI)===0}))throw r.data.data;var i=Ih(this,function(){return t.machine.transition(t.state,r)});return i},n.prototype.forward=function(e){var t,r;try{for(var i=Xt(this.forwardTo),s=i.next();!s.done;s=i.next()){var o=s.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout(function(){e.to?t.sendTo(e._event,e.to):t.send(e._event)},e.delay)},n.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},n.prototype.exec=function(e,t,r){r===void 0&&(r=this.machine.options.actions);var i=t.context,s=t._event,o=e.exec||WM(e.type,r),a=pn(o)?o:o?o.exec:e.exec;if(a)try{return a(i,s.data,{action:e,state:this.state,_event:s})}catch(S){throw this.parent&&this.parent.send({type:"xstate.error",data:S}),S}switch(e.type){case Cx:var u=e;if(typeof u.delay=="number"){this.defer(u);return}else u.to?this.sendTo(u._event,u.to):this.send(u._event);break;case vF:this.cancel(e.sendId);break;case BM:{if(this.status!==gi.Running)return;var c=e.activity;if(!this.state.activities[c.id||c.type])break;if(c.type===mn.Invoke){var f=CF(c.src),h=this.machine.options.services?this.machine.options.services[f.type]:void 0,p=c.id,m=c.data,v="autoForward"in c?c.autoForward:!!c.forward;if(!h)return;var y=m?My(m,i,s):void 0;if(typeof h=="string")return;var x=pn(h)?h(i,s.data,{data:y,src:f,meta:c.meta}):h;if(!x)return;var w=void 0;$u(x)&&(x=y?x.withContext(y):x,w={autoForward:v}),this.spawn(x,p,w)}else this.spawnActivity(c);break}case vT:{this.stopChild(e.activity.id);break}case yF:var b=e.label,_=e.value;b?this.logger(b,_):this.logger(_);break}},n.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),(t=this.state)===null||t===void 0||delete t.children[e]},n.prototype.stopChild=function(e){var t=this.children.get(e);!t||(this.removeChild(e),pn(t.stop)&&t.stop())},n.prototype.spawn=function(e,t,r){if(OI(e))return this.spawnPromise(Promise.resolve(e),t);if(pn(e))return this.spawnCallback(e,t);if(use(e))return this.spawnActor(e,t);if(Kie(e))return this.spawnObservable(e,t);if($u(e))return this.spawnMachine(e,Fe(Fe({},r),{id:t}));if(Xie(e))return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'))},n.prototype.spawnMachine=function(e,t){var r=this;t===void 0&&(t={});var i=new n(e,Fe(Fe({},this.options),{parent:this,id:t.id||e.id})),s=Fe(Fe({},bse),t);s.sync&&i.onTransition(function(a){r.send(xF,{state:a,id:i.id})});var o=i;return this.children.set(i.id,o),s.autoForward&&this.forwardTo.add(i.id),i.onDone(function(a){r.removeChild(i.id),r.send(ei(a,{origin:i.id}))}).start(),o},n.prototype.spawnBehavior=function(e,t){var r=_se(e,{id:t,parent:this});return this.children.set(t,r),r},n.prototype.spawnPromise=function(e,t){var r,i=this,s=!1,o;e.then(function(u){s||(o=u,i.removeChild(t),i.send(ei(l0(t,u),{origin:t})))},function(u){if(!s){i.removeChild(t);var c=Dh(t,u);try{i.send(ei(c,{origin:t}))}catch{i.devTools&&i.devTools.send(c,i.state),i.machine.strict&&i.stop()}}});var a=(r={id:t,send:function(){},subscribe:function(u,c,f){var h=HM(u,c,f),p=!1;return e.then(function(m){p||(h.next(m),!p&&h.complete())},function(m){p||h.error(m)}),{unsubscribe:function(){return p=!0}}},stop:function(){s=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return o}},r[wl]=function(){return this},r);return this.children.set(t,a),a},n.prototype.spawnCallback=function(e,t){var r,i=this,s=!1,o=new Set,a=new Set,u,c=function(p){u=p,a.forEach(function(m){return m(p)}),!s&&i.send(ei(p,{origin:t}))},f;try{f=e(c,function(p){o.add(p)})}catch(p){this.send(Dh(t,p))}if(OI(f))return this.spawnPromise(f,t);var h=(r={id:t,send:function(p){return o.forEach(function(m){return m(p)})},subscribe:function(p){var m=HM(p);return a.add(m.next),{unsubscribe:function(){a.delete(m.next)}}},stop:function(){s=!0,pn(f)&&f()},toJSON:function(){return{id:t}},getSnapshot:function(){return u}},r[wl]=function(){return this},r);return this.children.set(t,h),h},n.prototype.spawnObservable=function(e,t){var r,i=this,s,o=e.subscribe(function(u){s=u,i.send(ei(u,{origin:t}))},function(u){i.removeChild(t),i.send(ei(Dh(t,u),{origin:t}))},function(){i.removeChild(t),i.send(ei(l0(t),{origin:t}))}),a=(r={id:t,send:function(){},subscribe:function(u,c,f){return e.subscribe(u,c,f)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return s},toJSON:function(){return{id:t}}},r[wl]=function(){return this},r);return this.children.set(t,a),a},n.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},n.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(!!t){var r=t(this.state.context,e);this.spawnEffect(e.id,r)}},n.prototype.spawnEffect=function(e,t){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[wl]=function(){return this},r))},n.prototype.attachDev=function(){var e=bT();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(Fe(Fe({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},t),{features:Fe({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}xse(this)}},n.prototype.toJSON=function(){return{id:this.id}},n.prototype[wl]=function(){return this},n.prototype.getSnapshot=function(){return this.status===gi.NotStarted?this.initialState:this._state},n.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},n.interpret=LF,n}();function LF(n,e){var t=new wse(n,e);return t}function Sse(n){if(typeof n=="string"){var e={type:n};return e.toString=function(){return n},e}return n}function Ov(n){return Fe(Fe({type:FM},n),{toJSON:function(){n.onDone,n.onError;var e=gT(n,["onDone","onError"]);return Fe(Fe({},e),{type:FM,src:Sse(n.src)})}})}var id="",jM="#",bh="*",ed={},td=function(n){return n[0]===jM},Mse=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},Ese=function(n,e,t){var r=t.slice(0,-1).some(function(s){return!("cond"in s)&&!("in"in s)&&(Qt(s.target)||$u(s.target))}),i=e===id?"the transient event":"event '".concat(e,"'");ep(!r,"One or more transitions for ".concat(i," on state '").concat(n.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},Tse=function(){function n(e,t,r,i){var s=this;r===void 0&&(r="context"in e?e.context:void 0);var o;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(Mse(),t),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:_F),this.id=this.config.id||Xn([this.machine.key],nn(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(o=this.config.schema)!==null&&o!==void 0?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Ph(this.config.states,function(c,f){var h,p=new n(c,{},void 0,{parent:s,key:f});return Object.assign(s.idMap,Fe((h={},h[p.id]=p,h),p.idMap)),p}):ed;var a=0;function u(c){var f,h;c.order=a++;try{for(var p=Xt(lf(c)),m=p.next();!m.done;m=p.next()){var v=m.value;u(v)}}catch(y){f={error:y}}finally{try{m&&!m.done&&(h=p.return)&&h.call(p)}finally{if(f)throw f.error}}}u(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(c){var f=c.event;return f===id}):id in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=so(this.config.entry||this.config.onEntry).map(function(c){return Zp(c)}),this.onExit=so(this.config.exit||this.config.onExit).map(function(c){return Zp(c)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=so(this.config.invoke).map(function(c,f){var h,p;if($u(c)){var m=Lv(s.id,f);return s.machine.options.services=Fe((h={},h[m]=c,h),s.machine.options.services),Ov({src:m,id:m})}else if(Qt(c.src)){var m=c.id||Lv(s.id,f);return Ov(Fe(Fe({},c),{id:m,src:c.src}))}else if($u(c.src)||pn(c.src)){var m=c.id||Lv(s.id,f);return s.machine.options.services=Fe((p={},p[m]=c.src,p),s.machine.options.services),Ov(Fe(Fe({id:m},c),{src:m}))}else{var v=c.src;return Ov(Fe(Fe({id:Lv(s.id,f)},c),{src:v}))}}),this.activities=so(this.config.activities).concat(this.invoke).map(function(c){return _T(c)}),this.transition=this.transition.bind(this),this.tags=so(this.config.tags)}return n.prototype._init=function(){this.__cache.transitions||PF(this).forEach(function(e){return e.on})},n.prototype.withConfig=function(e,t){var r=this.options,i=r.actions,s=r.activities,o=r.guards,a=r.services,u=r.delays;return new n(this.config,{actions:Fe(Fe({},i),e.actions),activities:Fe(Fe({},s),e.activities),guards:Fe(Fe({},o),e.guards),services:Fe(Fe({},a),e.services),delays:Fe(Fe({},u),e.delays)},t!=null?t:this.context)},n.prototype.withContext=function(e){return new n(this.config,this.options,e)},Object.defineProperty(n.prototype,"context",{get:function(){return pn(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Ph(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return this.definition},Object.defineProperty(n.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(t,r){return t[r.eventType]=t[r.eventType]||[],t[r.eventType].push(r),t},{})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),n.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===id,r=this.transitions.filter(function(i){var s=i.eventType===e;return t?s:s||i.eventType===bh});return this.__cache.candidates[e]=r,r},n.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var r=function(s,o){var a=pn(s)?"".concat(e.id,":delay[").concat(o,"]"):s,u=sse(a,e.id);return e.onEntry.push(AF(u,{delay:s})),e.onExit.push(tse(u)),u},i=Lf(t)?t.map(function(s,o){var a=r(s.delay,o);return Fe(Fe({},s),{event:a})}):Pn(Object.keys(t).map(function(s,o){var a=t[s],u=Qt(a)?{target:a}:a,c=isNaN(+s)?s:+s,f=r(c,o);return so(u).map(function(h){return Fe(Fe({},h),{event:f,delay:c})})}));return i.map(function(s){var o=s.delay;return Fe(Fe({},e.formatTransition(s)),{delay:o})})},n.prototype.getStateNodes=function(e){var t,r=this;if(!e)return[];var i=e instanceof pa?e.value:$h(e,this.delimiter);if(Qt(i)){var s=this.getStateNode(i).initial;return s!==void 0?this.getStateNodes((t={},t[i]=s,t)):[this,this.states[i]]}var o=Object.keys(i),a=[this];return a.push.apply(a,Xn([],nn(Pn(o.map(function(u){return r.getStateNode(u).getStateNodes(i[u])}))),!1)),a},n.prototype.handles=function(e){var t=bF(e);return this.events.includes(t)},n.prototype.resolveState=function(e){var t=e instanceof pa?e:pa.create(e),r=Array.from(rd([],this.getStateNodes(t.value)));return new pa(Fe(Fe({},t),{value:this.resolve(t.value),configuration:r,done:tp(r,this),tags:FI(r),machine:this.machine}))},n.prototype.transitionLeafNode=function(e,t,r){var i=this.getStateNode(e),s=i.next(t,r);return!s||!s.transitions.length?this.next(t,r):s},n.prototype.transitionCompoundNode=function(e,t,r){var i=Object.keys(e),s=this.getStateNode(i[0]),o=s._transition(e[i[0]],t,r);return!o||!o.transitions.length?this.next(t,r):o},n.prototype.transitionParallelNode=function(e,t,r){var i,s,o={};try{for(var a=Xt(Object.keys(e)),u=a.next();!u.done;u=a.next()){var c=u.value,f=e[c];if(!!f){var h=this.getStateNode(c),p=h._transition(f,t,r);p&&(o[c]=p)}}}catch(b){i={error:b}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}var m=Object.keys(o).map(function(b){return o[b]}),v=Pn(m.map(function(b){return b.transitions})),y=m.some(function(b){return b.transitions.length>0});if(!y)return this.next(t,r);var x=Pn(m.map(function(b){return b.entrySet})),w=Pn(Object.keys(o).map(function(b){return o[b].configuration}));return{transitions:v,entrySet:x,exitSet:Pn(m.map(function(b){return b.exitSet})),configuration:w,source:t,actions:Pn(Object.keys(o).map(function(b){return o[b].actions}))}},n.prototype._transition=function(e,t,r){return Qt(e)?this.transitionLeafNode(e,t,r):Object.keys(e).length===1?this.transitionCompoundNode(e,t,r):this.transitionParallelNode(e,t,r)},n.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,ei(t))},n.prototype.next=function(e,t){var r,i,s=this,o=t.name,a=[],u=[],c;try{for(var f=Xt(this.getCandidates(o)),h=f.next();!h.done;h=f.next()){var p=h.value,m=p.cond,v=p.in,y=e.context,x=v?Qt(v)&&td(v)?e.matches($h(this.getStateNodeById(v).path,this.delimiter)):yT($h(v,this.delimiter),Vie(this.path.slice(0,-2))(e.value)):!0,w=!1;try{w=!m||TF(this.machine,m,y,t,e)}catch(M){throw new Error("Unable to evaluate guard '".concat(m.name||m.type,"' in transition for event '").concat(o,"' in state node '").concat(this.id,`':
`).concat(M.message))}if(w&&x){p.target!==void 0&&(u=p.target),a.push.apply(a,Xn([],nn(p.actions),!1)),c=p;break}}}catch(M){r={error:M}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}if(!!c){if(!u.length)return{transitions:[c],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:a};var b=Pn(u.map(function(M){return s.getRelativeStateNodes(M,e.historyValue)})),_=!!c.internal,S=_?[]:Pn(b.map(function(M){return s.nodesFromChild(M)}));return{transitions:[c],entrySet:S,exitSet:_?[]:[this],configuration:b,source:e,actions:a}}},n.prototype.nodesFromChild=function(e){if(e.escapes(this))return[];for(var t=[],r=e;r&&r!==this;)t.push(r),r=r.parent;return t.push(this),t},n.prototype.escapes=function(e){if(this===e)return!1;for(var t=this.parent;t;){if(t===e)return!1;t=t.parent}return!0},n.prototype.getActions=function(e,t,r,i){var s,o,a,u,c=rd([],i?this.getStateNodes(i.value):[this]),f=e.configuration.length?rd(c,e.configuration):c;try{for(var h=Xt(f),p=h.next();!p.done;p=h.next()){var m=p.value;u0(c,m)||e.entrySet.push(m)}}catch(A){s={error:A}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}try{for(var v=Xt(c),y=v.next();!y.done;y=v.next()){var m=y.value;(!u0(f,m)||u0(e.exitSet,m.parent))&&e.exitSet.push(m)}}catch(A){a={error:A}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(a)throw a.error}}var x=Pn(e.entrySet.map(function(A){var T=[];if(A.type!=="final")return T;var R=A.parent;if(!R.parent)return T;T.push(kv(A.id,A.doneData),kv(R.id,A.doneData?My(A.doneData,t,r):void 0));var D=R.parent;return D.type==="parallel"&&lf(D).every(function(O){return tp(e.configuration,O)})&&T.push(kv(D.id)),T}));e.exitSet.sort(function(A,T){return T.order-A.order}),e.entrySet.sort(function(A,T){return A.order-T.order});var w=new Set(e.entrySet),b=new Set(e.exitSet),_=nn([Pn(Array.from(w).map(function(A){return Xn(Xn([],nn(A.activities.map(function(T){return nse(T)})),!1),nn(A.onEntry),!1)})).concat(x.map(Jie)),Pn(Array.from(b).map(function(A){return Xn(Xn([],nn(A.onExit),!1),nn(A.activities.map(function(T){return rse(T)})),!1)}))],2),S=_[0],M=_[1],C=Ty(M.concat(e.actions).concat(S),this.machine.options.actions);return C},n.prototype.transition=function(e,t,r){e===void 0&&(e=this.initialState);var i=ei(t),s;if(e instanceof pa)s=r===void 0?e:this.resolveState(pa.from(e,r));else{var o=Qt(e)?this.resolve(Sy(this.getResolvedPath(e))):this.resolve(e),a=r!=null?r:this.machine.context;s=this.resolveState(pa.from(o,a))}if(!_h&&i.name===bh)throw new Error("An event cannot have the wildcard type ('".concat(bh,"')"));if(this.strict&&!this.events.includes(i.name)&&!jie(i.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(i.name,"'"));var u=this._transition(s.value,s,i)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:s,actions:[]},c=rd([],this.getStateNodes(s.value)),f=u.configuration.length?rd(c,u.configuration):c;return u.configuration=Xn([],nn(f),!1),this.resolveTransition(u,s,s.context,i)},n.prototype.resolveRaisedTransition=function(e,t,r){var i,s=e.actions;return e=this.transition(e,t),e._event=r,e.event=r.data,(i=e.actions).unshift.apply(i,Xn([],nn(s),!1)),e},n.prototype.resolveTransition=function(e,t,r,i){var s,o,a=this;i===void 0&&(i=Ey);var u=e.configuration,c=!t||e.transitions.length>0,f=c?dse(this.machine,u):void 0,h=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,p=this.getActions(e,r,i,t),m=t?Fe({},t.activities):{};try{for(var v=Xt(p),y=v.next();!y.done;y=v.next()){var x=y.value;x.type===BM?m[x.activity.id||x.activity.type]=x:x.type===vT&&(m[x.activity.id||x.activity.type]=!1)}}catch(V){s={error:V}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}var w=nn(VM(this,t,r,i,p,this.machine.config.preserveActionOrder),2),b=w[0],_=w[1],S=nn(SF(b,function(V){return V.type===Tx||V.type===Cx&&V.to===Yp.Internal}),2),M=S[0],C=S[1],A=b.filter(function(V){var K;return V.type===BM&&((K=V.activity)===null||K===void 0?void 0:K.type)===FM}),T=A.reduce(function(V,K){return V[K.activity.id]=ose(K.activity,a.machine,_,i),V},t?Fe({},t.children):{}),R=c?e.configuration:t?t.configuration:[],D=tp(R,this),O=new pa({value:f||t.value,context:_,_event:i,_sessionid:t?t._sessionid:null,historyValue:f?h?qie(h,f):void 0:t?t.historyValue:void 0,history:!f||e.source?t:void 0,actions:f?C:[],activities:f?m:t?t.activities:{},events:[],configuration:R,transitions:e.transitions,children:T,done:D,tags:FI(R),machine:this}),Y=r!==_;O.changed=i.name===xF||Y;var ie=O.history;ie&&delete ie.history;var U=!D&&(this._transient||u.some(function(V){return V._transient}));if(!c&&(!U||i.name===id))return O;var G=O;if(!D)for(U&&(G=this.resolveRaisedTransition(G,{type:Oie},i));M.length;){var Z=M.shift();G=this.resolveRaisedTransition(G,Z._event,i)}var te=G.changed||(ie?!!G.actions.length||Y||typeof ie.value!=typeof G.value||!IF(G.value,ie.value):void 0);return G.changed=te,G.history=ie,G},n.prototype.getStateNode=function(e){if(td(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},n.prototype.getStateNodeById=function(e){var t=td(e)?e.slice(jM.length):e;if(t===this.id)return this;var r=this.machine.idMap[t];if(!r)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return r},n.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&td(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var t=UM(e,this.delimiter).slice(),r=this;t.length;){var i=t.shift();if(!i.length)break;r=r.getStateNode(i)}return r},n.prototype.resolve=function(e){var t,r=this;if(!e)return this.initialStateValue||ed;switch(this.type){case"parallel":return Ph(this.initialStateValue,function(s,o){return s?r.getStateNode(o).resolve(e[o]||s):ed});case"compound":if(Qt(e)){var i=this.getStateNode(e);return i.type==="parallel"||i.type==="compound"?(t={},t[e]=i.initialStateValue,t):e}return Object.keys(e).length?Ph(e,function(s,o){return s?r.getStateNode(o).resolve(s):ed}):this.initialStateValue||{};default:return e||ed}},n.prototype.getResolvedPath=function(e){if(td(e)){var t=this.machine.idMap[e.slice(jM.length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return UM(e,this.delimiter)},Object.defineProperty(n.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var t;if(this.type==="parallel")t=NI(this.states,function(r){return r.initialStateValue||ed},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=Cy(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),n.prototype.getInitialState=function(e,t){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,entrySet:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,t!=null?t:this.machine.context,void 0)},Object.defineProperty(n.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){var e;if(this.type==="history"){var t=this.config;Qt(t.target)?e=td(t.target)?Sy(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target:e=t.target}return e},enumerable:!1,configurable:!0}),n.prototype.getRelativeStateNodes=function(e,t,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(n.prototype,"initialStateNodes",{get:function(){var e=this;if(Cy(this))return[this];if(this.type==="compound"&&!this.initial)return _h||ep(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var t=a0(this.initialStateValue);return Pn(t.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),n.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=nn(e),r=t[0],i=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var s=this.getStateNode(r);if(s.type==="history")return s.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},n.prototype.historyValue=function(e){if(!!Object.keys(this.states).length)return{current:e||this.initialStateValue,states:NI(this.states,function(t,r){if(!e)return t.historyValue();var i=Qt(e)?void 0:e[r];return t.historyValue(i||t.initialStateValue)},function(t){return!t.history})}},n.prototype.resolveHistory=function(e){var t=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var i=this.target;return i?Pn(a0(i).map(function(o){return r.getFromRelativePath(o)})):r.initialStateNodes}var s=Gie(r.path,"states")(e).current;return Qt(s)?[r.getStateNode(s)]:Pn(a0(s).map(function(o){return t.history==="deep"?r.getFromRelativePath(o):[r.states[o[0]]]}))},Object.defineProperty(n.prototype,"stateIds",{get:function(){var e=this,t=Pn(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){var e,t,r,i;if(this.__cache.events)return this.__cache.events;var s=this.states,o=new Set(this.ownEvents);if(s)try{for(var a=Xt(Object.keys(s)),u=a.next();!u.done;u=a.next()){var c=u.value,f=s[c];if(f.states)try{for(var h=(r=void 0,Xt(f.events)),p=h.next();!p.done;p=h.next()){var m=p.value;o.add("".concat(m))}}catch(v){r={error:v}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}catch(v){e={error:v}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(t){return!(!t.target&&!t.actions.length&&t.internal)}).map(function(t){return t.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),n.prototype.resolveTarget=function(e){var t=this;if(e!==void 0)return e.map(function(r){if(!Qt(r))return r;var i=r[0]===t.delimiter;if(i&&!t.parent)return t.getStateNodeByPath(r.slice(1));var s=i?t.key+r:r;if(t.parent)try{var o=t.parent.getStateNodeByPath(s);return o}catch(a){throw new Error("Invalid transition definition for state node '".concat(t.id,`':
`).concat(a.message))}else return t.getStateNodeByPath(s)})},n.prototype.formatTransition=function(e){var t=this,r=Zie(e.target),i="internal"in e?e.internal:r?r.some(function(u){return Qt(u)&&u[0]===t.delimiter}):!0,s=this.machine.options.guards,o=this.resolveTarget(r),a=Fe(Fe({},e),{actions:Ty(so(e.actions)),cond:EF(e.cond,s),target:o,source:this,internal:i,eventType:e.event,toJSON:function(){return Fe(Fe({},a),{target:a.target?a.target.map(function(u){return"#".concat(u.id)}):void 0,source:"#".concat(t.id)})}});return a},n.prototype.formatTransitions=function(){var e,t,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var s=this.config.on,o=bh,a=s[o],u=a===void 0?[]:a,c=gT(s,[typeof o=="symbol"?o:o+""]);i=Pn(Object.keys(c).map(function(b){!_h&&b===id&&ep(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(r.id,'".'));var _=$c(b,c[b]);return _h||Ese(r,b,_),_}).concat($c(bh,u)))}var f=this.config.always?$c("",this.config.always):[],h=this.config.onDone?$c(String(kv(this.id)),this.config.onDone):[];_h||ep(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var p=Pn(this.invoke.map(function(b){var _=[];return b.onDone&&_.push.apply(_,Xn([],nn($c(String(l0(b.id)),b.onDone)),!1)),b.onError&&_.push.apply(_,Xn([],nn($c(String(Dh(b.id)),b.onError)),!1)),_})),m=this.after,v=Pn(Xn(Xn(Xn(Xn([],nn(h),!1),nn(p),!1),nn(i),!1),nn(f),!1).map(function(b){return so(b).map(function(_){return r.formatTransition(_)})}));try{for(var y=Xt(m),x=y.next();!x.done;x=y.next()){var w=x.value;v.push(w)}}catch(b){e={error:b}}finally{try{x&&!x.done&&(t=y.return)&&t.call(y)}finally{if(e)throw e.error}}return v},n}();function Cse(n,e){return new Tse(n,e)}const Ase={...hF,spineName:String,preset:String,strideForward:Number,strideRight:Number,strideMove:Boolean,strideMode:String},Rse={...pF,spineName:void 0,preset:"default",strideForward:0,strideRight:0,strideMove:!1,strideMode:"aim"};var Pse=Cse({states:{idle:{on:{RUN_START:"running",RUN_BACKWARDS_START:"runningBackwards",JUMP_START:"jumping"}},running:{on:{RUN_STOP:"idle",RUN_BACKWARDS_START:"runningBackwards",JUMP_START:"jumping"}},runningBackwards:{on:{RUN_STOP:"idle",RUN_START:"running",JUMP_START:"jumping"}},jumping:{on:{JUMP_STOP:"idle"}}},initial:"idle"});const wh=new WeakMap;class c0 extends Qh{constructor(){super();j(this,"poseService",LF(Pse));j(this,"spineNameState",new Cn(void 0));j(this,"srcState",new Cn(xv+"ybot.fbx"));j(this,"animationsState",new Cn({}));j(this,"presetState",new Cn("default"));j(this,"strideForwardState",new Cn(0));j(this,"strideRightState",new Cn(0));j(this,"strideMoveState",new Cn(!1));j(this,"strideMode","aim");j(this,"jumpHeight",10);this.width=20,this.depth=20,this.scale=1.7,this.pbr=!0,this.frustumCulled=!1;const[t,r]=Ie(void 0),[i,s]=Ie(void 0);this.createEffect(()=>{const h=this.spineNameState.get(),p=super.src=this.srcState.get();i(void 0),t(void 0),wh.delete(this);const m=this.loaded.then(v=>{if(h){i(this.find(h,!0)),h==="mixamorigSpine"?(t("mixamo"),p===xv+"ybot.fbx"&&wh.set(this,"dummy")):h==="Spine"&&v.getObjectByName("Wolf3D_Body")&&(t("readyplayerme"),wh.set(this,"readyplayerme"));return}if(v.getObjectByName("Wolf3D_Body")){i(this.find("Spine",!0)),t("readyplayerme"),wh.set(this,"readyplayerme");return}const y=this.find("mixamorigSpine",!0);i(y),y&&(t("mixamo"),p===xv+"ybot.fbx"&&wh.set(this,"dummy"))});return()=>{m.cancel()}},[this.srcState.get,this.spineNameState.get]);const[o,a]=Ie("idle");this.createEffect(()=>{const h=r();if(!h)return;const m=this.presetState.get()==="rifle"?"rifle-":"",v=this.srcState.get().split("/");v.pop();let y=v.join("/")+"/",x=!1;return(async()=>{const w=await fetch(y+m+"idle.fbx",{method:"HEAD"});if(!x){if(!w.ok)if(h==="readyplayerme")y=xv+"readyplayerme/";else return;super.animations={idle:y+m+"idle.fbx",running:y+m+"running.fbx",runningBackwards:y+m+"running-backwards.fbx",jumping:y+m+"falling.fbx",death:y+"death.fbx",...this.animationsState.get()},this.animation=a()}})(),()=>{x=!0,this.animation=void 0,super.animations={}}},[this.presetState.get,this.srcState.get,r,this.animationsState.get]);const{poseService:u}=this;this.createEffect(()=>{if((this.animation=a())!=="jumping")return;this.velocity.y=this.jumpHeight;const p=Wn(()=>{this.velocity.y===0&&u.send("JUMP_STOP")});return()=>{p.cancel()}},[a]),u.onTransition(h=>h.changed&&o(h.value)).start(),this.then(()=>u.stop());let c;const f=h=>{const p=this.pointAt(1e3),m=this.getWorldPosition(),v=Ane({x:p.x,y:p.z},{x:m.x,y:m.z},h);return ZE(new zu(v.x,p.y,v.y))};this.createEffect(()=>{const h=s();if(!h)return;const p=h.outerObject3d.quaternion.clone(),m=this.loadedGroup.quaternion.clone(),{strideForward:v,strideRight:y,strideMove:x}=this;if(!v&&!y){u.send("RUN_STOP"),this.strideMode==="aim"&&(c=void 0);return}const w=this.strideMode==="aim"?v>0:!1,b=w?-v:v,_=w?-y:y,S=90-Math.atan2(-b,-_)*Ir,M=Lie(()=>{u.send(w?"RUN_BACKWARDS_START":"RUN_START");let C;this.strideMode==="aim"&&(this.loadedGroup.quaternion.copy(m),h.outerObject3d.quaternion.copy(p),C=h.pointAt(1e3));const A=f(S),T=(c!=null?c:f(0)).lerp(A,.1);if(this.loadedGroup.lookAt(T),c=T,C&&h.lookAt(C),!x)return;const{x:R,y:D}=Rne(0,0,S+90,Math.max(Math.abs(v),Math.abs(y)));this.moveForward(w?D:-D),this.moveRight(w?-R:R)});return()=>{M.cancel(),this.strideMode==="aim"&&(h.outerObject3d.quaternion.copy(p),this.loadedGroup.quaternion.copy(m))}},[this.strideMoveState.get,this.strideForwardState.get,this.strideRightState.get,s])}get spineName(){return this.spineNameState.get()}set spineName(t){this.spineNameState.set(t)}get src(){return this.srcState.get()}set src(t){this.srcState.set(t)}get animations(){return super.animations}set animations(t){this.animationsState.set(t)}get preset(){return this.presetState.get()}set preset(t){this.presetState.set(t)}get strideForward(){return this.strideForwardState.get()}set strideForward(t){this.strideForwardState.set(t)}get strideRight(){return this.strideRightState.get()}set strideRight(t){this.strideRightState.set(t)}get strideMove(){return this.strideMoveState.get()}set strideMove(t){this.strideMoveState.set(t)}jump(t=10){this.jumpHeight=t,this.poseService.send("JUMP_START")}}j(c0,"componentName","dummy"),j(c0,"defaults",Rse),j(c0,"schema",Ase);const Dse={...dF,...yx,...oT},Ise={...fF,...xx,...aT},Lse=ic(()=>us(()=>import("./loadSVG.a1952b6c.js"),[])),kse=new WeakMap;class d0 extends dT{constructor(){super(...arguments);j(this,"material",new lc)}dispose(){return this.done?this:(super.dispose(),this.material.dispose(),this)}load(t){return Lse().then(r=>r.default(t))}resolveLoaded(t){const r=new Vr;r.scale.y*=-1;const i=Vo(kse,t,()=>{const o=[];for(const f of t.paths)for(const h of f.toShapes(!0))o.push(h);if(!o.length)return[];const a=new Vr;for(const f of o){const h=new Hl(f,{depth:0,bevelEnabled:!1});h.dispose(),a.add(new Qn(h))}const u=uF(a),c=[];for(const f of o)c.push(new Hl(f,{depth:u.y,bevelEnabled:!1}));return c});for(const o of i){const a=new Qn(o,this.material);r.add(a)}const s=cF(r,this._src);return!this.widthSet&&(this.object3d.scale.x=s.x),!this.heightSet&&(this.object3d.scale.y=s.y),!this.depthSet&&(this.object3d.scale.z=s.z),r}}j(d0,"componentName","svgMesh"),j(d0,"defaults",Ise),j(d0,"schema",Dse);qo(d0,[lT,_x]);const Nse={...aF,resolution:Number,blur:Number,contrast:Number,mirror:Number},Ose={...lF,resolution:512,blur:1024,contrast:1.5,mirror:1};class f0 extends o0{constructor(){super();j(this,"resolutionState",new Cn(512));j(this,"blurState",new Cn(1024));j(this,"contrastState",new Cn(1.5));j(this,"mirrorState",new Cn(1));this.rotationX=-90;const[t,r]=Ie(void 0);us(()=>import("./MeshReflectorMaterial.ad176532.js"),[]).then(i=>t(i.default)),this.createEffect(()=>{if(this.done)return;const i=er(),s=r();if(!s||!i)return;const o=new s(i,tt(),nt,this.object3d,{resolution:this.resolutionState.get(),blur:[this.blurState.get(),this.blurState.get()],mixBlur:2.5,mixContrast:this.contrastState.get(),mirror:this.mirrorState.get()});PB(this.material,o),this.material.dispose(),this.material=this.object3d.material=o;const a=kie(()=>o.update());return()=>{o.dispose(),a.cancel()}},[er,r,tt,this.resolutionState.get,this.blurState.get,this.contrastState.get,this.mirrorState.get])}get resolution(){return this.resolutionState.get()}set resolution(t){this.resolutionState.set(t)}get blur(){return this.blurState.get()}set blur(t){this.blurState.set(t)}get contrast(){return this.contrastState.get()}set contrast(t){this.contrastState.set(t)}get mirror(){return this.mirrorState.get()}set mirror(t){this.mirrorState.set(t)}}j(f0,"componentName","reflector"),j(f0,"defaults",Ose),j(f0,"schema",Nse);new FO;const UI=new Ate;xt(()=>{const n=tt();return n.add(UI),()=>{n.remove(UI)}},[tt]);const[Oae,Bse]=Or(),Fse={...Df},zse={...If},[Bae,HI]=Ie(!0);class h0 extends Pf{constructor(){super(new Vr)}}j(h0,"componentName","group"),j(h0,"defaults",zse),j(h0,"schema",Fse);xt(()=>{const n=HI(),e=Vl();if(!e.length||!n)return;const t=new Vr;nt.add(t);const r=new Rf(t);Qte.add(r),ly(r);const i=[];for(const{outerObject3d:a}of e)!a.parent||(i.push([a,a.parent]),t.attach(a));Ea.setFromObject(t);for(const[a,u]of i)u.attach(a);t.position.copy(Ea.getCenter(Kt));for(const[a]of i)t.attach(a);let s=!1;const o=Bse(()=>{if(!e.length||s)return;s=!0;const a=new h0;a.outerObject3d.position.copy(t.position);for(const u of e)a.attach(u);Oo(a)});return()=>{if(Oo(),!r.done&&!s)for(const[a,u]of i)u.attach(a);ly(void 0),r.dispose(),nt.remove(t),o.cancel()}},[Vl,HI]);const Use={...Tf,texture:[String,Array]},Hse={...Cf,texture:void 0};class p0 extends Ga{constructor(){super(new Vr);j(this,"_texture");Tne(this)}dispose(){return this.done?this:(super.dispose(),Cne(this),this)}get texture(){return this._texture}set texture(t){this._texture=t,KE([...jp()])}}j(p0,"componentName","skybox"),j(p0,"defaults",Hse),j(p0,"schema",Use);const Wse={...Df,...YB,mouseControl:[Boolean,String]},Vse={...If,...ZB,mouseControl:!1},kF={...Wse},NF={...Vse};async function Gse(){const{Sphere:n,Cylinder:e,Vec3:t}=await kB(),{x:r,y:i}=IB(this),s=r*.5,o=i*.5,a=new n(s),u=new n(s),c=new e(s,s,Math.abs(i-r));this.cannonBody.addShape(a,new t(0,-o+s,0)),this.cannonBody.addShape(u,new t(0,o-s,0)),this.cannonBody.addShape(c)}const WI=Math.PI*.5;class OF extends Pf{constructor(t){super(new Vr);j(this,"camera");j(this,"_physicsShape",Gse);j(this,"updatePolarAngle",vs(()=>this.gyrate(0,0),0,"trailing"));j(this,"_minPolarAngle",WE*xn);j(this,"_maxPolarAngle",VE*xn);j(this,"mouseControlMode");j(this,"mouseControlState",new Cn(!1));j(this,"mouseControlInit");this.camera=t,this.object3d.add(t),this.initCamera()}getRay(){return sB.set(this.camera.getWorldPosition(Ol),this.camera.getWorldDirection(Kt))}append(t){this._append(t),this.camera.add(t.outerObject3d)}attach(t){this._append(t),this.camera.attach(t.outerObject3d)}get width(){return this.object3d.scale.x*ln}set width(t){const r=t*yt;this.object3d.scale.x=r,this.camera.scale.x=1/r}get height(){return this.object3d.scale.y*ln}set height(t){const r=t*yt;this.object3d.scale.y=r,this.camera.scale.y=1/r}get depth(){return this.object3d.scale.z*ln}set depth(t){const r=t*yt;this.object3d.scale.z=r,this.camera.scale.z=1/r}_gyrate(t,r,i){const s=i?this.object3d:this.outerObject3d;Wr.setFromQuaternion(s.quaternion),Wr.y-=t*.002,Wr.x-=r*.002,Wr.x=Math.max(WI-this._maxPolarAngle,Math.min(WI-this._minPolarAngle,Wr.x)),s.setRotationFromEuler(Wr),!i&&this.physicsRotate()}gyrate(t,r){this.mouseControlMode==="orbit"?this._gyrate(t,r):(this._gyrate(t,0),this._gyrate(0,r,!0))}get minPolarAngle(){return this._minPolarAngle*Ir}set minPolarAngle(t){this._minPolarAngle=t*xn,this.updatePolarAngle()}get maxPolarAngle(){return this._maxPolarAngle*Ir}set maxPolarAngle(t){this._maxPolarAngle=t*xn,this.updatePolarAngle()}get mouseControl(){return this.mouseControlState.get()}set mouseControl(t){this.mouseControlState.set(t),!(!t||this.mouseControlInit)&&(this.mouseControlInit=!0,us(()=>import("./enableMouseControl.cf32a5b0.js"),[]).then(r=>r.default.call(this)))}}qo(OF,[KB]);class m0 extends OF{constructor(e=new Sr(75,1,hm,pm)){super(e)}}j(m0,"componentName","camera"),j(m0,"defaults",NF),j(m0,"schema",kF);const jse={...kF,target:Object,lockTargetRotation:[Boolean,String]};gx(["target"]);const Xse={...NF,lockTargetRotation:!0,target:void 0},Bv=new WeakSet;class XM extends m0{constructor(){super();j(this,"lockTargetRotation",!0);j(this,"target");j(this,"targetState",new Cn(void 0));j(this,"retarget",vs(()=>{var r;let t;for(const i of(r=this.children)!=null?r:[])if(t)i.outerObject3d.parent!==this.camera&&this.camera[Bv.has(i)?"attach":"add"](i.outerObject3d);else if(wre(i)){t=i;const{parent:s}=this.outerObject3d;s&&i.outerObject3d.parent!==s&&s[Bv.has(t)?"attach":"add"](t.outerObject3d)}this.targetState.set(t)},0,"trailing"));j(this,"_gyroControl");const t=this.camera;nt.attach(t),this.then(()=>nt.remove(t)),this.createEffect(()=>{const o=this.targetState.get();if(!o)return;"frustumCulled"in o&&(o.frustumCulled=!1);const a=Hp(()=>o.parent!==this&&this.retarget());return()=>{a.cancel()}},[this.targetState.get]);const r=(o,a)=>{Wr.setFromQuaternion(o.outerObject3d.quaternion),Wr.y+=Math.PI,a?(yl.setFromEuler(Wr),this.outerObject3d.quaternion.slerp(yl,.1)):this.outerObject3d.setRotationFromEuler(Wr),this.updatePolarAngle()},i=(o,a)=>{Wr.setFromQuaternion(this.outerObject3d.quaternion),Wr.x=0,Wr.z=0,Wr.y+=Math.PI,a?(yl.setFromEuler(Wr),o.outerObject3d.quaternion.slerp(yl,.1)):o.outerObject3d.setRotationFromEuler(Wr)};let s=!1;this.createEffect(()=>{const o=this.targetState.get();if(!o)return;r(o,!1);let a=!1,[u,c,f]=[0,0,0];Wn(()=>{const{x:p,y:m,z:v}=o.outerObject3d.position;a=p!==u||m!==c||v!==f,[u,c,f]=[p,m,v]});const h=Wn(()=>{if(this.outerObject3d.position.copy(o.outerObject3d.position),!!this.lockTargetRotation){if(this.lockTargetRotation==="follow"||s){r(o,!1);return}if(this.lockTargetRotation==="dynamic-lock"){a&&i(o,!0);return}if(this.lockTargetRotation==="dynamic-follow"){a&&r(o,!0);return}i(o,!1)}});return()=>{h.cancel()}},[this.targetState.get]),this.createEffect(()=>{const o=this.targetState.get(),a=Us(),u=Gl(),c=vy();if(!!(o&&o===a&&u&&c==="rotate"))return s=!0,()=>{s=!1}},[this.targetState.get,Us,Gl,vy])}append(t){this._append(t),Bv.delete(t),this.retarget()}attach(t){this._append(t),Bv.add(t),this.retarget()}get gyroControl(){return!!this._gyroControl}set gyroControl(t){if(this._gyroControl===t)return;this._gyroControl=t;const r=Wr,i=yl,s=Pne,o=new $n(-Math.sqrt(.5),0,0,Math.sqrt(.5)),a=this.object3d.getWorldQuaternion(yl).clone(),u=0,c=f=>{var p,m,v;this.object3d.quaternion.copy(a),r.set(((p=f.beta)!=null?p:0)*xn,((m=f.alpha)!=null?m:0)*xn,-((v=f.gamma)!=null?v:0)*xn,"YXZ"),this.object3d.quaternion.multiply(i.setFromEuler(r));const h=-u*.5;s.set(0,Math.sin(h),0,Math.cos(h)),this.object3d.quaternion.multiply(s),this.object3d.quaternion.multiply(o)};t&&window.addEventListener("deviceorientation",c),this.cancelHandle("gyroControl",t&&(()=>new un(()=>window.removeEventListener("deviceorientation",c))))}}j(XM,"defaults",Xse),j(XM,"schema",jse);const[BF,Ay]=Ie([]),Fae=vf(BF,Ay),zae=yf(BF,Ay),qse=new Set,[VI,Kse]=Or();xt(function(){const n=Ay();if(!n.length){const t=Wn(VI);return()=>{t.cancel()}}const e=Wn(()=>{VI();for(const t of qse){t.updateMatrixWorld();const i=t.getWorldDirection(rB),{start:s,end:o}=KD;o.copy(s.copy(t.position)),Ea.makeEmpty(),Ea.expandByPoint(s),Ea.min.addScalar(-.5),Ea.max.addScalar(.5);const a=Kt,u=Ol;let c=0,f=0;for(const m of n)m.shapecast({intersectsBounds:v=>v.intersectsBox(Ea),intersectsTriangle:v=>{c=v.closestPointToSegment(KD,a,u),c<.5&&(f=.5-c,s.addScaledVector(i,f),o.addScaledVector(i,f))}});const h=s.sub(t.position),p=Math.max(0,h.length()-1e-5);h.normalize().multiplyScalar(p),t.position.add(h)}});return()=>{e.cancel()}},[Ay]);class FF extends XM{constructor(){super(),this.innerZ=300,this.mouseControlMode="orbit";const e=this.camera;this.createEffect(()=>{if(this.targetState.get())return;const r=Kse(()=>{e.position.copy(this.object3d.getWorldPosition(Kt)),e.quaternion.copy(this.object3d.getWorldQuaternion(yl))});return()=>{r.cancel()}},[this.targetState.get]),us(()=>import("./enableBVHCamera.116f2021.js"),[]).then(t=>t.default.call(this))}}j(FF,"componentName","thirdPersonCamera");var Yse=()=>{const n=new Nd;return n.texture="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAABjVJREFUaEPtWmvLVUUYXWu2VlaGUGGgZUWl3cvILhqlplYWkWVlfsofkHQhyEjRSCK64Q+wT2kkWpGWl7QIpRvZzUKxgi6SRUEX0yz3XvFsZl7G43vOmTnnmEEdEF/Onj3zrFnPZc0zh+jhRxJzpiOpnPGtxmYt3GoiSQXJMsewTt5pNn9PgBgTYXclDQBQAWg2t7HgSO4zo+J3czahcWzXQCSZUZWkWZLuB2CstJvXwBiDj5FcHOY4ZEDCbkoaImkHgCMzjdlNchjJn7tlpt3OtbQrYmOEpM88kGRGABiQs0h+1S0rvQIyXNI2D8Tcpt28YYwBGUny238LkBM9kEEWvxlA9ngg3/wPxDt/OxdoFyN12pVkjGzt0LXOJPn1oWakLoIeyBcABma61l6Sp5D87pAB8XLEakhZluUCkg/5GlIkpmDLbrYRD5B81Kq8FdJOZUtHrhXn/AhEov19w/qSgqQFRVHM66bSdwqkruZlWT5J8u5IkuTOZ2BqySLpqaIo7unUxXIXNm00wHSSpHslPQ7gLwCmr7Ln8twYENNdA0neR/KJsEYOxVmLB7UqabSk9yNDsubpx8A+NyN5EcnNuco4y4AQG1VVbQQw1u+ksdGLj7Fic21yzo3L1V7JQCI2Jklam5mhUoGGTDaZ5LocVrKBlGW5lOTtPWYjAK1ZkfRcURQzeg4kkuuDJW0HMDSx8KUyEcaFWPme5Okkf0t1sSRGIrl+vqQPc63rZDzJC0h+lJqOU4EEKXKNpFcPUnwEvCFOriW5OtW9UoGE2nGHpGf/ISAzSS5JrSn/OSDBtSZIWu8lievE9xPesQ6MSaCJJDf02rVCp2SYPwkedZCz1u/+5Lijp8Eeq9Kqqt4FcPFBipM60AG855wbk5p6zb6kGPFAQsDPlTTfi0U7SPXyYwLUxOM8kgtSAz0XSHCvk/yxNrXRkAo0FENrSIzKPf4mMxKzUpblIyTn9JiVmg1JC4uieDCHjSxG4jiRdJikjwGM7BGYGgSAbSTPI/lnTnx0AsRSrnWsrXNyoSQLfJPewZBUN4rHhXf3kRxD8gPfD7AOjaXipE+ya0V6y2LjWN8dHCtpHQD7Lvek2HcyBGBxMYnkJknDAfxEck9q6k1mJJ6wqqqVAM4hOYHkl5JGSVpm3/mtMyluGxT+xTsazuj2fziQbSE5neRWSadK2gBgi3Pueu/OdZJpR0tbRhpArABwk1/gmaIoZvm/LffPkXQXgOPaLeqf/0hyEYCF4YKoLMvFJO/0z19wzk1LBdMSSDMQANaTnEpyryTL++ZW1pg4BsB0SVMBnAvgBABHeMP+ALATwCckVwFYRvJX/149h6TDJdmziblgmgJpAeIN71YW8EGDjQAwjqQp4/pjAC2WABztv9rlfb8G7cfMBLDRXyuEuSyTmHtdlQOmXyBx6quqajmAmmIA+4GwOLDWUFmW80nOBbCZpJ0jfmjlXpKGSnoFgHVj6uacv7KzjGgt2EYwK5xzN3vwfdd88RoHAGkA8TKAOugaQQS/9jXlUwCn2e46566ImLrUzt/2sp3zSb4dnlVVtQnA5QA+J3m21Q5vaDNmVjrnbmgGpiUjkoKu2uCcq/02MjJoL4uJ572xt5Bcbr7u4+dqn54NiKXX16Jnt0UgbyW5LGr+9d0QV1VlxwbLkEF/pTHSiFiS+fEqf8/Xt0CIoaqq1gCYDGA7SUvLVpUDyPHe3w2IGfN69GyQv647GcBa59yUOC6jDRsCwBJLHX/NKn5y1mpYJAhIa0Zs9gehuSQfbvD1/oBYqg6xFTSbdeFHNzYb+luzWeyl1JED2v1hV8uyfJrkbAC7vJ/XFzbeUAvaZkAsqO1K+wyv2SztLiqKYnajWIyvL1olkLZAGl+OpIqdFrcAsKvpJUVRzIzcIQRsv0B8ZqrHVFX1IoAbAfziNyP5VNgya7VC3RDsl0l6CcDxJK8k+WYnQCRd54vgTpLTSL6Vo7GCvdmMxAEnaTCA8QBWh/TZALa/rLXfb1Yk2Y8MpgBYQ3J3rnzvCkir7NEA5BJJS31qnkHynVZdkU5B1PO3c6U2Fdrer+8R+xsXAtU/a3o/2O39YddAutmEXr/bFSMpxoQfo3V6W5uyho35G4LD428xBkRwAAAAAElFTkSuQmCC",go.delete(n),n.scale=.5,n};class zF extends Pf{constructor(e,t){super(e),this.createEffect(()=>{if(tt()!==Er)return;const r=new un,i=Yse();if(r.watch($E(({target:s})=>{s===i&&Oo(this)})),t){const s=new t(this.object3d);nt.add(s),s.add(i.outerObject3d),"update"in s&&r.watch(Wn(()=>{s.update()})),r.then(()=>{s.dispose(),nt.remove(s)})}else this.outerObject3d.add(i.outerObject3d);return()=>{i.dispose(),r.cancel()}},[tt])}dispose(){return this.done?this:(super.dispose(),this.object3d.dispose(),this)}get color(){return"#"+this.object3d.color.getHexString()}set color(e){this.object3d.color=new De(e)}get intensity(){return this.object3d.intensity}set intensity(e){this.object3d.intensity=e}}const UF={...Df,color:String,intensity:Number},HF={...If,color:"#ffffff",intensity:1};ic(async()=>{const{RectAreaLightUniformsLib:n}=await us(()=>import("./RectAreaLightUniformsLib.8ecea551.js"),[]);n.init()});const Zse={...UF,decay:Number,distance:Number},Jse={...HF,decay:1,distance:0};class WF{get decay(){return this.object3d.decay}set decay(e){this.object3d.decay=e}get distance(){return this.object3d.distance}set distance(e){this.object3d.distance=e}}class g0 extends zF{constructor(){super(new LO,Gte)}}j(g0,"componentName","pointLight"),j(g0,"defaults",Jse),j(g0,"schema",Zse);qo(g0,[WF]);const Qse={...UF,angle:Number,penumbra:Number},$se={...HF,angle:1,penumbra:0};class v0 extends zF{constructor(){super(new DO,Vte)}get angle(){return this.object3d.angle}set angle(e){this.object3d.angle=e}get penumbra(){return this.object3d.penumbra}set penumbra(e){this.object3d.penumbra=e}}j(v0,"componentName","spotLight"),j(v0,"defaults",$se),j(v0,"schema",Qse);qo(v0,[WF]);const eoe={...Tf,onKeyPress:Function,onKeyUp:Function,onKeyDown:Function},toe={...Cf,onKeyPress:void 0,onKeyUp:void 0,onKeyDown:void 0},[Uae,GI]=Ie(!0),[noe,roe]=Or(),[jI,ioe]=Or(),[XI,soe]=Or(),rs=new Set,qI=n=>(n=n.length===1?n.toLowerCase():n,n===" "&&(n="Space"),n);xt(()=>{if(nf()&&GI())return;const n=Wn(()=>rs.size>0&&XI()),e=r=>{const i=qI(r.key);rs.add(i),noe(i)},t=r=>{const i=qI(r.key);rs.delete(i),jI(i),!rs.size&&XI()};return n.watch(fT(()=>{if(!rs.size)return;const r=[...rs];rs.clear();for(const i of r)jI(i)})),document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{n.cancel(),document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[nf,GI]);class y0 extends Ga{constructor(){super(new Vr);j(this,"onKeyPress");j(this,"onKeyUp");j(this,"onKeyDown");this.watch(soe(()=>{if(!!this.onKeyPress){if(!rs.size){this.onKeyPress("",rs);return}for(const t of rs)this.onKeyPress(t,rs)}})),this.watch(ioe(t=>{var r;return(r=this.onKeyUp)==null?void 0:r.call(this,t,rs)})),this.watch(roe(t=>{var r;return(r=this.onKeyDown)==null?void 0:r.call(this,t,rs)}))}}j(y0,"componentName","keyboard"),j(y0,"defaults",toe),j(y0,"schema",eoe);const VF=new y0;go.delete(VF);"getGamepads"in navigator&&Wn(()=>{for(const n of navigator.getGamepads())if(!!n){for(let e=0;e<n.buttons.length;e++){const t=n.buttons[e],r=Math.round(t.value*100)+"%";t.pressed&&console.log(e,t.value,t.pressed,r)}for(let e=0;e<n.axes.length;e++){const t=Number(n.axes[e].toFixed(2));t!==0&&console.log(e,t)}}});const[ooe,aoe]=Ie(0),qM=new p0;go.delete(qM);var Jp={get performance(){return Xp()},set performance(n){Lne(n)},get defaultFog(){return dM()},set defaultFog(n){bne(n)},get defaultLight(){return Gp()},set defaultLight(n){xne(n)},get defaultLightScale(){return cy()},set defaultLightScale(n){_ne(n)},get skybox(){return qM.texture},set skybox(n){qM.texture=n},get defaultOrbitControls(){return Qu()},set defaultOrbitControls(n){jre(n)},get gridHelper(){return LM()},set gridHelper(n){die(n)},get gridHelperSize(){return kM()},set gridHelperSize(n){fie(n)},get gravity(){return LB()},set gravity(n){Ere(n)},get repulsion(){return aoe()},set repulsion(n){ooe(n)},get autoMount(){return gM()},set autoMount(n){One(n)},get pixelRatio(){return Ju()},set pixelRatio(n){kne(n)},get logarithmicDepth(){return uM()},set logarithmicDepth(n){une(n)},get exposure(){return r0()},set exposure(n){Ine(n)},get pbr(){return pM()},set pbr(n){Nne(n)},get bloom(){return NM()},set bloom(n){yie(n)},get bloomStrength(){return $B()},set bloomStrength(n){bie(n)},get bloomRadius(){return QB()},set bloomRadius(n){_ie(n)},get bloomThreshold(){return eF()},set bloomThreshold(n){wie(n)},get ambientOcclusion(){return xy()},set ambientOcclusion(n){xie(n)},get outlineColor(){return TM()},set outlineColor(n){sre(n)},get outlineHiddenColor(){return CM()},set outlineHiddenColor(n){ore(n)},get outlinePattern(){return AM()},set outlinePattern(n){are(n)},get outlinePulse(){return SB()},set outlinePulse(n){lre(n)},get outlineStrength(){return MB()},set outlineStrength(n){ure(n)},get outlineThickness(){return EB()},set outlineThickness(n){cre(n)},get lensDistortion(){return OM()},set lensDistortion(n){Die(n)},get lensIor(){return rF()},set lensIor(n){Rie(n)},get lensBand(){return iF()},set lensBand(n){Pie(n)},get texture(){return fM()},set texture(n){Ene(n)},get color(){return Vp()},set color(n){lne(n)}};const GF=new Map,loe=n=>{var e,t;return GF.get((t=(e=AN(n)[1])===null||e===void 0?void 0:e.toLowerCase())!==null&&t!==void 0?t:"")},xm=(n,e)=>{for(const t of e)GF.set(t,n);return e};xm("image",["jpg","jpeg","gif","png","svg","tiff","webp","hdr"]);xm("audio",["m4a","mp3","wav","wma","ogg","flax","flac","aac"]);xm("plainText",["ls","js","ts","jsx","tsx","py","txt","md","json","yaml","c","cpp","h","hpp","css","scss","sass","html"]);xm("model",["gltf","glb","fbx"]);xm("scene",["l3d"]);const uoe=new Map;var coe=n=>Vo(uoe,n,()=>new Promise(e=>{const t=ni(n,()=>e(t))})),doe=async(n,e,t)=>{var o;const r=[];for(const a of n){const u=loe(a);if(!!u)switch(u){case"image":r.push(coe(a));break;case"model":const c=(o=AN(a)[1])==null?void 0:o.toLowerCase();c==="fbx"?r.push((await mF()).default(a,!1)):(c==="gltf"||c==="glb")&&r.push((await gF()).default(a,!1));break;case"audio":case"plainText":case"scene":break;default:CN(u)}}let i=0;if(typeof e=="number")i=e;else if(e=e.toLowerCase(),e.endsWith("kb"))i=parseFloat(e)*1024*1024;else if(e.endsWith("mb"))i=parseFloat(e)*1024*1024*1024;else if(e.endsWith("gb"))i=parseFloat(e)*1024*1024*1024*1024;else throw new Error("invalid preload total value: "+e);const s=setInterval(()=>{t==null||t(i<=0?0:Math.min(pne[0]/i*100,99))},100);await Promise.all(r),clearInterval(s),await new Promise(a=>{const u=new un;u.watch(qE(c=>{c>0||(u.cancel(),a())}))}),t==null||t(100)};const[foe,Hae]=Or(),hoe={...Jp};var KI=vs(n=>{var e;for(const t of Object.keys(Jp))t!=="autoMount"&&(Jp[t]=(e=n[t])!=null?e:hoe[t]);foe()},0,"trailing");const[Wae,Vae]=Ie("https://unpkg.com/lingo3d-wasm@1.0.0/assets/"),poe=n=>(L.exports.useLayoutEffect(()=>(KI(n),()=>{KI({})}),[JSON.stringify(n)]),null);var jF=poe;const XF=document.createElement("div");Object.assign(XF.style,{position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",pointerEvents:"none",userSelect:"none"});var moe=XF,Ax={exports:{}},Rx={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var goe=L.exports,voe=Symbol.for("react.element"),yoe=Symbol.for("react.fragment"),xoe=Object.prototype.hasOwnProperty,_oe=goe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,boe={key:!0,ref:!0,__self:!0,__source:!0};function qF(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xoe.call(e,r)&&!boe.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:voe,type:n,key:s,ref:o,props:i,_owner:_oe.current}}Rx.Fragment=yoe;Rx.jsx=qF;Rx.jsxs=qF;Ax.exports=Rx;const Ni=Ax.exports.jsx,Od=Ax.exports.jsxs,KF=Ax.exports.Fragment,woe=({style:n,className:e,position:t,children:r,...i})=>{const s=L.exports.useRef(null);return L.exports.useLayoutEffect(()=>{const o=s.current;if(!!o)return o.appendChild(moe),Jp.autoMount=o,()=>{Jp.autoMount=!1}},[]),Od(KF,{children:[Ni(jF,{...i}),Od("div",{style:{width:"100%",height:"100%",position:t!=null?t:"absolute",top:0,left:0,display:"flex",...n},children:[Ni("div",{style:{height:"100%"},children:r}),Ni("div",{ref:s,style:{height:"100%",flexGrow:1,position:"relative",overflow:"hidden"}})]})]})};var Soe=woe,Moe=(n,e)=>{const t=L.exports.useRef({}),r=[],i=[];if(e)return[r,i];const s=t.current;for(const[o,a]of Object.entries(n)){if(o==="children")continue;const u=s[o];u!==a&&(a&&typeof a=="object"?JSON.stringify(a)!==JSON.stringify(u)&&r.push([o,a]):r.push([o,a]))}for(const o of Object.keys(s))!(o in n)&&i.push(o);return t.current=n,[r,i]};const Eoe=console.log;let KM=[];const Toe=()=>KM=[],Coe=parseFloat(Wo.version)>17,Bw=new WeakSet;let YI=!1;var Aoe=(n,e,t)=>{if(Coe){const i=L.exports.useMemo(n,[]),[s]=L.exports.useState(()=>{const o={};return queueMicrotask(()=>{Bw.has(o)||(YI=!0,e==null||e(i))}),o});return L.exports.useLayoutEffect(()=>Bw.has(s)?()=>{e==null||e(i),t==null||t(i)}:(Bw.add(s),()=>{queueMicrotask(()=>{YI||(e==null||e(i),t==null||t(i))})}),[]),i}const[r]=L.exports.useState(()=>{if(Eoe===console.log){queueMicrotask(Toe);const i=n();return KM.push(i),i}return KM.shift()});return L.exports.useLayoutEffect(()=>()=>{e==null||e(r),t==null||t(r)},[]),r},YF=function(){if(typeof Map!="undefined")return Map;function n(e,t){var r=-1;return e.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(r,o[1],o[0])}},e}()}(),YM=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Ry=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),Roe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ry):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),Poe=2;function Doe(n,e){var t=!1,r=!1,i=0;function s(){t&&(t=!1,n()),r&&a()}function o(){Roe(s)}function a(){var u=Date.now();if(t){if(u-i<Poe)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=u}return a}var Ioe=20,Loe=["top","right","bottom","left","width","height","size","weight"],koe=typeof MutationObserver!="undefined",Noe=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Doe(this.refresh.bind(this),Ioe)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!YM||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),koe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!YM||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=Loe.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),ZF=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},uf=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Ry},JF=Px(0,0,0,0);function Py(n){return parseFloat(n)||0}function ZI(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+Py(s)},0)}function Ooe(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var s=i[r],o=n["padding-"+s];t[s]=Py(o)}return t}function Boe(n){var e=n.getBBox();return Px(0,0,e.width,e.height)}function Foe(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return JF;var r=uf(n).getComputedStyle(n),i=Ooe(r),s=i.left+i.right,o=i.top+i.bottom,a=Py(r.width),u=Py(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=ZI(r,"left","right")+s),Math.round(u+o)!==t&&(u-=ZI(r,"top","bottom")+o)),!Uoe(n)){var c=Math.round(a+s)-e,f=Math.round(u+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(f)!==1&&(u-=f)}return Px(i.left,i.top,a,u)}var zoe=function(){return typeof SVGGraphicsElement!="undefined"?function(n){return n instanceof uf(n).SVGGraphicsElement}:function(n){return n instanceof uf(n).SVGElement&&typeof n.getBBox=="function"}}();function Uoe(n){return n===uf(n).document.documentElement}function Hoe(n){return YM?zoe(n)?Boe(n):Foe(n):JF}function Woe(n){var e=n.x,t=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return ZF(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function Px(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Voe=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Px(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Hoe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Goe=function(){function n(e,t){var r=Woe(t);ZF(this,{target:e,contentRect:r})}return n}(),joe=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new YF,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof uf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Voe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof uf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(e)||(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new Goe(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),QF=typeof WeakMap!="undefined"?new WeakMap:new YF,$F=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Noe.getInstance(),r=new joe(e,t,this);QF.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){$F.prototype[n]=function(){var e;return(e=QF.get(this))[n].apply(e,arguments)}});(function(){return typeof Ry.ResizeObserver!="undefined"?Ry.ResizeObserver:$F})();(function(){if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}function n(_){try{return _.defaultView&&_.defaultView.frameElement||null}catch{return null}}var e=function(_){for(var S=_,M=n(S);M;)S=M.ownerDocument,M=n(S);return S}(window.document),t=[],r=null,i=null;function s(_){this.time=_.time,this.target=_.target,this.rootBounds=v(_.rootBounds),this.boundingClientRect=v(_.boundingClientRect),this.intersectionRect=v(_.intersectionRect||m()),this.isIntersecting=!!_.intersectionRect;var S=this.boundingClientRect,M=S.width*S.height,C=this.intersectionRect,A=C.width*C.height;M?this.intersectionRatio=Number((A/M).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function o(_,S){var M=S||{};if(typeof _!="function")throw new Error("callback must be a function");if(M.root&&M.root.nodeType!=1&&M.root.nodeType!=9)throw new Error("root must be a Document or Element");this._checkForIntersections=u(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=_,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(M.rootMargin),this.thresholds=this._initThresholds(M.threshold),this.root=M.root||null,this.rootMargin=this._rootMarginValues.map(function(C){return C.value+C.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o._setupCrossOriginUpdater=function(){return r||(r=function(_,S){!_||!S?i=m():i=y(_,S),t.forEach(function(M){M._checkForIntersections()})}),r},o._resetCrossOriginUpdater=function(){r=null,i=null},o.prototype.observe=function(_){var S=this._observationTargets.some(function(M){return M.element==_});if(!S){if(!(_&&_.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:_,entry:null}),this._monitorIntersections(_.ownerDocument),this._checkForIntersections()}},o.prototype.unobserve=function(_){this._observationTargets=this._observationTargets.filter(function(S){return S.element!=_}),this._unmonitorIntersections(_.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var _=this._queuedEntries.slice();return this._queuedEntries=[],_},o.prototype._initThresholds=function(_){var S=_||[0];return Array.isArray(S)||(S=[S]),S.sort().filter(function(M,C,A){if(typeof M!="number"||isNaN(M)||M<0||M>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return M!==A[C-1]})},o.prototype._parseRootMargin=function(_){var S=_||"0px",M=S.split(/\s+/).map(function(C){var A=/^(-?\d*\.?\d+)(px|%)$/.exec(C);if(!A)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(A[1]),unit:A[2]}});return M[1]=M[1]||M[0],M[2]=M[2]||M[0],M[3]=M[3]||M[1],M},o.prototype._monitorIntersections=function(_){var S=_.defaultView;if(!!S&&this._monitoringDocuments.indexOf(_)==-1){var M=this._checkForIntersections,C=null,A=null;this.POLL_INTERVAL?C=S.setInterval(M,this.POLL_INTERVAL):(c(S,"resize",M,!0),c(_,"scroll",M,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in S&&(A=new S.MutationObserver(M),A.observe(_,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(_),this._monitoringUnsubscribes.push(function(){var D=_.defaultView;D&&(C&&D.clearInterval(C),f(D,"resize",M,!0)),f(_,"scroll",M,!0),A&&A.disconnect()});var T=this.root&&(this.root.ownerDocument||this.root)||e;if(_!=T){var R=n(_);R&&this._monitorIntersections(R.ownerDocument)}}},o.prototype._unmonitorIntersections=function(_){var S=this._monitoringDocuments.indexOf(_);if(S!=-1){var M=this.root&&(this.root.ownerDocument||this.root)||e,C=this._observationTargets.some(function(R){var D=R.element.ownerDocument;if(D==_)return!0;for(;D&&D!=M;){var O=n(D);if(D=O&&O.ownerDocument,D==_)return!0}return!1});if(!C){var A=this._monitoringUnsubscribes[S];if(this._monitoringDocuments.splice(S,1),this._monitoringUnsubscribes.splice(S,1),A(),_!=M){var T=n(_);T&&this._unmonitorIntersections(T.ownerDocument)}}}},o.prototype._unmonitorAllIntersections=function(){var _=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var S=0;S<_.length;S++)_[S]()},o.prototype._checkForIntersections=function(){if(!(!this.root&&r&&!i)){var _=this._rootIsInDom(),S=_?this._getRootRect():m();this._observationTargets.forEach(function(M){var C=M.element,A=p(C),T=this._rootContainsTarget(C),R=M.entry,D=_&&T&&this._computeTargetAndRootIntersection(C,A,S),O=null;this._rootContainsTarget(C)?(!r||this.root)&&(O=S):O=m();var Y=M.entry=new s({time:a(),target:C,boundingClientRect:A,rootBounds:O,intersectionRect:D});R?_&&T?this._hasCrossedThreshold(R,Y)&&this._queuedEntries.push(Y):R&&R.isIntersecting&&this._queuedEntries.push(Y):this._queuedEntries.push(Y)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},o.prototype._computeTargetAndRootIntersection=function(_,S,M){if(window.getComputedStyle(_).display!="none"){for(var C=S,A=w(_),T=!1;!T&&A;){var R=null,D=A.nodeType==1?window.getComputedStyle(A):{};if(D.display=="none")return null;if(A==this.root||A.nodeType==9)if(T=!0,A==this.root||A==e)r&&!this.root?!i||i.width==0&&i.height==0?(A=null,R=null,C=null):R=i:R=M;else{var O=w(A),Y=O&&p(O),ie=O&&this._computeTargetAndRootIntersection(O,Y,M);Y&&ie?(A=O,R=y(Y,ie)):(A=null,C=null)}else{var U=A.ownerDocument;A!=U.body&&A!=U.documentElement&&D.overflow!="visible"&&(R=p(A))}if(R&&(C=h(R,C)),!C)break;A=A&&w(A)}return C}},o.prototype._getRootRect=function(){var _;if(this.root&&!b(this.root))_=p(this.root);else{var S=b(this.root)?this.root:e,M=S.documentElement,C=S.body;_={top:0,left:0,right:M.clientWidth||C.clientWidth,width:M.clientWidth||C.clientWidth,bottom:M.clientHeight||C.clientHeight,height:M.clientHeight||C.clientHeight}}return this._expandRectByRootMargin(_)},o.prototype._expandRectByRootMargin=function(_){var S=this._rootMarginValues.map(function(C,A){return C.unit=="px"?C.value:C.value*(A%2?_.width:_.height)/100}),M={top:_.top-S[0],right:_.right+S[1],bottom:_.bottom+S[2],left:_.left-S[3]};return M.width=M.right-M.left,M.height=M.bottom-M.top,M},o.prototype._hasCrossedThreshold=function(_,S){var M=_&&_.isIntersecting?_.intersectionRatio||0:-1,C=S.isIntersecting?S.intersectionRatio||0:-1;if(M!==C)for(var A=0;A<this.thresholds.length;A++){var T=this.thresholds[A];if(T==M||T==C||T<M!=T<C)return!0}},o.prototype._rootIsInDom=function(){return!this.root||x(e,this.root)},o.prototype._rootContainsTarget=function(_){var S=this.root&&(this.root.ownerDocument||this.root)||e;return x(S,_)&&(!this.root||S==_.ownerDocument)},o.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},o.prototype._unregisterInstance=function(){var _=t.indexOf(this);_!=-1&&t.splice(_,1)};function a(){return window.performance&&performance.now&&performance.now()}function u(_,S){var M=null;return function(){M||(M=setTimeout(function(){_(),M=null},S))}}function c(_,S,M,C){typeof _.addEventListener=="function"?_.addEventListener(S,M,C||!1):typeof _.attachEvent=="function"&&_.attachEvent("on"+S,M)}function f(_,S,M,C){typeof _.removeEventListener=="function"?_.removeEventListener(S,M,C||!1):typeof _.detachEvent=="function"&&_.detachEvent("on"+S,M)}function h(_,S){var M=Math.max(_.top,S.top),C=Math.min(_.bottom,S.bottom),A=Math.max(_.left,S.left),T=Math.min(_.right,S.right),R=T-A,D=C-M;return R>=0&&D>=0&&{top:M,bottom:C,left:A,right:T,width:R,height:D}||null}function p(_){var S;try{S=_.getBoundingClientRect()}catch{}return S?(S.width&&S.height||(S={top:S.top,right:S.right,bottom:S.bottom,left:S.left,width:S.right-S.left,height:S.bottom-S.top}),S):m()}function m(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function v(_){return!_||"x"in _?_:{top:_.top,y:_.top,bottom:_.bottom,left:_.left,x:_.left,right:_.right,width:_.width,height:_.height}}function y(_,S){var M=S.top-_.top,C=S.left-_.left;return{top:M,left:C,height:S.height,width:S.width,bottom:M+S.height,right:C+S.width}}function x(_,S){for(var M=S;M;){if(M==_)return!0;M=w(M)}return!1}function w(_){var S=_.parentNode;return _.nodeType==9&&_!=e?n(_):(S&&S.assignedSlot&&(S=S.assignedSlot.parentNode),S&&S.nodeType==11&&S.host?S.host:S)}function b(_){return _&&_.nodeType===9}window.IntersectionObserver=o,window.IntersectionObserverEntry=s})();const _m=Wo.createContext(void 0),ez=new WeakMap,Xoe=()=>new Map,qoe=new WeakMap,Koe=(n,e,t)=>{var r,i;const s=Vo(ez,n,Xoe);for(const[a,u]of e){if((r=s.get(a))===null||r===void 0||r.cancel(),u instanceof Cn){s.set(a,u.get(c=>n[a]=c));continue}n[a]=u}if(!t.length)return;const o=Vo(qoe,n.constructor.defaults,()=>{const a={};for(const[u,c]of Object.entries(n.constructor.defaults))a[u]=Array.isArray(c)?c[0]:c;return a});for(const a of t)(i=s.get(a))===null||i===void 0||i.cancel(),n[a]=o[a]},Fw=new WeakSet;var Dx=(n,e,t)=>{const{children:r,...i}=n,s=L.exports.useContext(_m),o=Aoe(()=>{const c=new t;return s&&(s.append(c),Fw.add(c)),c},c=>{const f=ez.get(c);if(f)for(const h of f.values())h.cancel();c.dispose()});L.exports.useLayoutEffect(()=>{!s||Fw.has(o)||(s.append(o),Fw.add(o))},[s]);const[a,u]=Moe(i);return Koe(o,a,u),L.exports.useLayoutEffect(()=>{!e||(typeof e=="function"?e(o):e.current=o)},[e]),o};const Yoe=Wo.forwardRef((n,e)=>{const t=Dx(n,e,Qh);return Wo.createElement(_m.Provider,{value:t},n.children)});var Zoe=Yoe;const Joe=Wo.forwardRef((n,e)=>{const t=Dx(n,e,c0);return Wo.createElement(_m.Provider,{value:t},n.children)});var Qoe=Joe;const $oe=Wo.forwardRef((n,e)=>{const t=Dx(n,e,f0);return Wo.createElement(_m.Provider,{value:t},n.children)});var eae=$oe;const tae=Wo.forwardRef((n,e)=>{const t=Dx(n,e,FF);return Wo.createElement(_m.Provider,{value:t},n.children)});var nae=tae,rae=(n,e)=>{const t=L.exports.useRef(n),r=L.exports.useRef(),i=L.exports.useRef();L.exports.useLayoutEffect(()=>{var s;let o=!1;if(!r.current)o=!0;else for(let a=0;a<r.current.length;a++)r.current[a]!==e[a]&&(o=!0);r.current=e,o&&((s=i.current)===null||s===void 0||s.call(i),i.current=t.current())})},iae=(n,e)=>{const[t,r]=L.exports.useState(0);return rae(()=>{doe(n,e,i=>r(i)).then(()=>r(100))},[]),t},sae=()=>{const[n,e]=L.exports.useState({width:window.innerWidth,height:window.innerHeight});return L.exports.useLayoutEffect(()=>{const t=()=>e({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),n};const oae=()=>{const n=L.exports.useRef(null),{width:e}=sae(),[t,r]=L.exports.useState("aim"),[i,s]=L.exports.useState("lock"),o={dropdown:{width:300}};return L.exports.useEffect(()=>{const a=n.current;!a||(VF.onKeyPress=(u,c)=>{c.has("w")?a.strideForward=-10:c.has("s")?a.strideForward=10:a.strideForward=0,c.has("a")?a.strideRight=10:c.has("d")?a.strideRight=-10:a.strideRight=0})},[]),Od(KF,{children:[Od(Soe,{children:[Ni(Zoe,{physics:"map",bloom:!0,width:245.36,depth:245.36,scaleX:20,scaleY:20,scaleZ:20,src:"scene.glb"}),Ni(nae,{active:!0,mouseControl:"drag",fov:e<640?110:90,lockTargetRotation:i,children:Ni(Qoe,{physics:"character",ref:n,metalnessFactor:.5,roughnessFactor:.5,bloom:!0,y:44.58,strideMove:!0,strideMode:t})}),Ni(eae,{y:-39.38,scaleX:113.2,scaleY:113.2,rotationX:-90,contrast:1}),Ni(jF,{defaultFog:"white",defaultLight:"env1.jpg",bloomStrength:1,bloomThreshold:.5})]}),Od("div",{className:"absolute  backdrop-blur-xl -mt-10 px-4 top-10",children:[Ni("div",{className:"h-2"}),Ni(GS,{placeholder:"Select an option",label:"Camera lockTargetRotation \u76F8\u673A\u9501\u5B9A\u76EE\u6807\u65CB\u8F6C",options:[{key:"false",text:"false \u4E0D\u9501\u5B9A"},{key:"lock",text:"lock \u9501\u5B9A"},{key:"dynamic-lock",text:"dynamic-lock \u52A8\u6001\u9501\u5B9A"}],styles:o,onChange:(a,u)=>{!u||(u.key==="false"?s(!1):s(u.key))},defaultSelectedKey:"lock"}),Ni("div",{className:"h-4"}),Ni(GS,{placeholder:"Select an option",label:"Dummy strideMode \u89D2\u8272\u6B65\u4F10\u6A21\u5F0F",options:[{key:"aim",text:"aim \u7784\u51C6\u6A21\u5F0F"},{key:"free",text:"free \u81EA\u7531\u6A21\u5F0F"}],styles:o,onChange:(a,u)=>{!u||r(u.key)},defaultSelectedKey:"aim"})]})]})},aae=()=>{const n=iae(["scene.glb"],"1.2mb");return n<100?Od("div",{className:"w-screen h-screen absolute left-0 top-0 text-white bg-black flex items-center justify-center",children:["loaded: ",Math.round(n),"%"]}):Ni(oae,{})},lae=ok(document.getElementById("root"));lae.render(Ni(aae,{}));export{uy as $,NO as A,ac as B,ux as C,zl as D,$l as E,Rt as F,Vr as G,sO as H,oO as I,_te as J,Jn as K,Wa as L,Ye as M,oM as N,en as O,um as P,$n as Q,Wte as R,fx as S,LE as T,jN as U,B as V,ay as W,dm as X,Up as Y,Vo as Z,$O as _,Fa as a,LB as a$,jo as a0,tB as a1,Sae as a2,yO as a3,ae as a4,lc as a5,sc as a6,Wl as a7,Ft as a8,Yn as a9,fae as aA,Ie as aB,tt as aC,yae as aD,si as aE,lr as aF,Ue as aG,bE as aH,Is as aI,co as aJ,zN as aK,gv as aL,No as aM,nt as aN,kB as aO,Are as aP,Fae as aQ,zae as aR,oB as aS,ba as aT,UO as aU,hr as aV,ks as aW,Af as aX,Kp as aY,xt as aZ,Ay as a_,iP as aa,oY as ab,sP as ac,am as ad,ZS as ae,ny as af,ty as ag,Mte as ah,cm as ai,Op as aj,ar as ak,SE as al,Cr as am,cae as an,dae as ao,Zu as ap,Dee as aq,Iee as ar,Pp as as,Gi as at,xf as au,Vae as av,Da as aw,fm as ax,Nl as ay,oy as az,Gt as b,aoe as b0,nf as b1,Wn as b2,uI as b3,Ea as b4,rB as b5,KD as b6,Kt as b7,Ol as b8,IB as b9,qse as ba,Kse as bb,yl as bc,tx as bd,Ht as be,Ku as bf,Dt as bg,UE as bh,$t as bi,xE as bj,MY as bk,Ql as bl,ix as bm,Bu as bn,Yu as bo,Qn as c,PE as d,wE as e,hn as f,zs as g,Va as h,wte as i,EO as j,AO as k,Ip as l,is as m,gr as n,xO as o,_O as p,De as q,Dp as r,Dn as s,_E as t,Jt as u,_f as v,Sr as w,LO as x,qb as y,DO as z};
